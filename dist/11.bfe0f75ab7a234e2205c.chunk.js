webpackJsonp([11],{1051:function(t,e,n){(function(r){var i,a;(function(r,o){i=[n(23)],void 0!==(a=function(t){return o(t)}.apply(e,i))&&(t.exports=a)})(0,function(t){var e=function(t,e){var n,r=document.createElement("canvas");t.appendChild(r),"object"==typeof G_vmlCanvasManager&&G_vmlCanvasManager.initElement(r);var i=r.getContext("2d");r.width=r.height=e.size;var a=1;window.devicePixelRatio>1&&(a=window.devicePixelRatio,r.style.width=r.style.height=[e.size,"px"].join(""),r.width=r.height=e.size*a,i.scale(a,a)),i.translate(e.size/2,e.size/2),i.rotate((e.rotate/180-.5)*Math.PI);var o=(e.size-e.lineWidth)/2;e.scaleColor&&e.scaleLength&&(o-=e.scaleLength+2),Date.now=Date.now||function(){return+new Date};var s=function(t,e,n){n=Math.min(Math.max(-1,n||0),1);var r=n<=0;i.beginPath(),i.arc(0,0,o,0,2*Math.PI*n,r),i.strokeStyle=t,i.lineWidth=e,i.stroke()},l=function(){var t,n;i.lineWidth=1,i.fillStyle=e.scaleColor,i.save();for(var r=24;r>0;--r)r%6==0?(n=e.scaleLength,t=0):(n=.6*e.scaleLength,t=e.scaleLength-n),i.fillRect(-e.size/2+t,0,n,1),i.rotate(Math.PI/12);i.restore()},c=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}(),u=function(){e.scaleColor&&l(),e.trackColor&&s(e.trackColor,e.trackWidth||e.lineWidth,1)};this.getCanvas=function(){return r},this.getCtx=function(){return i},this.clear=function(){i.clearRect(e.size/-2,e.size/-2,e.size,e.size)},this.draw=function(t){e.scaleColor||e.trackColor?i.getImageData&&i.putImageData?n?i.putImageData(n,0,0):(u(),n=i.getImageData(0,0,e.size*a,e.size*a)):(this.clear(),u()):this.clear(),i.lineCap=e.lineCap;var r;r="function"==typeof e.barColor?e.barColor(t):e.barColor,s(r,e.lineWidth,t/100)}.bind(this),this.animate=function(t,n){var r=Date.now();e.onStart(t,n);var i=function(){var a=Math.min(Date.now()-r,e.animate.duration),o=e.easing(this,a,t,n-t,e.animate.duration);this.draw(o),e.onStep(t,n,o),a>=e.animate.duration?e.onStop(t,n):c(i)}.bind(this);c(i)}.bind(this)},n=function(t,n){var i={barColor:"#ef1e25",trackColor:"#f9f9f9",scaleColor:"#dfe0e0",scaleLength:5,lineCap:"round",lineWidth:3,trackWidth:void 0,size:110,rotate:0,animate:{duration:1e3,enabled:!0},easing:function(t,e,n,r,i){return e/=i/2,e<1?r/2*e*e+n:-r/2*(--e*(e-2)-1)+n},onStart:function(t,e){},onStep:function(t,e,n){},onStop:function(t,e){}};if(void 0!==e)i.renderer=e;else{if("undefined"==typeof SVGRenderer)throw new Error("Please load either the SVG- or the CanvasRenderer");i.renderer=SVGRenderer}var a={},o=0,s=function(){this.el=t,this.options=a;for(var e in i)i.hasOwnProperty(e)&&(a[e]=n&&void 0!==n[e]?n[e]:i[e],"function"==typeof a[e]&&(a[e]=a[e].bind(this)));"string"==typeof a.easing&&void 0!==r&&r.isFunction(r.easing[a.easing])?a.easing=r.easing[a.easing]:a.easing=i.easing,"number"==typeof a.animate&&(a.animate={duration:a.animate,enabled:!0}),"boolean"!=typeof a.animate||a.animate||(a.animate={duration:1e3,enabled:a.animate}),this.renderer=new a.renderer(t,a),this.renderer.draw(o),t.dataset&&t.dataset.percent?this.update(parseFloat(t.dataset.percent)):t.getAttribute&&t.getAttribute("data-percent")&&this.update(parseFloat(t.getAttribute("data-percent")))}.bind(this);this.update=function(t){return t=parseFloat(t),a.animate.enabled?this.renderer.animate(o,t):this.renderer.draw(t),o=t,this}.bind(this),this.disableAnimation=function(){return a.animate.enabled=!1,this},this.enableAnimation=function(){return a.animate.enabled=!0,this},s()};t.fn.easyPieChart=function(e){return this.each(function(){var r;t.data(this,"easyPieChart")||(r=t.extend({},e,t(this).data()),t.data(this,"easyPieChart",new n(this,r)))})}})}).call(e,n(23))},1069:function(t,e,n){(function(t,e){(function(){var n,r,i,a,o=[].slice,s=function(t,e){return function(){return t.apply(e,arguments)}},l={}.hasOwnProperty,c=function(t,e){function ctor(){this.constructor=t}for(var n in e)l.call(e,n)&&(t[n]=e[n]);return ctor.prototype=e.prototype,t.prototype=new ctor,t.__super__=e.prototype,t},u=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};r=window.Morris={},n=t,r.EventEmitter=function(){function EventEmitter(){}return EventEmitter.prototype.on=function(t,e){return null==this.handlers&&(this.handlers={}),null==this.handlers[t]&&(this.handlers[t]=[]),this.handlers[t].push(e),this},EventEmitter.prototype.fire=function(){var t,e,n,r,i,a,s;if(n=arguments[0],t=2<=arguments.length?o.call(arguments,1):[],null!=this.handlers&&null!=this.handlers[n]){for(a=this.handlers[n],s=[],r=0,i=a.length;r<i;r++)e=a[r],s.push(e.apply(null,t));return s}},EventEmitter}(),r.commas=function(t){var e,n,r,i;return null!=t?(r=t<0?"-":"",e=Math.abs(t),n=Math.floor(e).toFixed(0),r+=n.replace(/(?=(?:\d{3})+$)(?!^)/g,","),i=e.toString(),i.length>n.length&&(r+=i.slice(n.length)),r):"-"},r.pad2=function(t){return(t<10?"0":"")+t},r.Grid=function(t){function Grid(t){this.resizeHandler=s(this.resizeHandler,this);var r=this;if("string"==typeof t.element?this.el=n(document.getElementById(t.element)):this.el=n(t.element),null==this.el||0===this.el.length)throw new Error("Graph container element not found");"static"===this.el.css("position")&&this.el.css("position","relative"),this.options=n.extend({},this.gridDefaults,this.defaults||{},t),"string"==typeof this.options.units&&(this.options.postUnits=t.units),this.raphael=new e(this.el[0]),this.elementWidth=null,this.elementHeight=null,this.dirty=!1,this.selectFrom=null,this.init&&this.init(),this.setData(this.options.data),this.el.bind("mousemove",function(t){var e,n,i,a,o;return n=r.el.offset(),o=t.pageX-n.left,r.selectFrom?(e=r.data[r.hitTest(Math.min(o,r.selectFrom))]._x,i=r.data[r.hitTest(Math.max(o,r.selectFrom))]._x,a=i-e,r.selectionRect.attr({x:e,width:a})):r.fire("hovermove",o,t.pageY-n.top)}),this.el.bind("mouseleave",function(t){return r.selectFrom&&(r.selectionRect.hide(),r.selectFrom=null),r.fire("hoverout")}),this.el.bind("touchstart touchmove touchend",function(t){var e,n;return n=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0],e=r.el.offset(),r.fire("hovermove",n.pageX-e.left,n.pageY-e.top)}),this.el.bind("click",function(t){var e;return e=r.el.offset(),r.fire("gridclick",t.pageX-e.left,t.pageY-e.top)}),this.options.rangeSelect&&(this.selectionRect=this.raphael.rect(0,0,0,this.el.innerHeight()).attr({fill:this.options.rangeSelectColor,stroke:!1}).toBack().hide(),this.el.bind("mousedown",function(t){var e;return e=r.el.offset(),r.startRange(t.pageX-e.left)}),this.el.bind("mouseup",function(t){var e;return e=r.el.offset(),r.endRange(t.pageX-e.left),r.fire("hovermove",t.pageX-e.left,t.pageY-e.top)})),this.options.resize&&n(window).bind("resize",function(t){return null!=r.timeoutId&&window.clearTimeout(r.timeoutId),r.timeoutId=window.setTimeout(r.resizeHandler,100)}),this.el.css("-webkit-tap-highlight-color","rgba(0,0,0,0)"),this.postInit&&this.postInit()}return c(Grid,t),Grid.prototype.gridDefaults={dateFormat:null,axes:!0,grid:!0,gridLineColor:"#aaa",gridStrokeWidth:.5,gridTextColor:"#888",gridTextSize:12,gridTextFamily:"sans-serif",gridTextWeight:"normal",hideHover:!1,yLabelFormat:null,xLabelAngle:0,numLines:5,padding:25,parseTime:!0,postUnits:"",preUnits:"",ymax:"auto",ymin:"auto 0",goals:[],goalStrokeWidth:1,goalLineColors:["#666633","#999966","#cc6666","#663333"],events:[],eventStrokeWidth:1,eventLineColors:["#005a04","#ccffbb","#3a5f0b","#005502"],rangeSelect:null,rangeSelectColor:"#eef",resize:!1},Grid.prototype.setData=function(t,e){var n,i,a,o,s,l,c,u,d,h,f,p,g,v,m;return null==e&&(e=!0),this.options.data=t,null==t||0===t.length?(this.data=[],this.raphael.clear(),void(null!=this.hover&&this.hover.hide())):(p=this.cumulative?0:null,g=this.cumulative?0:null,this.options.goals.length>0&&(s=Math.min.apply(Math,this.options.goals),o=Math.max.apply(Math,this.options.goals),g=null!=g?Math.min(g,s):s,p=null!=p?Math.max(p,o):o),this.data=function(){var e,n,o;for(o=[],a=e=0,n=t.length;e<n;a=++e)c=t[a],l={src:c},l.label=c[this.options.xkey],this.options.parseTime?(l.x=r.parseDate(l.label),this.options.dateFormat?l.label=this.options.dateFormat(l.x):"number"==typeof l.label&&(l.label=new Date(l.label).toString())):(l.x=a,this.options.xLabelFormat&&(l.label=this.options.xLabelFormat(l))),d=0,l.y=function(){var t,e,n,r;for(n=this.options.ykeys,r=[],i=t=0,e=n.length;t<e;i=++t)f=n[i],v=c[f],"string"==typeof v&&(v=parseFloat(v)),null!=v&&"number"!=typeof v&&(v=null),null!=v&&(this.cumulative?d+=v:null!=p?(p=Math.max(v,p),g=Math.min(v,g)):p=g=v),this.cumulative&&null!=d&&(p=Math.max(d,p),g=Math.min(d,g)),r.push(v);return r}.call(this),o.push(l);return o}.call(this),this.options.parseTime&&(this.data=this.data.sort(function(t,e){return(t.x>e.x)-(e.x>t.x)})),this.xmin=this.data[0].x,this.xmax=this.data[this.data.length-1].x,this.events=[],this.options.events.length>0&&(this.options.parseTime?this.events=function(){var t,e,i,a;for(i=this.options.events,a=[],t=0,e=i.length;t<e;t++)n=i[t],a.push(r.parseDate(n));return a}.call(this):this.events=this.options.events,this.xmax=Math.max(this.xmax,Math.max.apply(Math,this.events)),this.xmin=Math.min(this.xmin,Math.min.apply(Math,this.events))),this.xmin===this.xmax&&(this.xmin-=1,this.xmax+=1),this.ymin=this.yboundary("min",g),this.ymax=this.yboundary("max",p),this.ymin===this.ymax&&(g&&(this.ymin-=1),this.ymax+=1),!0!==(m=this.options.axes)&&"both"!==m&&"y"!==m&&!0!==this.options.grid||(this.options.ymax===this.gridDefaults.ymax&&this.options.ymin===this.gridDefaults.ymin?(this.grid=this.autoGridLines(this.ymin,this.ymax,this.options.numLines),this.ymin=Math.min(this.ymin,this.grid[0]),this.ymax=Math.max(this.ymax,this.grid[this.grid.length-1])):(u=(this.ymax-this.ymin)/(this.options.numLines-1),this.grid=function(){var t,e,n;for(n=[],h=t=this.ymin,e=this.ymax;u>0?t<=e:t>=e;h=t+=u)n.push(h);return n}.call(this))),this.dirty=!0,e?this.redraw():void 0)},Grid.prototype.yboundary=function(t,e){var n,r;return n=this.options["y"+t],"string"==typeof n?"auto"===n.slice(0,4)?n.length>5?(r=parseInt(n.slice(5),10),null==e?r:Math[t](e,r)):null!=e?e:0:parseInt(n,10):n},Grid.prototype.autoGridLines=function(t,e,n){var r,i,a,o,s,l,c,u,d;return s=e-t,d=Math.floor(Math.log(s)/Math.log(10)),c=Math.pow(10,d),i=Math.floor(t/c)*c,r=Math.ceil(e/c)*c,l=(r-i)/(n-1),1===c&&l>1&&Math.ceil(l)!==l&&(l=Math.ceil(l),r=i+l*(n-1)),i<0&&r>0&&(i=Math.floor(t/l)*l,r=Math.ceil(e/l)*l),l<1?(o=Math.floor(Math.log(l)/Math.log(10)),a=function(){var t,e;for(e=[],u=t=i;l>0?t<=r:t>=r;u=t+=l)e.push(parseFloat(u.toFixed(1-o)));return e}()):a=function(){var t,e;for(e=[],u=t=i;l>0?t<=r:t>=r;u=t+=l)e.push(u);return e}(),a},Grid.prototype._calc=function(){var t,e,n,r,i,a,o,s;if(i=this.el.width(),n=this.el.height(),(this.elementWidth!==i||this.elementHeight!==n||this.dirty)&&(this.elementWidth=i,this.elementHeight=n,this.dirty=!1,this.left=this.options.padding,this.right=this.elementWidth-this.options.padding,this.top=this.options.padding,this.bottom=this.elementHeight-this.options.padding,!0!==(o=this.options.axes)&&"both"!==o&&"y"!==o||(a=function(){var t,n,r,i;for(r=this.grid,i=[],t=0,n=r.length;t<n;t++)e=r[t],i.push(this.measureText(this.yAxisFormat(e)).width);return i}.call(this),this.left+=Math.max.apply(Math,a)),!0!==(s=this.options.axes)&&"both"!==s&&"x"!==s||(t=function(){var t,e,n;for(n=[],r=t=0,e=this.data.length;0<=e?t<e:t>e;r=0<=e?++t:--t)n.push(this.measureText(this.data[r].text,-this.options.xLabelAngle).height);return n}.call(this),this.bottom-=Math.max.apply(Math,t)),this.width=Math.max(1,this.right-this.left),this.height=Math.max(1,this.bottom-this.top),this.dx=this.width/(this.xmax-this.xmin),this.dy=this.height/(this.ymax-this.ymin),this.calc))return this.calc()},Grid.prototype.transY=function(t){return this.bottom-(t-this.ymin)*this.dy},Grid.prototype.transX=function(t){return 1===this.data.length?(this.left+this.right)/2:this.left+(t-this.xmin)*this.dx},Grid.prototype.redraw=function(){if(this.raphael.clear(),this._calc(),this.drawGrid(),this.drawGoals(),this.drawEvents(),this.draw)return this.draw()},Grid.prototype.measureText=function(t,e){var n,r;return null==e&&(e=0),r=this.raphael.text(100,100,t).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).rotate(e),n=r.getBBox(),r.remove(),n},Grid.prototype.yAxisFormat=function(t){return this.yLabelFormat(t)},Grid.prototype.yLabelFormat=function(t){return"function"==typeof this.options.yLabelFormat?this.options.yLabelFormat(t):""+this.options.preUnits+r.commas(t)+this.options.postUnits},Grid.prototype.drawGrid=function(){var t,e,n,r,i,a,o,s;if(!1!==this.options.grid||!0===(i=this.options.axes)||"both"===i||"y"===i){for(a=this.grid,s=[],n=0,r=a.length;n<r;n++)t=a[n],e=this.transY(t),!0!==(o=this.options.axes)&&"both"!==o&&"y"!==o||this.drawYAxisLabel(this.left-this.options.padding/2,e,this.yAxisFormat(t)),this.options.grid?s.push(this.drawGridLine("M"+this.left+","+e+"H"+(this.left+this.width))):s.push(void 0);return s}},Grid.prototype.drawGoals=function(){var t,e,n,r,i,a,o;for(a=this.options.goals,o=[],n=r=0,i=a.length;r<i;n=++r)e=a[n],t=this.options.goalLineColors[n%this.options.goalLineColors.length],o.push(this.drawGoal(e,t));return o},Grid.prototype.drawEvents=function(){var t,e,n,r,i,a,o;for(a=this.events,o=[],n=r=0,i=a.length;r<i;n=++r)e=a[n],t=this.options.eventLineColors[n%this.options.eventLineColors.length],o.push(this.drawEvent(e,t));return o},Grid.prototype.drawGoal=function(t,e){return this.raphael.path("M"+this.left+","+this.transY(t)+"H"+this.right).attr("stroke",e).attr("stroke-width",this.options.goalStrokeWidth)},Grid.prototype.drawEvent=function(t,e){return this.raphael.path("M"+this.transX(t)+","+this.bottom+"V"+this.top).attr("stroke",e).attr("stroke-width",this.options.eventStrokeWidth)},Grid.prototype.drawYAxisLabel=function(t,e,n){return this.raphael.text(t,e,n).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor).attr("text-anchor","end")},Grid.prototype.drawGridLine=function(t){return this.raphael.path(t).attr("stroke",this.options.gridLineColor).attr("stroke-width",this.options.gridStrokeWidth)},Grid.prototype.startRange=function(t){return this.hover.hide(),this.selectFrom=t,this.selectionRect.attr({x:t,width:0}).show()},Grid.prototype.endRange=function(t){var e,n;if(this.selectFrom)return n=Math.min(this.selectFrom,t),e=Math.max(this.selectFrom,t),this.options.rangeSelect.call(this.el,{start:this.data[this.hitTest(n)].x,end:this.data[this.hitTest(e)].x}),this.selectFrom=null},Grid.prototype.resizeHandler=function(){return this.timeoutId=null,this.raphael.setSize(this.el.width(),this.el.height()),this.redraw()},Grid}(r.EventEmitter),r.parseDate=function(t){var e,n,r,i,a,o,s,l,c,u,d;return"number"==typeof t?t:(n=t.match(/^(\d+) Q(\d)$/),i=t.match(/^(\d+)-(\d+)$/),a=t.match(/^(\d+)-(\d+)-(\d+)$/),s=t.match(/^(\d+) W(\d+)$/),l=t.match(/^(\d+)-(\d+)-(\d+)[ T](\d+):(\d+)(Z|([+-])(\d\d):?(\d\d))?$/),c=t.match(/^(\d+)-(\d+)-(\d+)[ T](\d+):(\d+):(\d+(\.\d+)?)(Z|([+-])(\d\d):?(\d\d))?$/),n?new Date(parseInt(n[1],10),3*parseInt(n[2],10)-1,1).getTime():i?new Date(parseInt(i[1],10),parseInt(i[2],10)-1,1).getTime():a?new Date(parseInt(a[1],10),parseInt(a[2],10)-1,parseInt(a[3],10)).getTime():s?(u=new Date(parseInt(s[1],10),0,1),4!==u.getDay()&&u.setMonth(0,1+(4-u.getDay()+7)%7),u.getTime()+6048e5*parseInt(s[2],10)):l?l[6]?(o=0,"Z"!==l[6]&&(o=60*parseInt(l[8],10)+parseInt(l[9],10),"+"===l[7]&&(o=0-o)),Date.UTC(parseInt(l[1],10),parseInt(l[2],10)-1,parseInt(l[3],10),parseInt(l[4],10),parseInt(l[5],10)+o)):new Date(parseInt(l[1],10),parseInt(l[2],10)-1,parseInt(l[3],10),parseInt(l[4],10),parseInt(l[5],10)).getTime():c?(d=parseFloat(c[6]),e=Math.floor(d),r=Math.round(1e3*(d-e)),c[8]?(o=0,"Z"!==c[8]&&(o=60*parseInt(c[10],10)+parseInt(c[11],10),"+"===c[9]&&(o=0-o)),Date.UTC(parseInt(c[1],10),parseInt(c[2],10)-1,parseInt(c[3],10),parseInt(c[4],10),parseInt(c[5],10)+o,e,r)):new Date(parseInt(c[1],10),parseInt(c[2],10)-1,parseInt(c[3],10),parseInt(c[4],10),parseInt(c[5],10),e,r).getTime()):new Date(parseInt(t,10),0,1).getTime())},r.Hover=function(){function Hover(t){null==t&&(t={}),this.options=n.extend({},r.Hover.defaults,t),this.el=n("<div class='"+this.options.class+"'></div>"),this.el.hide(),this.options.parent.append(this.el)}return Hover.defaults={class:"morris-hover morris-default-style"},Hover.prototype.update=function(t,e,n){return t?(this.html(t),this.show(),this.moveTo(e,n)):this.hide()},Hover.prototype.html=function(t){return this.el.html(t)},Hover.prototype.moveTo=function(t,e){var n,r,i,a,o,s;return o=this.options.parent.innerWidth(),a=this.options.parent.innerHeight(),r=this.el.outerWidth(),n=this.el.outerHeight(),i=Math.min(Math.max(0,t-r/2),o-r),null!=e?(s=e-n-10)<0&&(s=e+10)+n>a&&(s=a/2-n/2):s=a/2-n/2,this.el.css({left:i+"px",top:parseInt(s)+"px"})},Hover.prototype.show=function(){return this.el.show()},Hover.prototype.hide=function(){return this.el.hide()},Hover}(),r.Line=function(t){function Line(t){if(this.hilight=s(this.hilight,this),this.onHoverOut=s(this.onHoverOut,this),this.onHoverMove=s(this.onHoverMove,this),this.onGridClick=s(this.onGridClick,this),!(this instanceof r.Line))return new r.Line(t);Line.__super__.constructor.call(this,t)}return c(Line,t),Line.prototype.init=function(){if("always"!==this.options.hideHover)return this.hover=new r.Hover({parent:this.el}),this.on("hovermove",this.onHoverMove),this.on("hoverout",this.onHoverOut),this.on("gridclick",this.onGridClick)},Line.prototype.defaults={lineWidth:3,pointSize:4,lineColors:["#0b62a4","#7A92A3","#4da74d","#afd8f8","#edc240","#cb4b4b","#9440ed"],pointStrokeWidths:[1],pointStrokeColors:["#ffffff"],pointFillColors:[],smooth:!0,xLabels:"auto",xLabelFormat:null,xLabelMargin:24,hideHover:!1},Line.prototype.calc=function(){return this.calcPoints(),this.generatePaths()},Line.prototype.calcPoints=function(){var t,e,n,r,i,a;for(i=this.data,a=[],n=0,r=i.length;n<r;n++)t=i[n],t._x=this.transX(t.x),t._y=function(){var n,r,i,a;for(i=t.y,a=[],n=0,r=i.length;n<r;n++)e=i[n],null!=e?a.push(this.transY(e)):a.push(e);return a}.call(this),a.push(t._ymax=Math.min.apply(Math,[this.bottom].concat(function(){var n,r,i,a;for(i=t._y,a=[],n=0,r=i.length;n<r;n++)null!=(e=i[n])&&a.push(e);return a}())));return a},Line.prototype.hitTest=function(t){var e,n,r,i,a;if(0===this.data.length)return null;for(a=this.data.slice(1),e=r=0,i=a.length;r<i&&(n=a[e],!(t<(n._x+this.data[e]._x)/2));e=++r);return e},Line.prototype.onGridClick=function(t,e){var n;return n=this.hitTest(t),this.fire("click",n,this.data[n].src,t,e)},Line.prototype.onHoverMove=function(t,e){var n;return n=this.hitTest(t),this.displayHoverForRow(n)},Line.prototype.onHoverOut=function(){if(!1!==this.options.hideHover)return this.displayHoverForRow(null)},Line.prototype.displayHoverForRow=function(t){var e;return null!=t?((e=this.hover).update.apply(e,this.hoverContentForRow(t)),this.hilight(t)):(this.hover.hide(),this.hilight())},Line.prototype.hoverContentForRow=function(t){var e,n,r,i,a,o,s;for(r=this.data[t],e="<div class='morris-hover-row-label'>"+r.label+"</div>",s=r.y,n=a=0,o=s.length;a<o;n=++a)i=s[n],e+="<div class='morris-hover-point' style='color: "+this.colorFor(r,n,"label")+"'>\n  "+this.options.labels[n]+":\n  "+this.yLabelFormat(i)+"\n</div>";return"function"==typeof this.options.hoverCallback&&(e=this.options.hoverCallback(t,this.options,e,r.src)),[e,r._x,r._ymax]},Line.prototype.generatePaths=function(){var t,e,n,i;return this.paths=function(){var a,o,s,l;for(l=[],e=a=0,o=this.options.ykeys.length;0<=o?a<o:a>o;e=0<=o?++a:--a)i="boolean"==typeof this.options.smooth?this.options.smooth:(s=this.options.ykeys[e],u.call(this.options.smooth,s)>=0),t=function(){var t,r,i,a;for(i=this.data,a=[],t=0,r=i.length;t<r;t++)n=i[t],void 0!==n._y[e]&&a.push({x:n._x,y:n._y[e]});return a}.call(this),t.length>1?l.push(r.Line.createPath(t,i,this.bottom)):l.push(null);return l}.call(this)},Line.prototype.draw=function(){var t;if(!0!==(t=this.options.axes)&&"both"!==t&&"x"!==t||this.drawXAxis(),this.drawSeries(),!1===this.options.hideHover)return this.displayHoverForRow(this.data.length-1)},Line.prototype.drawXAxis=function(){var t,e,n,i,a,o,s,l,c,u,d=this;for(s=this.bottom+this.options.padding/2,a=null,i=null,t=function(t,e){var n,r,o,l,c;return n=d.drawXAxisLabel(d.transX(e),s,t),c=n.getBBox(),n.transform("r"+-d.options.xLabelAngle),r=n.getBBox(),n.transform("t0,"+r.height/2+"..."),0!==d.options.xLabelAngle&&(l=-.5*c.width*Math.cos(d.options.xLabelAngle*Math.PI/180),n.transform("t"+l+",0...")),r=n.getBBox(),(null==a||a>=r.x+r.width||null!=i&&i>=r.x)&&r.x>=0&&r.x+r.width<d.el.width()?(0!==d.options.xLabelAngle&&(o=1.25*d.options.gridTextSize/Math.sin(d.options.xLabelAngle*Math.PI/180),i=r.x-o),a=r.x-d.options.xLabelMargin):n.remove()},n=this.options.parseTime?1===this.data.length&&"auto"===this.options.xLabels?[[this.data[0].label,this.data[0].x]]:r.labelSeries(this.xmin,this.xmax,this.width,this.options.xLabels,this.options.xLabelFormat):function(){var t,e,n,r;for(n=this.data,r=[],t=0,e=n.length;t<e;t++)o=n[t],r.push([o.label,o.x]);return r}.call(this),n.reverse(),u=[],l=0,c=n.length;l<c;l++)e=n[l],u.push(t(e[0],e[1]));return u},Line.prototype.drawSeries=function(){var t,e,n,r,i,a;for(this.seriesPoints=[],t=e=r=this.options.ykeys.length-1;r<=0?e<=0:e>=0;t=r<=0?++e:--e)this._drawLineFor(t);for(a=[],t=n=i=this.options.ykeys.length-1;i<=0?n<=0:n>=0;t=i<=0?++n:--n)a.push(this._drawPointFor(t));return a},Line.prototype._drawPointFor=function(t){var e,n,r,i,a,o;for(this.seriesPoints[t]=[],a=this.data,o=[],r=0,i=a.length;r<i;r++)n=a[r],e=null,null!=n._y[t]&&(e=this.drawLinePoint(n._x,n._y[t],this.colorFor(n,t,"point"),t)),o.push(this.seriesPoints[t].push(e));return o},Line.prototype._drawLineFor=function(t){var e;if(null!==(e=this.paths[t]))return this.drawLinePath(e,this.colorFor(null,t,"line"),t)},Line.createPath=function(t,e,n){var i,a,o,s,l,c,u,d,h,f,p,g,v,m;for(u="",e&&(o=r.Line.gradients(t)),d={y:null},s=v=0,m=t.length;v<m;s=++v)i=t[s],null!=i.y&&(null!=d.y?e?(a=o[s],c=o[s-1],l=(i.x-d.x)/4,h=d.x+l,p=Math.min(n,d.y+l*c),f=i.x-l,g=Math.min(n,i.y-l*a),u+="C"+h+","+p+","+f+","+g+","+i.x+","+i.y):u+="L"+i.x+","+i.y:e&&null==o[s]||(u+="M"+i.x+","+i.y)),d=i;return u},Line.gradients=function(t){var e,n,r,i,a,o,s,l;for(n=function(t,e){return(t.y-e.y)/(t.x-e.x)},l=[],r=o=0,s=t.length;o<s;r=++o)e=t[r],null!=e.y?(i=t[r+1]||{y:null},a=t[r-1]||{y:null},null!=a.y&&null!=i.y?l.push(n(a,i)):null!=a.y?l.push(n(a,e)):null!=i.y?l.push(n(e,i)):l.push(null)):l.push(null);return l},Line.prototype.hilight=function(t){var e,n,r,i,a;if(null!==this.prevHilight&&this.prevHilight!==t)for(e=n=0,i=this.seriesPoints.length-1;0<=i?n<=i:n>=i;e=0<=i?++n:--n)this.seriesPoints[e][this.prevHilight]&&this.seriesPoints[e][this.prevHilight].animate(this.pointShrinkSeries(e));if(null!==t&&this.prevHilight!==t)for(e=r=0,a=this.seriesPoints.length-1;0<=a?r<=a:r>=a;e=0<=a?++r:--r)this.seriesPoints[e][t]&&this.seriesPoints[e][t].animate(this.pointGrowSeries(e));return this.prevHilight=t},Line.prototype.colorFor=function(t,e,n){return"function"==typeof this.options.lineColors?this.options.lineColors.call(this,t,e,n):"point"===n?this.options.pointFillColors[e%this.options.pointFillColors.length]||this.options.lineColors[e%this.options.lineColors.length]:this.options.lineColors[e%this.options.lineColors.length]},Line.prototype.drawXAxisLabel=function(t,e,n){return this.raphael.text(t,e,n).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor)},Line.prototype.drawLinePath=function(t,e,n){return this.raphael.path(t).attr("stroke",e).attr("stroke-width",this.lineWidthForSeries(n))},Line.prototype.drawLinePoint=function(t,e,n,r){return this.raphael.circle(t,e,this.pointSizeForSeries(r)).attr("fill",n).attr("stroke-width",this.pointStrokeWidthForSeries(r)).attr("stroke",this.pointStrokeColorForSeries(r))},Line.prototype.pointStrokeWidthForSeries=function(t){return this.options.pointStrokeWidths[t%this.options.pointStrokeWidths.length]},Line.prototype.pointStrokeColorForSeries=function(t){return this.options.pointStrokeColors[t%this.options.pointStrokeColors.length]},Line.prototype.lineWidthForSeries=function(t){return this.options.lineWidth instanceof Array?this.options.lineWidth[t%this.options.lineWidth.length]:this.options.lineWidth},Line.prototype.pointSizeForSeries=function(t){return this.options.pointSize instanceof Array?this.options.pointSize[t%this.options.pointSize.length]:this.options.pointSize},Line.prototype.pointGrowSeries=function(t){return e.animation({r:this.pointSizeForSeries(t)+3},25,"linear")},Line.prototype.pointShrinkSeries=function(t){return e.animation({r:this.pointSizeForSeries(t)},25,"linear")},Line}(r.Grid),r.labelSeries=function(t,e,i,a,o){var s,l,c,u,d,h,f,p,g,v,m;if(c=200*(e-t)/i,l=new Date(t),void 0===(f=r.LABEL_SPECS[a]))for(m=r.AUTO_LABEL_ORDER,g=0,v=m.length;g<v;g++)if(u=m[g],h=r.LABEL_SPECS[u],c>=h.span){f=h;break}for(void 0===f&&(f=r.LABEL_SPECS.second),o&&(f=n.extend({},f,{fmt:o})),s=f.start(l),d=[];(p=s.getTime())<=e;)p>=t&&d.push([f.fmt(s),p]),f.incr(s);return d},i=function(t){return{span:60*t*1e3,start:function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours())},fmt:function(t){return r.pad2(t.getHours())+":"+r.pad2(t.getMinutes())},incr:function(e){return e.setUTCMinutes(e.getUTCMinutes()+t)}}},a=function(t){return{span:1e3*t,start:function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes())},fmt:function(t){return r.pad2(t.getHours())+":"+r.pad2(t.getMinutes())+":"+r.pad2(t.getSeconds())},incr:function(e){return e.setUTCSeconds(e.getUTCSeconds()+t)}}},r.LABEL_SPECS={decade:{span:1728e8,start:function(t){return new Date(t.getFullYear()-t.getFullYear()%10,0,1)},fmt:function(t){return""+t.getFullYear()},incr:function(t){return t.setFullYear(t.getFullYear()+10)}},year:{span:1728e7,start:function(t){return new Date(t.getFullYear(),0,1)},fmt:function(t){return""+t.getFullYear()},incr:function(t){return t.setFullYear(t.getFullYear()+1)}},month:{span:24192e5,start:function(t){return new Date(t.getFullYear(),t.getMonth(),1)},fmt:function(t){return t.getFullYear()+"-"+r.pad2(t.getMonth()+1)},incr:function(t){return t.setMonth(t.getMonth()+1)}},week:{span:6048e5,start:function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate())},fmt:function(t){return t.getFullYear()+"-"+r.pad2(t.getMonth()+1)+"-"+r.pad2(t.getDate())},incr:function(t){return t.setDate(t.getDate()+7)}},day:{span:864e5,start:function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate())},fmt:function(t){return t.getFullYear()+"-"+r.pad2(t.getMonth()+1)+"-"+r.pad2(t.getDate())},incr:function(t){return t.setDate(t.getDate()+1)}},hour:i(60),"30min":i(30),"15min":i(15),"10min":i(10),"5min":i(5),minute:i(1),"30sec":a(30),"15sec":a(15),"10sec":a(10),"5sec":a(5),second:a(1)},r.AUTO_LABEL_ORDER=["decade","year","month","week","day","hour","30min","15min","10min","5min","minute","30sec","15sec","10sec","5sec","second"],r.Area=function(t){function Area(t){var e;if(!(this instanceof r.Area))return new r.Area(t);e=n.extend({},i,t),this.cumulative=!e.behaveLikeLine,"auto"===e.fillOpacity&&(e.fillOpacity=e.behaveLikeLine?.8:1),Area.__super__.constructor.call(this,e)}var i;return c(Area,t),i={fillOpacity:"auto",behaveLikeLine:!1},Area.prototype.calcPoints=function(){var t,e,n,r,i,a,o;for(a=this.data,o=[],r=0,i=a.length;r<i;r++)t=a[r],t._x=this.transX(t.x),e=0,t._y=function(){var r,i,a,o;for(a=t.y,o=[],r=0,i=a.length;r<i;r++)n=a[r],this.options.behaveLikeLine?o.push(this.transY(n)):(e+=n||0,o.push(this.transY(e)));return o}.call(this),o.push(t._ymax=Math.max.apply(Math,t._y));return o},Area.prototype.drawSeries=function(){var t,e,n,r,i,a,o,s;for(this.seriesPoints=[],e=this.options.behaveLikeLine?function(){a=[];for(var t=0,e=this.options.ykeys.length-1;0<=e?t<=e:t>=e;0<=e?t++:t--)a.push(t);return a}.apply(this):function(){o=[];for(var t=i=this.options.ykeys.length-1;i<=0?t<=0:t>=0;i<=0?t++:t--)o.push(t);return o}.apply(this),s=[],n=0,r=e.length;n<r;n++)t=e[n],this._drawFillFor(t),this._drawLineFor(t),s.push(this._drawPointFor(t));return s},Area.prototype._drawFillFor=function(t){var e;if(null!==(e=this.paths[t]))return e=e+"L"+this.transX(this.xmax)+","+this.bottom+"L"+this.transX(this.xmin)+","+this.bottom+"Z",this.drawFilledPath(e,this.fillForSeries(t))},Area.prototype.fillForSeries=function(t){var n;return n=e.rgb2hsl(this.colorFor(this.data[t],t,"line")),e.hsl(n.h,this.options.behaveLikeLine?.9*n.s:.75*n.s,Math.min(.98,this.options.behaveLikeLine?1.2*n.l:1.25*n.l))},Area.prototype.drawFilledPath=function(t,e){return this.raphael.path(t).attr("fill",e).attr("fill-opacity",this.options.fillOpacity).attr("stroke","none")},Area}(r.Line),r.Bar=function(t){function Bar(t){if(this.onHoverOut=s(this.onHoverOut,this),this.onHoverMove=s(this.onHoverMove,this),this.onGridClick=s(this.onGridClick,this),!(this instanceof r.Bar))return new r.Bar(t);Bar.__super__.constructor.call(this,n.extend({},t,{parseTime:!1}))}return c(Bar,t),Bar.prototype.init=function(){if(this.cumulative=this.options.stacked,"always"!==this.options.hideHover)return this.hover=new r.Hover({parent:this.el}),this.on("hovermove",this.onHoverMove),this.on("hoverout",this.onHoverOut),this.on("gridclick",this.onGridClick)},Bar.prototype.defaults={barSizeRatio:.75,barGap:3,barColors:["#0b62a4","#7a92a3","#4da74d","#afd8f8","#edc240","#cb4b4b","#9440ed"],barOpacity:1,barRadius:[0,0,0,0],xLabelMargin:50},Bar.prototype.calc=function(){var t;if(this.calcBars(),!1===this.options.hideHover)return(t=this.hover).update.apply(t,this.hoverContentForRow(this.data.length-1))},Bar.prototype.calcBars=function(){var t,e,n,r,i,a,o;for(a=this.data,o=[],t=r=0,i=a.length;r<i;t=++r)e=a[t],e._x=this.left+this.width*(t+.5)/this.data.length,o.push(e._y=function(){var t,r,i,a;for(i=e.y,a=[],t=0,r=i.length;t<r;t++)n=i[t],null!=n?a.push(this.transY(n)):a.push(null);return a}.call(this));return o},Bar.prototype.draw=function(){var t;return!0!==(t=this.options.axes)&&"both"!==t&&"x"!==t||this.drawXAxis(),this.drawSeries()},Bar.prototype.drawXAxis=function(){var t,e,n,r,i,a,o,s,l,c,u,d,h;for(c=this.bottom+(this.options.xAxisLabelTopPadding||this.options.padding/2),o=null,a=null,h=[],t=u=0,d=this.data.length;0<=d?u<d:u>d;t=0<=d?++u:--u)s=this.data[this.data.length-1-t],e=this.drawXAxisLabel(s._x,c,s.label),l=e.getBBox(),e.transform("r"+-this.options.xLabelAngle),n=e.getBBox(),e.transform("t0,"+n.height/2+"..."),0!==this.options.xLabelAngle&&(i=-.5*l.width*Math.cos(this.options.xLabelAngle*Math.PI/180),e.transform("t"+i+",0...")),(null==o||o>=n.x+n.width||null!=a&&a>=n.x)&&n.x>=0&&n.x+n.width<this.el.width()?(0!==this.options.xLabelAngle&&(r=1.25*this.options.gridTextSize/Math.sin(this.options.xLabelAngle*Math.PI/180),a=n.x-r),h.push(o=n.x-this.options.xLabelMargin)):h.push(e.remove());return h},Bar.prototype.drawSeries=function(){var t,e,n,r,i,a,o,s,l,c,u,d,h,f,p;return n=this.width/this.options.data.length,s=this.options.stacked?1:this.options.ykeys.length,t=(n*this.options.barSizeRatio-this.options.barGap*(s-1))/s,this.options.barSize&&(t=Math.min(t,this.options.barSize)),d=n-t*s-this.options.barGap*(s-1),o=d/2,p=this.ymin<=0&&this.ymax>=0?this.transY(0):null,this.bars=function(){var s,d,g,v;for(g=this.data,v=[],r=s=0,d=g.length;s<d;r=++s)l=g[r],i=0,v.push(function(){var s,d,g,v;for(g=l._y,v=[],c=s=0,d=g.length;s<d;c=++s)f=g[c],null!==f?(p?(h=Math.min(f,p),e=Math.max(f,p)):(h=f,e=this.bottom),a=this.left+r*n+o,this.options.stacked||(a+=c*(t+this.options.barGap)),u=e-h,this.options.verticalGridCondition&&this.options.verticalGridCondition(l.x)&&this.drawBar(this.left+r*n,this.top,n,Math.abs(this.top-this.bottom),this.options.verticalGridColor,this.options.verticalGridOpacity,this.options.barRadius),this.options.stacked&&(h-=i),this.drawBar(a,h,t,u,this.colorFor(l,c,"bar"),this.options.barOpacity,this.options.barRadius),v.push(i+=u)):v.push(null);return v}.call(this));return v}.call(this)},Bar.prototype.colorFor=function(t,e,n){var r,i;return"function"==typeof this.options.barColors?(r={x:t.x,y:t.y[e],label:t.label},i={index:e,key:this.options.ykeys[e],label:this.options.labels[e]},this.options.barColors.call(this,r,i,n)):this.options.barColors[e%this.options.barColors.length]},Bar.prototype.hitTest=function(t){return 0===this.data.length?null:(t=Math.max(Math.min(t,this.right),this.left),Math.min(this.data.length-1,Math.floor((t-this.left)/(this.width/this.data.length))))},Bar.prototype.onGridClick=function(t,e){var n;return n=this.hitTest(t),this.fire("click",n,this.data[n].src,t,e)},Bar.prototype.onHoverMove=function(t,e){var n,r;return n=this.hitTest(t),(r=this.hover).update.apply(r,this.hoverContentForRow(n))},Bar.prototype.onHoverOut=function(){if(!1!==this.options.hideHover)return this.hover.hide()},Bar.prototype.hoverContentForRow=function(t){var e,n,r,i,a,o,s,l;for(r=this.data[t],e="<div class='morris-hover-row-label'>"+r.label+"</div>",l=r.y,n=o=0,s=l.length;o<s;n=++o)a=l[n],e+="<div class='morris-hover-point' style='color: "+this.colorFor(r,n,"label")+"'>\n  "+this.options.labels[n]+":\n  "+this.yLabelFormat(a)+"\n</div>";return"function"==typeof this.options.hoverCallback&&(e=this.options.hoverCallback(t,this.options,e,r.src)),i=this.left+(t+.5)*this.width/this.data.length,[e,i]},Bar.prototype.drawXAxisLabel=function(t,e,n){return this.raphael.text(t,e,n).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor)},Bar.prototype.drawBar=function(t,e,n,r,i,a,o){var s,l;return s=Math.max.apply(Math,o),l=0===s||s>r?this.raphael.rect(t,e,n,r):this.raphael.path(this.roundedRect(t,e,n,r,o)),l.attr("fill",i).attr("fill-opacity",a).attr("stroke","none")},Bar.prototype.roundedRect=function(t,e,n,r,i){return null==i&&(i=[0,0,0,0]),["M",t,i[0]+e,"Q",t,e,t+i[0],e,"L",t+n-i[1],e,"Q",t+n,e,t+n,e+i[1],"L",t+n,e+r-i[2],"Q",t+n,e+r,t+n-i[2],e+r,"L",t+i[3],e+r,"Q",t,e+r,t,e+r-i[3],"Z"]},Bar}(r.Grid),r.Donut=function(t){function Donut(t){this.resizeHandler=s(this.resizeHandler,this),this.select=s(this.select,this),this.click=s(this.click,this);var i=this;if(!(this instanceof r.Donut))return new r.Donut(t);if(this.options=n.extend({},this.defaults,t),"string"==typeof t.element?this.el=n(document.getElementById(t.element)):this.el=n(t.element),null===this.el||0===this.el.length)throw new Error("Graph placeholder not found.");void 0!==t.data&&0!==t.data.length&&(this.raphael=new e(this.el[0]),this.options.resize&&n(window).bind("resize",function(t){return null!=i.timeoutId&&window.clearTimeout(i.timeoutId),i.timeoutId=window.setTimeout(i.resizeHandler,100)}),this.setData(t.data))}return c(Donut,t),Donut.prototype.defaults={colors:["#0B62A4","#3980B5","#679DC6","#95BBD7","#B0CCE1","#095791","#095085","#083E67","#052C48","#042135"],backgroundColor:"#FFFFFF",labelColor:"#000000",formatter:r.commas,resize:!1},Donut.prototype.redraw=function(){var t,e,n,i,a,o,s,l,c,u,d,h,f,p,g,v,m,y,_,x,b,k,w;for(this.raphael.clear(),e=this.el.width()/2,n=this.el.height()/2,f=(Math.min(e,n)-10)/3,d=0,x=this.values,p=0,m=x.length;p<m;p++)h=x[p],d+=h;for(l=5/(2*f),t=1.9999*Math.PI-l*this.data.length,o=0,a=0,this.segments=[],b=this.values,i=g=0,y=b.length;g<y;i=++g)h=b[i],c=o+l+t*(h/d),u=new r.DonutSegment(e,n,2*f,f,o,c,this.data[i].color||this.options.colors[a%this.options.colors.length],this.options.backgroundColor,a,this.raphael),u.render(),this.segments.push(u),u.on("hover",this.select),u.on("click",this.click),o=c,a+=1;for(this.text1=this.drawEmptyDonutLabel(e,n-10,this.options.labelColor,15,800),this.text2=this.drawEmptyDonutLabel(e,n+10,this.options.labelColor,14),s=Math.max.apply(Math,this.values),a=0,k=this.values,w=[],v=0,_=k.length;v<_;v++){if((h=k[v])===s){this.select(a);break}w.push(a+=1)}return w},Donut.prototype.setData=function(t){var e;return this.data=t,this.values=function(){var t,n,r,i;for(r=this.data,i=[],t=0,n=r.length;t<n;t++)e=r[t],i.push(parseFloat(e.value));return i}.call(this),this.redraw()},Donut.prototype.click=function(t){return this.fire("click",t,this.data[t])},Donut.prototype.select=function(t){var e,n,r,i,a,o;for(o=this.segments,i=0,a=o.length;i<a;i++)n=o[i],n.deselect();return r=this.segments[t],r.select(),e=this.data[t],this.setLabels(e.label,this.options.formatter(e.value,e))},Donut.prototype.setLabels=function(t,e){var n,r,i,a,o,s,l,c;return n=2*(Math.min(this.el.width()/2,this.el.height()/2)-10)/3,a=1.8*n,i=n/2,r=n/3,this.text1.attr({text:t,transform:""}),o=this.text1.getBBox(),s=Math.min(a/o.width,i/o.height),this.text1.attr({transform:"S"+s+","+s+","+(o.x+o.width/2)+","+(o.y+o.height)}),this.text2.attr({text:e,transform:""}),l=this.text2.getBBox(),c=Math.min(a/l.width,r/l.height),this.text2.attr({transform:"S"+c+","+c+","+(l.x+l.width/2)+","+l.y})},Donut.prototype.drawEmptyDonutLabel=function(t,e,n,r,i){var a;return a=this.raphael.text(t,e,"").attr("font-size",r).attr("fill",n),null!=i&&a.attr("font-weight",i),a},Donut.prototype.resizeHandler=function(){return this.timeoutId=null,this.raphael.setSize(this.el.width(),this.el.height()),this.redraw()},Donut}(r.EventEmitter),r.DonutSegment=function(t){function DonutSegment(t,e,n,r,i,a,o,l,c,u){this.cx=t,this.cy=e,this.inner=n,this.outer=r,this.color=o,this.backgroundColor=l,this.index=c,this.raphael=u,this.deselect=s(this.deselect,this),this.select=s(this.select,this),this.sin_p0=Math.sin(i),this.cos_p0=Math.cos(i),this.sin_p1=Math.sin(a),this.cos_p1=Math.cos(a),this.is_long=a-i>Math.PI?1:0,this.path=this.calcSegment(this.inner+3,this.inner+this.outer-5),this.selectedPath=this.calcSegment(this.inner+3,this.inner+this.outer),this.hilight=this.calcArc(this.inner)}return c(DonutSegment,t),DonutSegment.prototype.calcArcPoints=function(t){return[this.cx+t*this.sin_p0,this.cy+t*this.cos_p0,this.cx+t*this.sin_p1,this.cy+t*this.cos_p1]},DonutSegment.prototype.calcSegment=function(t,e){var n,r,i,a,o,s,l,c,u,d;return u=this.calcArcPoints(t),n=u[0],i=u[1],r=u[2],a=u[3],d=this.calcArcPoints(e),o=d[0],l=d[1],s=d[2],c=d[3],"M"+n+","+i+"A"+t+","+t+",0,"+this.is_long+",0,"+r+","+a+"L"+s+","+c+"A"+e+","+e+",0,"+this.is_long+",1,"+o+","+l+"Z"},DonutSegment.prototype.calcArc=function(t){var e,n,r,i,a;return a=this.calcArcPoints(t),e=a[0],r=a[1],n=a[2],i=a[3],"M"+e+","+r+"A"+t+","+t+",0,"+this.is_long+",0,"+n+","+i},DonutSegment.prototype.render=function(){var t=this;return this.arc=this.drawDonutArc(this.hilight,this.color),this.seg=this.drawDonutSegment(this.path,this.color,this.backgroundColor,function(){return t.fire("hover",t.index)},function(){return t.fire("click",t.index)})},DonutSegment.prototype.drawDonutArc=function(t,e){return this.raphael.path(t).attr({stroke:e,"stroke-width":2,opacity:0})},DonutSegment.prototype.drawDonutSegment=function(t,e,n,r,i){return this.raphael.path(t).attr({fill:e,stroke:n,"stroke-width":3}).hover(r).click(i)},DonutSegment.prototype.select=function(){if(!this.selected)return this.seg.animate({path:this.selectedPath},150,"<>"),this.arc.animate({opacity:1},150,"<>"),this.selected=!0},DonutSegment.prototype.deselect=function(){if(this.selected)return this.seg.animate({path:this.path},150,"<>"),this.arc.animate({opacity:0},150,"<>"),this.selected=!1},DonutSegment}(r.EventEmitter)}).call(this)}).call(e,n(23),n(402))},1098:function(t,e){t.exports='.rickshaw_graph .detail{pointer-events:none;position:absolute;top:0;z-index:2;background:rgba(0,0,0,0.1);bottom:0;width:1px;transition:opacity 0.25s linear;-moz-transition:opacity 0.25s linear;-o-transition:opacity 0.25s linear;-webkit-transition:opacity 0.25s linear}.rickshaw_graph .detail.inactive{opacity:0}.rickshaw_graph .detail .item.active{opacity:1}.rickshaw_graph .detail .x_label{font-family:Arial, sans-serif;border-radius:3px;padding:6px;opacity:0.5;border:1px solid #e0e0e0;font-size:12px;position:absolute;background:white;white-space:nowrap}.rickshaw_graph .detail .x_label.left{left:0}.rickshaw_graph .detail .x_label.right{right:0}.rickshaw_graph .detail .item{position:absolute;z-index:2;border-radius:3px;padding:0.25em;font-size:12px;font-family:Arial, sans-serif;opacity:0;background:rgba(0,0,0,0.4);color:white;border:1px solid rgba(0,0,0,0.4);margin-left:1em;margin-right:1em;margin-top:-1em;white-space:nowrap}.rickshaw_graph .detail .item.left{left:0}.rickshaw_graph .detail .item.right{right:0}.rickshaw_graph .detail .item.active{opacity:1;background:rgba(0,0,0,0.8)}.rickshaw_graph .detail .item:after{position:absolute;display:block;width:0;height:0;content:"";border:5px solid transparent}.rickshaw_graph .detail .item.left:after{top:1em;left:-5px;margin-top:-5px;border-right-color:rgba(0,0,0,0.8);border-left-width:0}.rickshaw_graph .detail .item.right:after{top:1em;right:-5px;margin-top:-5px;border-left-color:rgba(0,0,0,0.8);border-right-width:0}.rickshaw_graph .detail .dot{width:4px;height:4px;margin-left:-3px;margin-top:-3.5px;border-radius:5px;position:absolute;box-shadow:0 0 2px rgba(0,0,0,0.6);box-sizing:content-box;-moz-box-sizing:content-box;background:white;border-width:2px;border-style:solid;display:none;background-clip:padding-box}.rickshaw_graph .detail .dot.active{display:block}.rickshaw_graph{position:relative}.rickshaw_graph svg{display:block;overflow:hidden}.rickshaw_graph .x_tick{position:absolute;top:0;bottom:0;width:0px;border-left:1px dotted rgba(0,0,0,0.2);pointer-events:none}.rickshaw_graph .x_tick .title{position:absolute;font-size:12px;font-family:Arial, sans-serif;opacity:0.5;white-space:nowrap;margin-left:3px;bottom:1px}.rickshaw_annotation_timeline{height:1px;border-top:1px solid #e0e0e0;margin-top:10px;position:relative}.rickshaw_annotation_timeline .annotation{position:absolute;height:6px;width:6px;margin-left:-2px;top:-3px;border-radius:5px;background-color:rgba(0,0,0,0.25)}.rickshaw_graph .annotation_line{position:absolute;top:0;bottom:-6px;width:0px;border-left:2px solid rgba(0,0,0,0.3);display:none}.rickshaw_graph .annotation_line.active{display:block}.rickshaw_graph .annotation_range{background:rgba(0,0,0,0.1);display:none;position:absolute;top:0;bottom:-6px}.rickshaw_graph .annotation_range.active{display:block}.rickshaw_graph .annotation_range.active.offscreen{display:none}.rickshaw_annotation_timeline .annotation .content{background:white;color:black;opacity:0.9;padding:5px 5px;box-shadow:0 0 2px rgba(0,0,0,0.8);border-radius:3px;position:relative;z-index:20;font-size:12px;padding:6px 8px 8px;top:18px;left:-11px;width:160px;display:none;cursor:pointer}.rickshaw_annotation_timeline .annotation .content:before{content:"\\25b2";position:absolute;top:-11px;color:white;text-shadow:0 -1px 1px rgba(0,0,0,0.8)}.rickshaw_annotation_timeline .annotation.active,.rickshaw_annotation_timeline .annotation:hover{background-color:rgba(0,0,0,0.8);cursor:none}.rickshaw_annotation_timeline .annotation .content:hover{z-index:50}.rickshaw_annotation_timeline .annotation.active .content{display:block}.rickshaw_annotation_timeline .annotation:hover .content{display:block;z-index:50}.rickshaw_graph .y_axis,.rickshaw_graph .x_axis_d3{fill:none}.rickshaw_graph .y_ticks .tick line,.rickshaw_graph .x_ticks_d3 .tick{stroke:rgba(0,0,0,0.16);stroke-width:2px;shape-rendering:crisp-edges;pointer-events:none}.rickshaw_graph .y_grid .tick,.rickshaw_graph .x_grid_d3 .tick{z-index:-1;stroke:rgba(0,0,0,0.2);stroke-width:1px;stroke-dasharray:1 1}.rickshaw_graph .y_grid .tick[data-y-value="0"]{stroke-dasharray:1 0}.rickshaw_graph .y_grid path,.rickshaw_graph .x_grid_d3 path{fill:none;stroke:none}.rickshaw_graph .y_ticks path,.rickshaw_graph .x_ticks_d3 path{fill:none;stroke:#808080}.rickshaw_graph .y_ticks text,.rickshaw_graph .x_ticks_d3 text{opacity:0.5;font-size:12px;pointer-events:none}.rickshaw_graph .x_tick.glow .title,.rickshaw_graph .y_ticks.glow text{fill:black;color:black;text-shadow:-1px 1px 0 rgba(255,255,255,0.1),1px -1px 0 rgba(255,255,255,0.1),1px 1px 0 rgba(255,255,255,0.1),0px 1px 0 rgba(255,255,255,0.1),0px -1px 0 rgba(255,255,255,0.1),1px 0px 0 rgba(255,255,255,0.1),-1px 0px 0 rgba(255,255,255,0.1),-1px -1px 0 rgba(255,255,255,0.1)}.rickshaw_graph .x_tick.inverse .title,.rickshaw_graph .y_ticks.inverse text{fill:white;color:white;text-shadow:-1px 1px 0 rgba(0,0,0,0.8),1px -1px 0 rgba(0,0,0,0.8),1px 1px 0 rgba(0,0,0,0.8),0px 1px 0 rgba(0,0,0,0.8),0px -1px 0 rgba(0,0,0,0.8),1px 0px 0 rgba(0,0,0,0.8),-1px 0px 0 rgba(0,0,0,0.8),-1px -1px 0 rgba(0,0,0,0.8)}.rickshaw_legend{font-family:Arial;font-size:12px;color:white;background:#404040;display:inline-block;padding:12px 5px;border-radius:2px;position:relative}.rickshaw_legend:hover{z-index:10}.rickshaw_legend .swatch{width:10px;height:10px;border:1px solid rgba(0,0,0,0.2)}.rickshaw_legend .line{clear:both;line-height:140%;padding-right:15px}.rickshaw_legend .line .swatch{display:inline-block;margin-right:3px;border-radius:2px}.rickshaw_legend .label{margin:0;white-space:nowrap;display:inline;font-size:inherit;background-color:transparent;color:inherit;font-weight:normal;line-height:normal;padding:0px;text-shadow:none}.rickshaw_legend .action:hover{opacity:0.6}.rickshaw_legend .action{margin-right:0.2em;font-size:10px;opacity:0.2;cursor:pointer;font-size:14px}.rickshaw_legend .line.disabled{opacity:0.4}.rickshaw_legend ul{list-style-type:none;margin:0;padding:0;margin:2px;cursor:pointer}.rickshaw_legend li{padding:0 0 0 2px;min-width:80px;white-space:nowrap}.rickshaw_legend li:hover{background:rgba(255,255,255,0.08);border-radius:3px}.rickshaw_legend li:active{background:rgba(255,255,255,0.2);border-radius:3px}.morris-hover{position:absolute;z-index:1000}.morris-hover.morris-default-style{border-radius:10px;padding:6px;color:#666;background:rgba(255,255,255,0.8);border:solid 2px rgba(230,230,230,0.8);font-family:sans-serif;font-size:12px;text-align:center}.morris-hover.morris-default-style .morris-hover-row-label{font-weight:bold;margin:0.25em 0}.morris-hover.morris-default-style .morris-hover-point{white-space:nowrap;margin:0.1em 0}.nvd3 .nv-axis{pointer-events:none;opacity:1}.nvd3 .nv-axis path{fill:none;stroke:#000;stroke-opacity:.75;shape-rendering:crispEdges}.nvd3 .nv-axis path.domain{stroke-opacity:.75}.nvd3 .nv-axis.nv-x path.domain{stroke-opacity:0}.nvd3 .nv-axis line{fill:none;stroke:#e5e5e5;shape-rendering:crispEdges}.nvd3 .nv-axis .zero line,.nvd3 .nv-axis line.zero{stroke-opacity:.75}.nvd3 .nv-axis .nv-axisMaxMin text{font-weight:bold}.nvd3 .x .nv-axis .nv-axisMaxMin text,.nvd3 .x2 .nv-axis .nv-axisMaxMin text,.nvd3 .x3 .nv-axis .nv-axisMaxMin text{text-anchor:middle}.nvd3 .nv-axis.nv-disabled{opacity:0}.nvd3 .nv-bars rect{fill-opacity:.75;transition:fill-opacity 250ms linear;-moz-transition:fill-opacity 250ms linear;-webkit-transition:fill-opacity 250ms linear}.nvd3 .nv-bars rect.hover{fill-opacity:1}.nvd3 .nv-bars .hover rect{fill:lightblue}.nvd3 .nv-bars text{fill:transparent}.nvd3 .nv-bars .hover text{fill:#000}.nvd3 .nv-multibar .nv-groups rect,.nvd3 .nv-multibarHorizontal .nv-groups rect,.nvd3 .nv-discretebar .nv-groups rect{stroke-opacity:0;transition:fill-opacity 250ms linear;-moz-transition:fill-opacity 250ms linear;-webkit-transition:fill-opacity 250ms linear}.nvd3 .nv-multibar .nv-groups rect:hover,.nvd3 .nv-multibarHorizontal .nv-groups rect:hover,.nvd3 .nv-candlestickBar .nv-ticks rect:hover,.nvd3 .nv-discretebar .nv-groups rect:hover{fill-opacity:1}.nvd3 .nv-discretebar .nv-groups text,.nvd3 .nv-multibarHorizontal .nv-groups text{font-weight:bold;fill:#000;stroke:transparent}.nvd3 .nv-boxplot circle{fill-opacity:0.5}.nvd3 .nv-boxplot circle:hover{fill-opacity:1}.nvd3 .nv-boxplot rect:hover{fill-opacity:1}.nvd3 line.nv-boxplot-median{stroke:black}.nv-boxplot-tick:hover{stroke-width:2.5px}.nvd3.nv-bullet{font:10px sans-serif}.nvd3.nv-bullet .nv-measure{fill-opacity:.8}.nvd3.nv-bullet .nv-measure:hover{fill-opacity:1}.nvd3.nv-bullet .nv-marker{stroke:#000;stroke-width:2px}.nvd3.nv-bullet .nv-markerTriangle{stroke:#000;fill:#fff;stroke-width:1.5px}.nvd3.nv-bullet .nv-markerLine{stroke:#000;stroke-width:1.5px}.nvd3.nv-bullet .nv-tick line{stroke:#666;stroke-width:.5px}.nvd3.nv-bullet .nv-range.nv-s0{fill:#eee}.nvd3.nv-bullet .nv-range.nv-s1{fill:#ddd}.nvd3.nv-bullet .nv-range.nv-s2{fill:#ccc}.nvd3.nv-bullet .nv-title{font-size:14px;font-weight:bold}.nvd3.nv-bullet .nv-subtitle{fill:#999}.nvd3.nv-bullet .nv-range{fill:#bababa;fill-opacity:.4}.nvd3.nv-bullet .nv-range:hover{fill-opacity:.7}.nvd3.nv-candlestickBar .nv-ticks .nv-tick{stroke-width:1px}.nvd3.nv-candlestickBar .nv-ticks .nv-tick.hover{stroke-width:2px}.nvd3.nv-candlestickBar .nv-ticks .nv-tick.positive rect{stroke:#2ca02c;fill:#2ca02c}.nvd3.nv-candlestickBar .nv-ticks .nv-tick.negative rect{stroke:#d62728;fill:#d62728}.with-transitions .nv-candlestickBar .nv-ticks .nv-tick{transition:stroke-width 250ms linear, stroke-opacity 250ms linear;-moz-transition:stroke-width 250ms linear, stroke-opacity 250ms linear;-webkit-transition:stroke-width 250ms linear, stroke-opacity 250ms linear}.nvd3.nv-candlestickBar .nv-ticks line{stroke:#333}.nv-force-node{stroke:#fff;stroke-width:1.5px}.nv-force-link{stroke:#999;stroke-opacity:.6}.nv-force-node text{stroke-width:0px}.nvd3 .nv-check-box .nv-box{fill-opacity:0;stroke-width:2}.nvd3 .nv-check-box .nv-check{fill-opacity:0;stroke-width:4}.nvd3 .nv-series.nv-disabled .nv-check-box .nv-check{fill-opacity:0;stroke-opacity:0}.nvd3 .nv-controlsWrap .nv-legend .nv-check-box .nv-check{opacity:0}.nvd3.nv-linePlusBar .nv-bar rect{fill-opacity:.75}.nvd3.nv-linePlusBar .nv-bar rect:hover{fill-opacity:1}.nvd3 .nv-groups path.nv-line{fill:none}.nvd3 .nv-groups path.nv-area{stroke:none}.nvd3.nv-line .nvd3.nv-scatter .nv-groups .nv-point{fill-opacity:0;stroke-opacity:0}.nvd3.nv-scatter.nv-single-point .nv-groups .nv-point{fill-opacity:.5 !important;stroke-opacity:.5 !important}.with-transitions .nvd3 .nv-groups .nv-point{transition:stroke-width 250ms linear, stroke-opacity 250ms linear;-moz-transition:stroke-width 250ms linear, stroke-opacity 250ms linear;-webkit-transition:stroke-width 250ms linear, stroke-opacity 250ms linear}.nvd3.nv-scatter .nv-groups .nv-point.hover,.nvd3 .nv-groups .nv-point.hover{stroke-width:7px;fill-opacity:.95 !important;stroke-opacity:.95 !important}.nvd3 .nv-point-paths path{stroke:#aaa;stroke-opacity:0;fill:#eee;fill-opacity:0}.nvd3 .nv-indexLine{cursor:ew-resize}svg.nvd3-svg{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-ms-user-select:none;-moz-user-select:none;user-select:none;display:block;width:100%;height:100%}.nvtooltip.with-3d-shadow,.with-3d-shadow .nvtooltip{-moz-box-shadow:0 5px 10px rgba(0,0,0,0.2);-webkit-box-shadow:0 5px 10px rgba(0,0,0,0.2);box-shadow:0 5px 10px rgba(0,0,0,0.2);-webkit-border-radius:5px;-moz-border-radius:5px;border-radius:5px}.nvd3 text{font:normal 12px Arial}.nvd3 .title{font:bold 14px Arial}.nvd3 .nv-background{fill:white;fill-opacity:0}.nvd3.nv-noData{font-size:18px;font-weight:bold}.nv-brush .extent{fill-opacity:.125;shape-rendering:crispEdges}.nv-brush .resize path{fill:#eee;stroke:#666}.nvd3 .nv-legend .nv-series{cursor:pointer}.nvd3 .nv-legend .nv-disabled circle{fill-opacity:0}.nvd3 .nv-brush .extent{fill-opacity:0 !important}.nvd3 .nv-brushBackground rect{stroke:#000;stroke-width:.4;fill:#fff;fill-opacity:.7}@media print{.nvd3 text{stroke-width:0;fill-opacity:1}}.nvd3.nv-ohlcBar .nv-ticks .nv-tick{stroke-width:1px}.nvd3.nv-ohlcBar .nv-ticks .nv-tick.hover{stroke-width:2px}.nvd3.nv-ohlcBar .nv-ticks .nv-tick.positive{stroke:#2ca02c}.nvd3.nv-ohlcBar .nv-ticks .nv-tick.negative{stroke:#d62728}.nvd3 .background path{fill:none;stroke:#EEE;stroke-opacity:.4;shape-rendering:crispEdges}.nvd3 .foreground path{fill:none;stroke-opacity:.7}.nvd3 .nv-parallelCoordinates-brush .extent{fill:#fff;fill-opacity:.6;stroke:gray;shape-rendering:crispEdges}.nvd3 .nv-parallelCoordinates .hover{fill-opacity:1;stroke-width:3px}.nvd3 .missingValuesline line{fill:none;stroke:black;stroke-width:1;stroke-opacity:1;stroke-dasharray:5, 5}.nvd3.nv-pie path{stroke-opacity:0;transition:fill-opacity 250ms linear, stroke-width 250ms linear, stroke-opacity 250ms linear;-moz-transition:fill-opacity 250ms linear, stroke-width 250ms linear, stroke-opacity 250ms linear;-webkit-transition:fill-opacity 250ms linear, stroke-width 250ms linear, stroke-opacity 250ms linear}.nvd3.nv-pie .nv-pie-title{font-size:24px;fill:rgba(19,196,249,0.59)}.nvd3.nv-pie .nv-slice text{stroke:#000;stroke-width:0}.nvd3.nv-pie path{stroke:#fff;stroke-width:1px;stroke-opacity:1}.nvd3.nv-pie path{fill-opacity:.7}.nvd3.nv-pie .hover path{fill-opacity:1}.nvd3.nv-pie .nv-label{pointer-events:none}.nvd3.nv-pie .nv-label rect{fill-opacity:0;stroke-opacity:0}.nvd3 .nv-groups .nv-point.hover{stroke-width:20px;stroke-opacity:.5}.nvd3 .nv-scatter .nv-point.hover{fill-opacity:1}.nv-noninteractive{pointer-events:none}.nv-distx,.nv-disty{pointer-events:none}.nvd3.nv-sparkline path{fill:none}.nvd3.nv-sparklineplus g.nv-hoverValue{pointer-events:none}.nvd3.nv-sparklineplus .nv-hoverValue line{stroke:#333;stroke-width:1.5px}.nvd3.nv-sparklineplus,.nvd3.nv-sparklineplus g{pointer-events:all}.nvd3 .nv-hoverArea{fill-opacity:0;stroke-opacity:0}.nvd3.nv-sparklineplus .nv-xValue,.nvd3.nv-sparklineplus .nv-yValue{stroke-width:0;font-size:.9em;font-weight:normal}.nvd3.nv-sparklineplus .nv-yValue{stroke:#f66}.nvd3.nv-sparklineplus .nv-maxValue{stroke:#2ca02c;fill:#2ca02c}.nvd3.nv-sparklineplus .nv-minValue{stroke:#d62728;fill:#d62728}.nvd3.nv-sparklineplus .nv-currentValue{font-weight:bold;font-size:1.1em}.nvd3.nv-stackedarea path.nv-area{fill-opacity:.7;stroke-opacity:0;transition:fill-opacity 250ms linear, stroke-opacity 250ms linear;-moz-transition:fill-opacity 250ms linear, stroke-opacity 250ms linear;-webkit-transition:fill-opacity 250ms linear, stroke-opacity 250ms linear}.nvd3.nv-stackedarea path.nv-area.hover{fill-opacity:.9}.nvd3.nv-stackedarea .nv-groups .nv-point{stroke-opacity:0;fill-opacity:0}.nvtooltip{position:absolute;background-color:#fff;color:#000;padding:1px;border:1px solid rgba(0,0,0,0.2);z-index:10000;display:block;font-family:Arial;font-size:13px;text-align:left;pointer-events:none;white-space:nowrap;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.nvtooltip{background:rgba(255,255,255,0.8);border:1px solid rgba(0,0,0,0.5);border-radius:4px}.nvtooltip.with-transitions,.with-transitions .nvtooltip{transition:opacity 50ms linear;-moz-transition:opacity 50ms linear;-webkit-transition:opacity 50ms linear;transition-delay:200ms;-moz-transition-delay:200ms;-webkit-transition-delay:200ms}.nvtooltip.x-nvtooltip,.nvtooltip.y-nvtooltip{padding:8px}.nvtooltip h3{margin:0;padding:4px 14px;line-height:18px;font-weight:normal;background-color:rgba(247,247,247,0.75);color:#000;text-align:center;border-bottom:1px solid #ebebeb;-webkit-border-radius:5px 5px 0 0;-moz-border-radius:5px 5px 0 0;border-radius:5px 5px 0 0}.nvtooltip p{margin:0;padding:5px 14px;text-align:center}.nvtooltip span{display:inline-block;margin:2px 0}.nvtooltip table{margin:6px;border-spacing:0}.nvtooltip table td{padding:2px 9px 2px 0;vertical-align:middle}.nvtooltip table td.key{font-weight:normal}.nvtooltip table td.key.total{font-weight:bold}.nvtooltip table td.value{text-align:right;font-weight:bold}.nvtooltip table td.percent{color:darkgray}.nvtooltip table tr.highlight td{padding:1px 9px 1px 0;border-bottom-style:solid;border-bottom-width:1px;border-top-style:solid;border-top-width:1px}.nvtooltip table td.legend-color-guide div{width:8px;height:8px;vertical-align:middle}.nvtooltip table td.legend-color-guide div{width:12px;height:12px;border:1px solid #999}.nvtooltip .footer{padding:3px;text-align:center}.nvtooltip-pending-removal{pointer-events:none;display:none}.nvd3 .nv-interactiveGuideLine{pointer-events:none}.nvd3 line.nv-guideline{stroke:#ccc}.nvtooltip{padding:5px 10px;font-family:"Open Sans",sans-serif;font-size:.875rem;text-align:center}.nvtooltip p{margin:0;padding:0}.nvtooltip h3{background:none;border-bottom:0}svg text{font:300 .875rem "Open Sans",sans-serif;fill:#555}svg .title{font:700 1rem "Open Sans",sans-serif}.nvd3.nv-noData{font-size:1.25rem;font-weight:700}.nvd3 .nv-axis path.domain{stroke-opacity:0}.nv-controlsWrap .nv-legend-symbol{fill:#666 !important;stroke:#666 !important}.easy-pie-chart{position:relative;display:inline-block;line-height:120px;height:120px;width:120px;text-align:center;color:#777}.easy-pie-chart canvas{position:absolute;top:0;left:0}.chart-tooltip{position:fixed;padding:5px 10px;border:1px solid #ddd;font-size:13px;background-color:#fff}\n'},1122:function(t,e){t.exports='<ol class="breadcrumb">\r\n  <li class="breadcrumb-item">YOU ARE HERE</li>\r\n  <li class="breadcrumb-item active">Charts</li>\r\n</ol>\r\n<h1 class="page-title">Visual - <span class="fw-semi-bold">Charts</span></h1>\r\n<div data-ng-controller="ChartsDemoController">\r\n  <div class="row">\r\n    <div class="col-lg-6 col-xl-5 col-12">\r\n      <section class="widget" widget>\r\n        <header>\r\n          <h5>\r\n            Flot <span class="fw-semi-bold">Charts</span>\r\n          </h5>\r\n          <div class="widget-controls">\r\n            <a data-widgster="expand" title="Expand" href="#"><i class="glyphicon glyphicon-chevron-up"></i></a>\r\n            <a data-widgster="collapse" title="Collapse" href="#"><i class="glyphicon glyphicon-chevron-down"></i></a>\r\n            <a href="#" data-widgster="close"><i class="glyphicon glyphicon-remove"></i></a>\r\n          </div>\r\n        </header>\r\n        <div class="widget-body">\r\n          <div class="mt mb" id="flot-main" style="width: 100%; height: 260px;" flot-chart-animator\r\n               [data] = "[{\r\n                        label: \'Traffic\',\r\n                        data: data3,\r\n                        lines: {\r\n                            fill: .3,\r\n                            lineWidth: 0\r\n                        },\r\n                        color:[\'#ccc\']\r\n                    },{\r\n                        label: \'Traffic\',\r\n                        data: data2,\r\n                        lines: {\r\n                            fill: 0.6,\r\n                            lineWidth: 0\r\n                        },\r\n                        color:[\'#F7653F\']\r\n                    },{\r\n                        label: \'Traffic\',\r\n                        data: data1,\r\n                        animator: {steps: 60, duration: 1000, start:0},\r\n                        lines: {lineWidth:2},\r\n                        shadowSize:0,\r\n                        color: \'#F7553F\'\r\n                }]"></div>\r\n          <div class="chart-tooltip" id="flot-main-tooltip" style="opacity: 0"></div>\r\n          <p class="fs-mini text-muted">\r\n            Flot is a <span class="fw-semi-bold">pure</span> JavaScript plotting library for jQuery, with a\r\n            focus on simple usage, attractive looks and interactive features.\r\n          </p>\r\n          <h5 class="mt">Interactive <span class="fw-semi-bold">Sparklines</span></h5>\r\n          <div class="row mt">\r\n            <div class="col-md-6 col-12">\r\n              <div class="stats-row">\r\n                <div class="stat-item">\r\n                  <p class="value5 fw-thin">34 567</p>\r\n                  <h6 class="name text-muted no-margin fs-mini">Overall Values</h6>\r\n                </div>\r\n                <div class="stat-item stat-item-mini-chart">\r\n                  <div class="sparkline" jq-sparkline [data]="[9,12,14,15,10,14,20]" [options] = "{type: \'bar\', barColor: \'#f0b518\', height: \'30px\', barWidth: 6, barSpacing: 2}"></div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class="col-md-6 col-12">\r\n              <div class="stats-row">\r\n                <div class="stat-item">\r\n                  <p class="value5 fw-thin">34 567</p>\r\n                  <h6 class="name text-muted no-margin fs-mini">Overall Values</h6>\r\n                </div>\r\n                <div class="stat-item stat-item-mini-chart">\r\n                  <div class="sparkline" jq-sparkline [data]="[9,12,14,15,10,14,20]" [options] = "{type: \'bar\', barColor: \'#FFA587\', height: \'30px\', barWidth: 6, barSpacing: 2}"></div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <p class="fs-mini text-muted">\r\n            This jQuery plugin generates sparklines (small inline charts) directly in the browser using\r\n            data supplied either inline in the HTML, or via javascript.\r\n          </p>\r\n        </div>\r\n      </section>\r\n    </div>\r\n    <div class="col-lg-6 col-xl-4 col-12">\r\n      <section class="widget" widget>\r\n        <header>\r\n          <h5>\r\n            Realtime <span class="fw-semi-bold">Rickshaw</span>\r\n          </h5>\r\n          <div class="widget-controls">\r\n            <a data-widgster="expand" title="Expand" href="#"><i class="glyphicon glyphicon-chevron-up"></i></a>\r\n            <a data-widgster="collapse" title="Collapse" href="#"><i class="glyphicon glyphicon-chevron-down"></i></a>\r\n            <a href="#" data-widgster="close"><i class="glyphicon glyphicon-remove"></i></a>\r\n          </div>\r\n        </header>\r\n        <div class="widget-body">\r\n          <p class="fs-mini text-muted mb-lg">\r\n            Rickshaw provides the elements you need to create interactive graphs: renderers, legends,\r\n            hovers, range selectors, etc. You put the pieces together.\r\n            It\'s all based on <span class="fw-semi-bold">d3</span> underneath, so graphs are drawn with standard SVG and styled with CSS.\r\n            Customize all you like with techniques you already know.\r\n          </p>\r\n          <h5>720 Users</h5>\r\n          <div class="bg-gray-lighter progress progress-xs">\r\n            <div class="progress-bar progress-xs bg-bar-gray-light" style="width: 60%;" data-width="60%"></div>\r\n          </div>\r\n          <p class="fs-mini text-muted mb-lg">\r\n                            <span class="circle bg-success text-white">\r\n                                <i class="fa fa-circle"></i>\r\n                            </span>\r\n            &nbsp;\r\n            Target <span class="fw-semi-bold">820</span> users\r\n            is <span class="fw-semi-bold">96%</span> reached.\r\n          </p>\r\n          <div rickshaw-chart [series]="series" [height]="130"\r\n               [realtime]="true" [random]="random" [seriesData]="seriesData" class="chart-overflow-bottom"></div>\r\n        </div>\r\n      </section>\r\n    </div>\r\n    <div class="col-lg-6 col-xl-3 col-12">\r\n      <section class="widget" widget>\r\n        <header>\r\n          <h5>\r\n            Line <span class="fw-semi-bold">Sparkline</span>\r\n          </h5>\r\n          <div class="widget-controls">\r\n            <a data-widgster="expand" title="Expand" href="#"><i class="glyphicon glyphicon-chevron-up"></i></a>\r\n            <a data-widgster="collapse" title="Collapse" href="#"><i class="glyphicon glyphicon-chevron-down"></i></a>\r\n            <a href="#" data-widgster="close"><i class="glyphicon glyphicon-remove"></i></a>\r\n          </div>\r\n        </header>\r\n        <div class="widget-body">\r\n          <p class="fs-mini text-muted">\r\n            Each example displayed below takes just 1 line of HTML or javascript to generate.\r\n          </p>\r\n          <div class="stats-row mt">\r\n            <div class="stat-item">\r\n              <h6 class="name">Overall Growth</h6>\r\n              <p class="value">43.75%</p>\r\n            </div>\r\n            <div class="stat-item">\r\n              <h6 class="name">Montly</h6>\r\n              <p class="value">86.34%</p>\r\n            </div>\r\n          </div>\r\n          <p class="text-muted fs-mini">\r\n            <span class="fw-semi-bold">17% higher</span> than last month</p>\r\n          <div jq-sparkline [data]="sparklineCompositeData" [options]="sparklineCompositeOptions" class="chart-overflow-bottom"></div>\r\n        </div>\r\n      </section>\r\n      <section class="widget" widget>\r\n        <header>\r\n          <h5>\r\n            Sparkline <span class="fw-semi-bold">Pie Charts</span>\r\n          </h5>\r\n          <div class="widget-controls">\r\n            <a href="#" data-widgster="close"><i class="glyphicon glyphicon-remove"></i></a>\r\n          </div>\r\n        </header>\r\n        <div class="widget-body">\r\n          <p class="fs-mini text-muted">\r\n            Each example displayed below takes just 1 line of HTML or javascript to generate.\r\n          </p>\r\n          <div jq-sparkline [data]="sparklinePieData" [options]="sparklinePieOptions" class="chart-overflow-bottom mb-0 text-center"></div>\r\n        </div>\r\n      </section>\r\n    </div>\r\n  </div>\r\n  <div class="row">\r\n    <div class="col-lg-7 col-xl-8 col-12">\r\n      <section class="widget" widget>\r\n        <header>\r\n          <h5>\r\n            <span class="fw-semi-bold">D3</span> Charts\r\n          </h5>\r\n          <div class="widget-controls">\r\n            <a href="#" data-widgster="close"><i class="glyphicon glyphicon-remove"></i></a>\r\n          </div>\r\n        </header>\r\n        <div class="widget-body">\r\n          <p class="fs-mini text-muted">\r\n            This project is an attempt to build re-usable charts and chart components for <span class="fw-semi-bold">d3.js</span> without\r\n            taking away the power that d3.js gives you.\r\n          </p>\r\n          <div nvd3-chart [chart]="nvd31Chart" [datum]="nvd31Data">\r\n            <svg></svg>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    </div>\r\n    <div class="col-lg-5 col-xl-4 col-12">\r\n      <section class="widget" widget>\r\n        <header>\r\n          <h5>\r\n            <span class="fw-semi-bold">D3</span> Charts\r\n          </h5>\r\n          <div class="widget-controls">\r\n            <a href="#" data-widgster="close"><i class="glyphicon glyphicon-remove"></i></a>\r\n          </div>\r\n        </header>\r\n        <div class="widget-body">\r\n          <p class="fs-mini text-muted">\r\n            This is a very young collection of components, with the goal of keeping these components\r\n            very customizeable.\r\n          </p>\r\n          <div nvd3-chart [chart]="nvd32Chart" [datum]="nvd32Data">\r\n            <svg></svg>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    </div>\r\n  </div>\r\n  <div class="row">\r\n    <div class="col-lg-6 col-12">\r\n      <section class="widget" widget>\r\n        <header>\r\n          <h5>\r\n            Morris <span class="fw-semi-bold">Area Charts</span>\r\n          </h5>\r\n          <div class="widget-controls">\r\n            <a data-widgster="expand" title="Expand" href="#"><i class="glyphicon glyphicon-chevron-up"></i></a>\r\n            <a data-widgster="collapse" title="Collapse" href="#"><i class="glyphicon glyphicon-chevron-down"></i></a>\r\n            <a href="#" data-widgster="close"><i class="glyphicon glyphicon-remove"></i></a>\r\n          </div>\r\n        </header>\r\n        <div class="widget-body">\r\n          <p class="fs-mini text-muted">\r\n            Good-looking charts shouldn\'t be difficult.\r\n            The public API is terribly simple. It\'s just one function: <code>Morris.Line(options)</code>,\r\n            where options is an object containing some of the following configuration options.\r\n          </p>\r\n          <div morris-chart [type]="\'area\'" [height]="343" [options]="morris2Options">\r\n          </div>\r\n        </div>\r\n      </section>\r\n    </div>\r\n    <div class="col-lg-6 col-12">\r\n      <section class="widget" widget>\r\n        <header>\r\n          <h5>\r\n            Morris <span class="fw-semi-bold">Line Charts</span>\r\n          </h5>\r\n          <div class="widget-controls">\r\n            <a data-widgster="expand" title="Expand" href="#"><i class="glyphicon glyphicon-chevron-up"></i></a>\r\n            <a data-widgster="collapse" title="Collapse" href="#"><i class="glyphicon glyphicon-chevron-down"></i></a>\r\n            <a href="#" data-widgster="close"><i class="glyphicon glyphicon-remove"></i></a>\r\n          </div>\r\n        </header>\r\n        <div class="widget-body">\r\n          <p class="fs-mini text-muted">\r\n            Good-looking charts shouldn\'t be difficult.\r\n            The public API is terribly simple. It\'s just one function: <code>Morris.Line(options)</code>,\r\n            where options is an object containing some of the following configuration options.\r\n          </p>\r\n          <div morris-chart [type]="\'line\'" [height]="343" [options]="morris1Options">\r\n          </div>\r\n        </div>\r\n      </section>\r\n    </div>\r\n  </div>\r\n  <div class="row">\r\n    <div class="col-lg-6 col-xl-4 col-12">\r\n      <section class="widget" widget>\r\n        <header>\r\n          <h5>\r\n            Easy <span class="fw-semi-bold">Pie Charts</span>\r\n          </h5>\r\n          <div class="widget-controls">\r\n            <a data-widgster="expand" title="Expand" href="#"><i class="glyphicon glyphicon-chevron-up"></i></a>\r\n            <a data-widgster="collapse" title="Collapse" href="#"><i class="glyphicon glyphicon-chevron-down"></i></a>\r\n            <a href="#" data-widgster="close"><i class="glyphicon glyphicon-remove"></i></a>\r\n          </div>\r\n        </header>\r\n        <div class="widget-body clearfix">\r\n          <div class="text-center">\r\n            <div class="easy-pie-chart mb-lg" data-percent="73">73</div>\r\n          </div>\r\n          <p class="fs-mini text-muted">\r\n            Easy pie chart is a jQuery plugin that uses the canvas element to render simple pie charts\r\n            for single values. These charts are highly customizable, very easy to implement, scale to\r\n            the resolution of the display of the client to provide sharp charts even on retina displays.\r\n          </p>\r\n        </div>\r\n      </section>\r\n    </div>\r\n    <div class="col-lg-6 col-xl-4 col-12">\r\n      <section class="widget" widget>\r\n        <header>\r\n          <h5>\r\n            Morris <span class="fw-semi-bold">Donut Charts</span>\r\n          </h5>\r\n          <div class="widget-controls">\r\n            <a data-widgster="expand" title="Expand" href="#"><i class="glyphicon glyphicon-chevron-up"></i></a>\r\n            <a data-widgster="collapse" title="Collapse" href="#"><i class="glyphicon glyphicon-chevron-down"></i></a>\r\n            <a href="#" data-widgster="close"><i class="glyphicon glyphicon-remove"></i></a>\r\n          </div>\r\n        </header>\r\n        <div class="widget-body">\r\n          <div morris-chart [type]="\'donut\'" [height]="180" [options]="morris3Options">\r\n          </div>\r\n          <p class="fs-mini text-muted">\r\n            Donuts a great for representing some parted information like traffice sources,\r\n            disk partitions, etc.\r\n            This really couldn\'t be easier. Create a Donut chart using <code>Morris.Donut(options)</code>,\r\n            with only few options.\r\n          </p>\r\n        </div>\r\n      </section>\r\n    </div>\r\n    <div class="col-lg-12 col-xl-4 col-12">\r\n      <section class="widget" widget>\r\n        <header>\r\n          <h5>\r\n            Flot <span class="fw-semi-bold">Bars</span>\r\n          </h5>\r\n          <div class="widget-controls">\r\n            <a data-widgster="expand" title="Expand" href="#"><i class="glyphicon glyphicon-chevron-up"></i></a>\r\n            <a data-widgster="collapse" title="Collapse" href="#"><i class="glyphicon glyphicon-chevron-down"></i></a>\r\n            <a href="#" data-widgster="close"><i class="glyphicon glyphicon-remove"></i></a>\r\n          </div>\r\n        </header>\r\n        <div class="widget-body">\r\n          <div class="mt-lg" flot-chart\r\n               [data]="flotBarsData"\r\n               [options]="flotBarsOptions"\r\n               style="width: 100%; height: 260px;"></div>\r\n          <p class="fs-mini text-muted">\r\n            Flot is a <span class="fw-semi-bold">pure</span> JavaScript plotting library for jQuery, with a\r\n            focus on simple usage, attractive looks and interactive features.\r\n          </p>\r\n        </div>\r\n      </section>\r\n    </div>\r\n  </div>\r\n</div>\r\n'},373:function(t,e,n){var r,i;!function(){function d3_documentElement(t){return t&&(t.ownerDocument||t.document||t).documentElement}function d3_window(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}function d3_ascending(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function d3_number(t){return null===t?NaN:+t}function d3_numeric(t){return!isNaN(t)}function d3_bisector(t){return{left:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);r<i;){var a=r+i>>>1;t(e[a],n)<0?r=a+1:i=a}return r},right:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);r<i;){var a=r+i>>>1;t(e[a],n)>0?i=a:r=a+1}return r}}}function d3_transposeLength(t){return t.length}function d3_range_integerScale(t){for(var e=1;t*e%1;)e*=10;return e}function d3_class(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function d3_Map(){this._=Object.create(null)}function d3_map_escape(t){return(t+="")===m||t[0]===y?y+t:t}function d3_map_unescape(t){return(t+="")[0]===y?t.slice(1):t}function d3_map_has(t){return d3_map_escape(t)in this._}function d3_map_remove(t){return(t=d3_map_escape(t))in this._&&delete this._[t]}function d3_map_keys(){var t=[];for(var e in this._)t.push(d3_map_unescape(e));return t}function d3_map_size(){var t=0;for(var e in this._)++t;return t}function d3_map_empty(){for(var t in this._)return!1;return!0}function d3_Set(){this._=Object.create(null)}function d3_identity(t){return t}function d3_rebind(t,e,n){return function(){var r=n.apply(e,arguments);return r===e?t:r}}function d3_vendorSymbol(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,r=_.length;n<r;++n){var i=_[n]+e;if(i in t)return i}}function d3_noop(){}function d3_dispatch(){}function d3_dispatch_event(t){function event(){for(var n,r=e,i=-1,a=r.length;++i<a;)(n=r[i].on)&&n.apply(this,arguments);return t}var e=[],n=new d3_Map;return event.on=function(r,i){var a,o=n.get(r);return arguments.length<2?o&&o.on:(o&&(o.on=null,e=e.slice(0,a=e.indexOf(o)).concat(e.slice(a+1)),n.remove(r)),i&&e.push(n.set(r,{on:i})),t)},event}function d3_eventPreventDefault(){a.event.preventDefault()}function d3_eventSource(){for(var t,e=a.event;t=e.sourceEvent;)e=t;return e}function d3_eventDispatch(t){for(var e=new d3_dispatch,n=0,r=arguments.length;++n<r;)e[arguments[n]]=d3_dispatch_event(e);return e.of=function(n,r){return function(i){try{var o=i.sourceEvent=a.event;i.target=t,a.event=i,e[i.type].apply(n,r)}finally{a.event=o}}},e}function d3_selection(t){return b(t,C),t}function d3_selection_selector(t){return"function"==typeof t?t:function(){return k(t,this)}}function d3_selection_selectorAll(t){return"function"==typeof t?t:function(){return w(t,this)}}function d3_selection_attr(t,e){function attrNull(){this.removeAttribute(t)}function attrNullNS(){this.removeAttributeNS(t.space,t.local)}function attrConstant(){this.setAttribute(t,e)}function attrConstantNS(){this.setAttributeNS(t.space,t.local,e)}function attrFunction(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}function attrFunctionNS(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}return t=a.ns.qualify(t),null==e?t.local?attrNullNS:attrNull:"function"==typeof e?t.local?attrFunctionNS:attrFunction:t.local?attrConstantNS:attrConstant}function d3_collapse(t){return t.trim().replace(/\s+/g," ")}function d3_selection_classedRe(t){return new RegExp("(?:^|\\s+)"+a.requote(t)+"(?:\\s+|$)","g")}function d3_selection_classes(t){return(t+"").trim().split(/^|\s+/)}function d3_selection_classed(t,e){function classedConstant(){for(var r=-1;++r<n;)t[r](this,e)}function classedFunction(){for(var r=-1,i=e.apply(this,arguments);++r<n;)t[r](this,i)}t=d3_selection_classes(t).map(d3_selection_classedName);var n=t.length;return"function"==typeof e?classedFunction:classedConstant}function d3_selection_classedName(t){var e=d3_selection_classedRe(t);return function(n,r){if(i=n.classList)return r?i.add(t):i.remove(t);var i=n.getAttribute("class")||"";r?(e.lastIndex=0,e.test(i)||n.setAttribute("class",d3_collapse(i+" "+t))):n.setAttribute("class",d3_collapse(i.replace(e," ")))}}function d3_selection_style(t,e,n){function styleNull(){this.style.removeProperty(t)}function styleConstant(){this.style.setProperty(t,e,n)}function styleFunction(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}return null==e?styleNull:"function"==typeof e?styleFunction:styleConstant}function d3_selection_property(t,e){function propertyNull(){delete this[t]}function propertyConstant(){this[t]=e}function propertyFunction(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}return null==e?propertyNull:"function"==typeof e?propertyFunction:propertyConstant}function d3_selection_creator(t){function create(){var e=this.ownerDocument,n=this.namespaceURI;return n===S&&e.documentElement.namespaceURI===S?e.createElement(t):e.createElementNS(n,t)}function createNS(){return this.ownerDocument.createElementNS(t.space,t.local)}return"function"==typeof t?t:(t=a.ns.qualify(t)).local?createNS:create}function d3_selectionRemove(){var t=this.parentNode;t&&t.removeChild(this)}function d3_selection_dataNode(t){return{__data__:t}}function d3_selection_filter(t){return function(){return M(this,t)}}function d3_selection_sortComparator(t){return arguments.length||(t=d3_ascending),function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}function d3_selection_each(t,e){for(var n=0,r=t.length;n<r;n++)for(var i,a=t[n],o=0,s=a.length;o<s;o++)(i=a[o])&&e(i,o,n);return t}function d3_selection_enter(t){return b(t,E),t}function d3_selection_enterInsertBefore(t){var e,n;return function(r,i,a){var o,s=t[a].update,l=s.length;for(a!=n&&(n=a,e=0),i>=e&&(e=i+1);!(o=s[e])&&++e<l;);return o}}function d3_selection_on(t,e,n){function onRemove(){var e=this[r];e&&(this.removeEventListener(t,e,e.$),delete this[r])}function onAdd(){var i=o(e,s(arguments));onRemove.call(this),this.addEventListener(t,this[r]=i,i.$=n),i._=e}function removeAll(){var e,n=new RegExp("^__on([^.]+)"+a.requote(t)+"$");for(var r in this)if(e=r.match(n)){var i=this[r];this.removeEventListener(e[1],i,i.$),delete this[r]}}var r="__on"+t,i=t.indexOf("."),o=d3_selection_onListener;i>0&&(t=t.slice(0,i));var l=T.get(t);return l&&(t=l,o=d3_selection_onFilter),i?e?onAdd:onRemove:e?d3_noop:removeAll}function d3_selection_onListener(t,e){return function(n){var r=a.event;a.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{a.event=r}}}function d3_selection_onFilter(t,e){var n=d3_selection_onListener(t,e);return function(t){var e=this,r=t.relatedTarget;r&&(r===e||8&r.compareDocumentPosition(e))||n.call(e,t)}}function d3_event_dragSuppress(t){var e=".dragsuppress-"+ ++D,n="click"+e,r=a.select(d3_window(t)).on("touchmove"+e,d3_eventPreventDefault).on("dragstart"+e,d3_eventPreventDefault).on("selectstart"+e,d3_eventPreventDefault);if(null==L&&(L=!("onselectstart"in t)&&d3_vendorSymbol(t.style,"userSelect")),L){var i=d3_documentElement(t).style,o=i[L];i[L]="none"}return function(t){if(r.on(e,null),L&&(i[L]=o),t){var a=function(){r.on(n,null)};r.on(n,function(){d3_eventPreventDefault(),a()},!0),setTimeout(a,0)}}}function d3_mousePoint(t,e){e.changedTouches&&(e=e.changedTouches[0]);var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();if(F<0){var i=d3_window(t);if(i.scrollX||i.scrollY){n=a.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var o=n[0][0].getScreenCTM();F=!(o.f||o.e),n.remove()}}return F?(r.x=e.pageX,r.y=e.pageY):(r.x=e.clientX,r.y=e.clientY),r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var s=t.getBoundingClientRect();return[e.clientX-s.left-t.clientLeft,e.clientY-s.top-t.clientTop]}function d3_behavior_dragTouchId(){return a.event.changedTouches[0].identifier}function d3_sgn(t){return t>0?1:t<0?-1:0}function d3_cross2d(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function d3_acos(t){return t>1?0:t<-1?z:Math.acos(t)}function d3_asin(t){return t>1?I:t<-1?-I:Math.asin(t)}function d3_sinh(t){return((t=Math.exp(t))-1/t)/2}function d3_cosh(t){return((t=Math.exp(t))+1/t)/2}function d3_tanh(t){return((t=Math.exp(2*t))-1)/(t+1)}function d3_haversin(t){return(t=Math.sin(t/2))*t}function d3_color(){}function d3_hsl(t,e,n){return this instanceof d3_hsl?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof d3_hsl?new d3_hsl(t.h,t.s,t.l):d3_rgb_parse(""+t,d3_rgb_hsl,d3_hsl):new d3_hsl(t,e,n)}function d3_hsl_rgb(t,e,n){function v(t){return t>360?t-=360:t<0&&(t+=360),t<60?r+(i-r)*t/60:t<180?i:t<240?r+(i-r)*(240-t)/60:r}function vv(t){return Math.round(255*v(t))}var r,i;return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:e<0?0:e>1?1:e,n=n<0?0:n>1?1:n,i=n<=.5?n*(1+e):n+e-n*e,r=2*n-i,new d3_rgb(vv(t+120),vv(t),vv(t-120))}function d3_hcl(t,e,n){return this instanceof d3_hcl?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof d3_hcl?new d3_hcl(t.h,t.c,t.l):t instanceof d3_lab?d3_lab_hcl(t.l,t.a,t.b):d3_lab_hcl((t=d3_rgb_lab((t=a.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new d3_hcl(t,e,n)}function d3_hcl_lab(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new d3_lab(n,Math.cos(t*=W)*e,Math.sin(t)*e)}function d3_lab(t,e,n){return this instanceof d3_lab?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof d3_lab?new d3_lab(t.l,t.a,t.b):t instanceof d3_hcl?d3_hcl_lab(t.h,t.c,t.l):d3_rgb_lab((t=d3_rgb(t)).r,t.g,t.b):new d3_lab(t,e,n)}function d3_lab_rgb(t,e,n){var r=(t+16)/116,i=r+e/500,a=r-n/200;return i=d3_lab_xyz(i)*$,r=d3_lab_xyz(r)*J,a=d3_lab_xyz(a)*Q,new d3_rgb(d3_xyz_rgb(3.2404542*i-1.5371385*r-.4985314*a),d3_xyz_rgb(-.969266*i+1.8760108*r+.041556*a),d3_xyz_rgb(.0556434*i-.2040259*r+1.0572252*a))}function d3_lab_hcl(t,e,n){return t>0?new d3_hcl(Math.atan2(n,e)*O,Math.sqrt(e*e+n*n),t):new d3_hcl(NaN,NaN,t)}function d3_lab_xyz(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function d3_xyz_lab(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function d3_xyz_rgb(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function d3_rgb(t,e,n){return this instanceof d3_rgb?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof d3_rgb?new d3_rgb(t.r,t.g,t.b):d3_rgb_parse(""+t,d3_rgb,d3_hsl_rgb):new d3_rgb(t,e,n)}function d3_rgbNumber(t){return new d3_rgb(t>>16,t>>8&255,255&t)}function d3_rgbString(t){return d3_rgbNumber(t)+""}function d3_rgb_hex(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function d3_rgb_parse(t,e,n){var r,i,a,o=0,s=0,l=0;if(r=/([a-z]+)\((.*)\)/.exec(t=t.toLowerCase()))switch(i=r[2].split(","),r[1]){case"hsl":return n(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return e(d3_rgb_parseNumber(i[0]),d3_rgb_parseNumber(i[1]),d3_rgb_parseNumber(i[2]))}return(a=et.get(t))?e(a.r,a.g,a.b):(null==t||"#"!==t.charAt(0)||isNaN(a=parseInt(t.slice(1),16))||(4===t.length?(o=(3840&a)>>4,o|=o>>4,s=240&a,s|=s>>4,l=15&a,l|=l<<4):7===t.length&&(o=(16711680&a)>>16,s=(65280&a)>>8,l=255&a)),e(o,s,l))}function d3_rgb_hsl(t,e,n){var r,i,a=Math.min(t/=255,e/=255,n/=255),o=Math.max(t,e,n),s=o-a,l=(o+a)/2;return s?(i=l<.5?s/(o+a):s/(2-o-a),r=t==o?(e-n)/s+(e<n?6:0):e==o?(n-t)/s+2:(t-e)/s+4,r*=60):(r=NaN,i=l>0&&l<1?0:r),new d3_hsl(r,i,l)}function d3_rgb_lab(t,e,n){t=d3_rgb_xyz(t),e=d3_rgb_xyz(e),n=d3_rgb_xyz(n);var r=d3_xyz_lab((.4124564*t+.3575761*e+.1804375*n)/$),i=d3_xyz_lab((.2126729*t+.7151522*e+.072175*n)/J);return d3_lab(116*i-16,500*(r-i),200*(i-d3_xyz_lab((.0193339*t+.119192*e+.9503041*n)/Q)))}function d3_rgb_xyz(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function d3_rgb_parseNumber(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}function d3_functor(t){return"function"==typeof t?t:function(){return t}}function d3_xhrType(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),d3_xhr(e,n,t,r)}}function d3_xhr(t,e,n,r){function respond(){var t,e=c.status;if(!e&&d3_xhrHasResponse(c)||e>=200&&e<300||304===e){try{t=n.call(i,c)}catch(t){return void o.error.call(i,t)}o.load.call(i,t)}else o.error.call(i,c)}var i={},o=a.dispatch("beforesend","progress","load","error"),l={},c=new XMLHttpRequest,u=null;return!this.XDomainRequest||"withCredentials"in c||!/^(http(s)?:)?\/\//.test(t)||(c=new XDomainRequest),"onload"in c?c.onload=c.onerror=respond:c.onreadystatechange=function(){c.readyState>3&&respond()},c.onprogress=function(t){var e=a.event;a.event=t;try{o.progress.call(i,c)}finally{a.event=e}},i.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?l[t]:(null==e?delete l[t]:l[t]=e+"",i)},i.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",i):e},i.responseType=function(t){return arguments.length?(u=t,i):u},i.response=function(t){return n=t,i},["get","post"].forEach(function(t){i[t]=function(){return i.send.apply(i,[t].concat(s(arguments)))}}),i.send=function(n,r,a){if(2===arguments.length&&"function"==typeof r&&(a=r,r=null),c.open(n,t,!0),null==e||"accept"in l||(l.accept=e+",*/*"),c.setRequestHeader)for(var s in l)c.setRequestHeader(s,l[s]);return null!=e&&c.overrideMimeType&&c.overrideMimeType(e),null!=u&&(c.responseType=u),null!=a&&i.on("error",a).on("load",function(t){a(null,t)}),o.beforesend.call(i,c),c.send(null==r?null:r),i},i.abort=function(){return c.abort(),i},a.rebind(i,o,"on"),null==r?i:i.get(d3_xhr_fixCallback(r))}function d3_xhr_fixCallback(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}function d3_xhrHasResponse(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function d3_timer(t,e,n){var r=arguments.length;r<2&&(e=0),r<3&&(n=Date.now());var i=n+e,a={c:t,t:i,n:null};return rt?rt.n=a:nt=a,rt=a,it||(at=clearTimeout(at),it=1,ot(d3_timer_step)),a}function d3_timer_step(){var t=d3_timer_mark(),e=d3_timer_sweep()-t;e>24?(isFinite(e)&&(clearTimeout(at),at=setTimeout(d3_timer_step,e)),it=0):(it=1,ot(d3_timer_step))}function d3_timer_mark(){for(var t=Date.now(),e=nt;e;)t>=e.t&&e.c(t-e.t)&&(e.c=null),e=e.n;return t}function d3_timer_sweep(){for(var t,e=nt,n=1/0;e;)e.c?(e.t<n&&(n=e.t),e=(t=e).n):e=t?t.n=e.n:nt=e.n;return rt=t,n}function d3_format_precision(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function d3_formatPrefix(t,e){var n=Math.pow(10,3*g(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}}function d3_locale_numberFormat(t){var e=t.decimal,n=t.thousands,r=t.grouping,i=t.currency,o=r&&n?function(t,e){for(var i=t.length,a=[],o=0,s=r[0],l=0;i>0&&s>0&&(l+s+1>e&&(s=Math.max(1,e-l)),a.push(t.substring(i-=s,i+s)),!((l+=s+1)>e));)s=r[o=(o+1)%r.length];return a.reverse().join(n)}:d3_identity;return function(t){var n=lt.exec(t),r=n[1]||" ",s=n[2]||">",l=n[3]||"-",c=n[4]||"",u=n[5],d=+n[6],h=n[7],f=n[8],p=n[9],g=1,v="",m="",y=!1,_=!0;switch(f&&(f=+f.substring(1)),(u||"0"===r&&"="===s)&&(u=r="0",s="="),p){case"n":h=!0,p="g";break;case"%":g=100,m="%",p="f";break;case"p":g=100,m="%",p="r";break;case"b":case"o":case"x":case"X":"#"===c&&(v="0"+p.toLowerCase());case"c":_=!1;case"d":y=!0,f=0;break;case"s":g=-1,p="r"}"$"===c&&(v=i[0],m=i[1]),"r"!=p||f||(p="g"),null!=f&&("g"==p?f=Math.max(1,Math.min(21,f)):"e"!=p&&"f"!=p||(f=Math.max(0,Math.min(20,f)))),p=ct.get(p)||d3_format_typeDefault;var x=u&&h;return function(t){var n=m;if(y&&t%1)return"";var i=t<0||0===t&&1/t<0?(t=-t,"-"):"-"===l?"":l;if(g<0){var c=a.formatPrefix(t,f);t=c.scale(t),n=c.symbol+m}else t*=g;t=p(t,f);var b,k,w=t.lastIndexOf(".");if(w<0){var M=_?t.lastIndexOf("e"):-1;M<0?(b=t,k=""):(b=t.substring(0,M),k=t.substring(M))}else b=t.substring(0,w),k=e+t.substring(w+1);!u&&h&&(b=o(b,1/0));var C=v.length+b.length+k.length+(x?0:i.length),S=C<d?new Array(C=d-C+1).join(r):"";return x&&(b=o(S+b,S.length?d-k.length:1/0)),i+=v,t=b+k,("<"===s?i+t+S:">"===s?S+i+t:"^"===s?S.substring(0,C>>=1)+i+t+S.substring(C):i+(x?t:S+t))+n}}}function d3_format_typeDefault(t){return t+""}function d3_date_utc(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function d3_time_interval(t,e,n){function round(e){var n=t(e),r=offset(n,1);return e-n<r-e?n:r}function ceil(n){return e(n=t(new dt(n-1)),1),n}function offset(t,n){return e(t=new dt(+t),n),t}function range(t,r,i){var a=ceil(t),o=[];if(i>1)for(;a<r;)n(a)%i||o.push(new Date(+a)),e(a,1);else for(;a<r;)o.push(new Date(+a)),e(a,1);return o}function range_utc(t,e,n){try{dt=d3_date_utc;var r=new d3_date_utc;return r._=t,range(r,e,n)}finally{dt=Date}}t.floor=t,t.round=round,t.ceil=ceil,t.offset=offset,t.range=range;var r=t.utc=d3_time_interval_utc(t);return r.floor=r,r.round=d3_time_interval_utc(round),r.ceil=d3_time_interval_utc(ceil),r.offset=d3_time_interval_utc(offset),r.range=range_utc,t}function d3_time_interval_utc(t){return function(e,n){try{dt=d3_date_utc;var r=new d3_date_utc;return r._=e,t(r,n)._}finally{dt=Date}}}function d3_locale_timeFormat(t){function d3_time_format(t){function format(n){for(var r,i,a,o=[],s=-1,l=0;++s<e;)37===t.charCodeAt(s)&&(o.push(t.slice(l,s)),null!=(i=ft[r=t.charAt(++s)])&&(r=t.charAt(++s)),(a=_[r])&&(r=a(n,null==i?"e"===r?" ":"0":i)),o.push(r),l=s+1);return o.push(t.slice(l,s)),o.join("")}var e=t.length;return format.parse=function(e){var n={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(d3_time_parse(n,t,e,0)!=e.length)return null;"p"in n&&(n.H=n.H%12+12*n.p);var r=null!=n.Z&&dt!==d3_date_utc,i=new(r?d3_date_utc:dt);return"j"in n?i.setFullYear(n.y,0,n.j):"W"in n||"U"in n?("w"in n||(n.w="W"in n?1:0),i.setFullYear(n.y,0,1),i.setFullYear(n.y,0,"W"in n?(n.w+6)%7+7*n.W-(i.getDay()+5)%7:n.w+7*n.U-(i.getDay()+6)%7)):i.setFullYear(n.y,n.m,n.d),i.setHours(n.H+(n.Z/100|0),n.M+n.Z%100,n.S,n.L),r?i._:i},format.toString=function(){return t},format}function d3_time_parse(t,e,n,r){for(var i,a,o,s=0,l=e.length,c=n.length;s<l;){if(r>=c)return-1;if(37===(i=e.charCodeAt(s++))){if(o=e.charAt(s++),!(a=x[o in ft?e.charAt(s++):o])||(r=a(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function d3_time_parseWeekdayAbbrev(t,e,n){f.lastIndex=0;var r=f.exec(e.slice(n));return r?(t.w=p.get(r[0].toLowerCase()),n+r[0].length):-1}function d3_time_parseWeekday(t,e,n){d.lastIndex=0;var r=d.exec(e.slice(n));return r?(t.w=h.get(r[0].toLowerCase()),n+r[0].length):-1}function d3_time_parseMonthAbbrev(t,e,n){m.lastIndex=0;var r=m.exec(e.slice(n));return r?(t.m=y.get(r[0].toLowerCase()),n+r[0].length):-1}function d3_time_parseMonth(t,e,n){g.lastIndex=0;var r=g.exec(e.slice(n));return r?(t.m=v.get(r[0].toLowerCase()),n+r[0].length):-1}function d3_time_parseLocaleFull(t,e,n){return d3_time_parse(t,_.c.toString(),e,n)}function d3_time_parseLocaleDate(t,e,n){return d3_time_parse(t,_.x.toString(),e,n)}function d3_time_parseLocaleTime(t,e,n){return d3_time_parse(t,_.X.toString(),e,n)}function d3_time_parseAmPm(t,e,n){var r=u.get(e.slice(n,n+=2).toLowerCase());return null==r?-1:(t.p=r,n)}var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,l=t.months,c=t.shortMonths;d3_time_format.utc=function(t){function format(t){try{dt=d3_date_utc;var n=new dt;return n._=t,e(n)}finally{dt=Date}}var e=d3_time_format(t);return format.parse=function(t){try{dt=d3_date_utc;var n=e.parse(t);return n&&n._}finally{dt=Date}},format.toString=e.toString,format},d3_time_format.multi=d3_time_format.utc.multi=d3_time_formatMulti;var u=a.map(),d=d3_time_formatRe(o),h=d3_time_formatLookup(o),f=d3_time_formatRe(s),p=d3_time_formatLookup(s),g=d3_time_formatRe(l),v=d3_time_formatLookup(l),m=d3_time_formatRe(c),y=d3_time_formatLookup(c);i.forEach(function(t,e){u.set(t.toLowerCase(),e)});var _={a:function(t){return s[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return c[t.getMonth()]},B:function(t){return l[t.getMonth()]},c:d3_time_format(e),d:function(t,e){return d3_time_formatPad(t.getDate(),e,2)},e:function(t,e){return d3_time_formatPad(t.getDate(),e,2)},H:function(t,e){return d3_time_formatPad(t.getHours(),e,2)},I:function(t,e){return d3_time_formatPad(t.getHours()%12||12,e,2)},j:function(t,e){return d3_time_formatPad(1+ut.dayOfYear(t),e,3)},L:function(t,e){return d3_time_formatPad(t.getMilliseconds(),e,3)},m:function(t,e){return d3_time_formatPad(t.getMonth()+1,e,2)},M:function(t,e){return d3_time_formatPad(t.getMinutes(),e,2)},p:function(t){return i[+(t.getHours()>=12)]},S:function(t,e){return d3_time_formatPad(t.getSeconds(),e,2)},U:function(t,e){return d3_time_formatPad(ut.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return d3_time_formatPad(ut.mondayOfYear(t),e,2)},x:d3_time_format(n),X:d3_time_format(r),y:function(t,e){return d3_time_formatPad(t.getFullYear()%100,e,2)},Y:function(t,e){return d3_time_formatPad(t.getFullYear()%1e4,e,4)},Z:d3_time_zone,"%":function(){return"%"}},x={a:d3_time_parseWeekdayAbbrev,A:d3_time_parseWeekday,b:d3_time_parseMonthAbbrev,B:d3_time_parseMonth,c:d3_time_parseLocaleFull,d:d3_time_parseDay,e:d3_time_parseDay,H:d3_time_parseHour24,I:d3_time_parseHour24,j:d3_time_parseDayOfYear,L:d3_time_parseMilliseconds,m:d3_time_parseMonthNumber,M:d3_time_parseMinutes,p:d3_time_parseAmPm,S:d3_time_parseSeconds,U:d3_time_parseWeekNumberSunday,w:d3_time_parseWeekdayNumber,W:d3_time_parseWeekNumberMonday,x:d3_time_parseLocaleDate,X:d3_time_parseLocaleTime,y:d3_time_parseYear,Y:d3_time_parseFullYear,Z:d3_time_parseZone,"%":d3_time_parseLiteralPercent};return d3_time_format}function d3_time_formatPad(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function d3_time_formatRe(t){return new RegExp("^(?:"+t.map(a.requote).join("|")+")","i")}function d3_time_formatLookup(t){for(var e=new d3_Map,n=-1,r=t.length;++n<r;)e.set(t[n].toLowerCase(),n);return e}function d3_time_parseWeekdayNumber(t,e,n){pt.lastIndex=0;var r=pt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function d3_time_parseWeekNumberSunday(t,e,n){pt.lastIndex=0;var r=pt.exec(e.slice(n));return r?(t.U=+r[0],n+r[0].length):-1}function d3_time_parseWeekNumberMonday(t,e,n){pt.lastIndex=0;var r=pt.exec(e.slice(n));return r?(t.W=+r[0],n+r[0].length):-1}function d3_time_parseFullYear(t,e,n){pt.lastIndex=0;var r=pt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function d3_time_parseYear(t,e,n){pt.lastIndex=0;var r=pt.exec(e.slice(n,n+2));return r?(t.y=d3_time_expandYear(+r[0]),n+r[0].length):-1}function d3_time_parseZone(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function d3_time_expandYear(t){return t+(t>68?1900:2e3)}function d3_time_parseMonthNumber(t,e,n){pt.lastIndex=0;var r=pt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function d3_time_parseDay(t,e,n){pt.lastIndex=0;var r=pt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function d3_time_parseDayOfYear(t,e,n){pt.lastIndex=0;var r=pt.exec(e.slice(n,n+3));return r?(t.j=+r[0],n+r[0].length):-1}function d3_time_parseHour24(t,e,n){pt.lastIndex=0;var r=pt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function d3_time_parseMinutes(t,e,n){pt.lastIndex=0;var r=pt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function d3_time_parseSeconds(t,e,n){pt.lastIndex=0;var r=pt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function d3_time_parseMilliseconds(t,e,n){pt.lastIndex=0;var r=pt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function d3_time_zone(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",r=g(e)/60|0,i=g(e)%60;return n+d3_time_formatPad(r,"0",2)+d3_time_formatPad(i,"0",2)}function d3_time_parseLiteralPercent(t,e,n){gt.lastIndex=0;var r=gt.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function d3_time_formatMulti(t){for(var e=t.length,n=-1;++n<e;)t[n][0]=this(t[n][0]);return function(e){for(var n=0,r=t[n];!r[1](e);)r=t[++n];return r[0](e)}}function d3_adder(){}function d3_adderSum(t,e,n){var r=n.s=t+e,i=r-t,a=r-i;n.t=t-a+(e-i)}function d3_geo_streamGeometry(t,e){t&&_t.hasOwnProperty(t.type)&&_t[t.type](t,e)}function d3_geo_streamLine(t,e,n){var r,i=-1,a=t.length-n;for(e.lineStart();++i<a;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function d3_geo_streamPolygon(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)d3_geo_streamLine(t[n],e,1);e.polygonEnd()}function d3_geo_areaRingStart(){function nextPoint(t,e){t*=W,e=e*W/2+z/4;var a=t-n,o=a>=0?1:-1,s=o*a,l=Math.cos(e),c=Math.sin(e),u=i*c,d=r*l+u*Math.cos(s),h=u*o*Math.sin(s);bt.add(Math.atan2(h,d)),n=t,r=l,i=c}var t,e,n,r,i;kt.point=function(a,o){kt.point=nextPoint,n=(t=a)*W,r=Math.cos(o=(e=o)*W/2+z/4),i=Math.sin(o)},kt.lineEnd=function(){nextPoint(t,e)}}function d3_geo_cartesian(t){var e=t[0],n=t[1],r=Math.cos(n);return[r*Math.cos(e),r*Math.sin(e),Math.sin(n)]}function d3_geo_cartesianDot(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function d3_geo_cartesianCross(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function d3_geo_cartesianAdd(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function d3_geo_cartesianScale(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function d3_geo_cartesianNormalize(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function d3_geo_spherical(t){return[Math.atan2(t[1],t[0]),d3_asin(t[2])]}function d3_geo_sphericalEqual(t,e){return g(t[0]-e[0])<N&&g(t[1]-e[1])<N}function d3_geo_centroidPoint(t,e){t*=W;var n=Math.cos(e*=W);d3_geo_centroidPointXYZ(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function d3_geo_centroidPointXYZ(t,e,n){++wt,Ct+=(t-Ct)/wt,St+=(e-St)/wt,At+=(n-At)/wt}function d3_geo_centroidLineStart(){function nextPoint(r,i){r*=W;var a=Math.cos(i*=W),o=a*Math.cos(r),s=a*Math.sin(r),l=Math.sin(i),c=Math.atan2(Math.sqrt((c=e*l-n*s)*c+(c=n*o-t*l)*c+(c=t*s-e*o)*c),t*o+e*s+n*l);Mt+=c,Et+=c*(t+(t=o)),Tt+=c*(e+(e=s)),Lt+=c*(n+(n=l)),d3_geo_centroidPointXYZ(t,e,n)}var t,e,n;Pt.point=function(r,i){r*=W;var a=Math.cos(i*=W);t=a*Math.cos(r),e=a*Math.sin(r),n=Math.sin(i),Pt.point=nextPoint,d3_geo_centroidPointXYZ(t,e,n)}}function d3_geo_centroidLineEnd(){Pt.point=d3_geo_centroidPoint}function d3_geo_centroidRingStart(){function nextPoint(t,e){t*=W;var a=Math.cos(e*=W),o=a*Math.cos(t),s=a*Math.sin(t),l=Math.sin(e),c=r*l-i*s,u=i*o-n*l,d=n*s-r*o,h=Math.sqrt(c*c+u*u+d*d),f=n*o+r*s+i*l,p=h&&-d3_acos(f)/h,g=Math.atan2(h,f);Dt+=p*c,Ft+=p*u,Nt+=p*d,Mt+=g,Et+=g*(n+(n=o)),Tt+=g*(r+(r=s)),Lt+=g*(i+(i=l)),d3_geo_centroidPointXYZ(n,r,i)}var t,e,n,r,i;Pt.point=function(a,o){t=a,e=o,Pt.point=nextPoint,a*=W;var s=Math.cos(o*=W);n=s*Math.cos(a),r=s*Math.sin(a),i=Math.sin(o),d3_geo_centroidPointXYZ(n,r,i)},Pt.lineEnd=function(){nextPoint(t,e),Pt.lineEnd=d3_geo_centroidLineEnd,Pt.point=d3_geo_centroidPoint}}function d3_geo_compose(t,e){function compose(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(compose.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),compose}function d3_true(){return!0}function d3_geo_clipPolygon(t,e,n,r,i){var a=[],o=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],r=t[e];if(d3_geo_sphericalEqual(n,r)){i.lineStart();for(var s=0;s<e;++s)i.point((n=t[s])[0],n[1]);return void i.lineEnd()}var l=new d3_geo_clipPolygonIntersection(n,t,null,!0),c=new d3_geo_clipPolygonIntersection(n,null,l,!1);l.o=c,a.push(l),o.push(c),l=new d3_geo_clipPolygonIntersection(r,t,null,!1),c=new d3_geo_clipPolygonIntersection(r,null,l,!0),l.o=c,a.push(l),o.push(c)}}),o.sort(e),d3_geo_clipPolygonLinkCircular(a),d3_geo_clipPolygonLinkCircular(o),a.length){for(var s=0,l=n,c=o.length;s<c;++s)o[s].e=l=!l;for(var u,d,h=a[0];;){for(var f=h,p=!0;f.v;)if((f=f.n)===h)return;u=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(p)for(var s=0,c=u.length;s<c;++s)i.point((d=u[s])[0],d[1]);else r(f.x,f.n.x,1,i);f=f.n}else{if(p){u=f.p.z;for(var s=u.length-1;s>=0;--s)i.point((d=u[s])[0],d[1])}else r(f.x,f.p.x,-1,i);f=f.p}f=f.o,u=f.z,p=!p}while(!f.v);i.lineEnd()}}}function d3_geo_clipPolygonLinkCircular(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function d3_geo_clipPolygonIntersection(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function d3_geo_clip(t,e,n,r){return function(i,o){function point(e,n){var r=i(e,n);t(e=r[0],n=r[1])&&o.point(e,n)}function pointLine(t,e){var n=i(t,e);u.point(n[0],n[1])}function lineStart(){h.point=pointLine,u.lineStart()}function lineEnd(){h.point=point,u.lineEnd()}function pointRing(t,e){c.push([t,e]);var n=i(t,e);p.point(n[0],n[1])}function ringStart(){p.lineStart(),c=[]}function ringEnd(){pointRing(c[0][0],c[0][1]),p.lineEnd();var t,e=p.clean(),n=f.buffer(),r=n.length;if(c.pop(),l.push(c),c=null,r)if(1&e){t=n[0];var i,r=t.length-1,a=-1;if(r>0){for(g||(o.polygonStart(),g=!0),o.lineStart();++a<r;)o.point((i=t[a])[0],i[1]);o.lineEnd()}}else r>1&&2&e&&n.push(n.pop().concat(n.shift())),s.push(n.filter(d3_geo_clipSegmentLength1))}var s,l,c,u=e(o),d=i.invert(r[0],r[1]),h={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){h.point=pointRing,h.lineStart=ringStart,h.lineEnd=ringEnd,s=[],l=[]},polygonEnd:function(){h.point=point,h.lineStart=lineStart,h.lineEnd=lineEnd,s=a.merge(s);var t=d3_geo_pointInPolygon(d,l);s.length?(g||(o.polygonStart(),g=!0),d3_geo_clipPolygon(s,d3_geo_clipSort,t,n,o)):t&&(g||(o.polygonStart(),g=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),g&&(o.polygonEnd(),g=!1),s=l=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}},f=d3_geo_clipBufferListener(),p=e(f),g=!1;return h}}function d3_geo_clipSegmentLength1(t){return t.length>1}function d3_geo_clipBufferListener(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:d3_noop,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function d3_geo_clipSort(t,e){return((t=t.x)[0]<0?t[1]-I-N:I-t[1])-((e=e.x)[0]<0?e[1]-I-N:I-e[1])}function d3_geo_clipAntimeridianLine(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(a,o){var s=a>0?z:-z,l=g(a-n);g(l-z)<N?(t.point(n,r=(r+o)/2>0?I:-I),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(a,r),e=0):i!==s&&l>=z&&(g(n-i)<N&&(n-=i*N),g(a-s)<N&&(a-=s*N),r=d3_geo_clipAntimeridianIntersect(n,r,a,o),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),e=0),t.point(n=a,r=o),i=s},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}function d3_geo_clipAntimeridianIntersect(t,e,n,r){var i,a,o=Math.sin(t-n);return g(o)>N?Math.atan((Math.sin(e)*(a=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(e))*Math.sin(t))/(i*a*o)):(e+r)/2}function d3_geo_clipAntimeridianInterpolate(t,e,n,r){var i;if(null==t)i=n*I,r.point(-z,i),r.point(0,i),r.point(z,i),r.point(z,0),r.point(z,-i),r.point(0,-i),r.point(-z,-i),r.point(-z,0),r.point(-z,i);else if(g(t[0]-e[0])>N){var a=t[0]<e[0]?z:-z;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(e[0],e[1])}function d3_geo_pointInPolygon(t,e){var n=t[0],r=t[1],i=[Math.sin(n),-Math.cos(n),0],a=0,o=0;bt.reset();for(var s=0,l=e.length;s<l;++s){var c=e[s],u=c.length;if(u)for(var d=c[0],h=d[0],f=d[1]/2+z/4,p=Math.sin(f),g=Math.cos(f),v=1;;){v===u&&(v=0),t=c[v];var m=t[0],y=t[1]/2+z/4,_=Math.sin(y),x=Math.cos(y),b=m-h,k=b>=0?1:-1,w=k*b,M=w>z,C=p*_;if(bt.add(Math.atan2(C*k*Math.sin(w),g*x+C*Math.cos(w))),a+=M?b+k*R:b,M^h>=n^m>=n){var S=d3_geo_cartesianCross(d3_geo_cartesian(d),d3_geo_cartesian(t));d3_geo_cartesianNormalize(S);var A=d3_geo_cartesianCross(i,S);d3_geo_cartesianNormalize(A);var E=(M^b>=0?-1:1)*d3_asin(A[2]);(r>E||r===E&&(S[0]||S[1]))&&(o+=M^b>=0?1:-1)}if(!v++)break;h=m,p=_,g=x,d=t}}return(a<-N||a<N&&bt<-N)^1&o}function d3_geo_clipCircle(t){function visible(t,n){return Math.cos(t)*Math.cos(n)>e}function clipLine(t){var e,i,a,o,s;return{lineStart:function(){o=a=!1,s=1},point:function(l,c){var u,d=[l,c],h=visible(l,c),f=n?h?0:code(l,c):h?code(l+(l<0?z:-z),c):0;if(!e&&(o=a=h)&&t.lineStart(),h!==a&&(u=intersect(e,d),(d3_geo_sphericalEqual(e,u)||d3_geo_sphericalEqual(d,u))&&(d[0]+=N,d[1]+=N,h=visible(d[0],d[1]))),h!==a)s=0,h?(t.lineStart(),u=intersect(d,e),t.point(u[0],u[1])):(u=intersect(e,d),t.point(u[0],u[1]),t.lineEnd()),e=u;else if(r&&e&&n^h){var p;f&i||!(p=intersect(d,e,!0))||(s=0,n?(t.lineStart(),t.point(p[0][0],p[0][1]),t.point(p[1][0],p[1][1]),t.lineEnd()):(t.point(p[1][0],p[1][1]),t.lineEnd(),t.lineStart(),t.point(p[0][0],p[0][1])))}!h||e&&d3_geo_sphericalEqual(e,d)||t.point(d[0],d[1]),e=d,a=h,i=f},lineEnd:function(){a&&t.lineEnd(),e=null},clean:function(){return s|(o&&a)<<1}}}function intersect(t,n,r){var i=d3_geo_cartesian(t),a=d3_geo_cartesian(n),o=[1,0,0],s=d3_geo_cartesianCross(i,a),l=d3_geo_cartesianDot(s,s),c=s[0],u=l-c*c;if(!u)return!r&&t;var d=e*l/u,h=-e*c/u,f=d3_geo_cartesianCross(o,s),p=d3_geo_cartesianScale(o,d);d3_geo_cartesianAdd(p,d3_geo_cartesianScale(s,h));var v=f,m=d3_geo_cartesianDot(p,v),y=d3_geo_cartesianDot(v,v),_=m*m-y*(d3_geo_cartesianDot(p,p)-1);if(!(_<0)){var x=Math.sqrt(_),b=d3_geo_cartesianScale(v,(-m-x)/y);if(d3_geo_cartesianAdd(b,p),b=d3_geo_spherical(b),!r)return b;var k,w=t[0],M=n[0],C=t[1],S=n[1];M<w&&(k=w,w=M,M=k);var A=M-w,E=g(A-z)<N,T=E||A<N;if(!E&&S<C&&(k=C,C=S,S=k),T?E?C+S>0^b[1]<(g(b[0]-w)<N?C:S):C<=b[1]&&b[1]<=S:A>z^(w<=b[0]&&b[0]<=M)){var L=d3_geo_cartesianScale(v,(-m+x)/y);return d3_geo_cartesianAdd(L,p),[b,d3_geo_spherical(L)]}}}function code(e,r){var i=n?t:z-t,a=0;return e<-i?a|=1:e>i&&(a|=2),r<-i?a|=4:r>i&&(a|=8),a}var e=Math.cos(t),n=e>0,r=g(e)>N;return d3_geo_clip(visible,clipLine,d3_geo_circleInterpolate(t,6*W),n?[0,-t]:[-z,t-z])}function d3_geom_clipLine(t,e,n,r){return function(i){var a,o=i.a,s=i.b,l=o.x,c=o.y,u=s.x,d=s.y,h=0,f=1,p=u-l,g=d-c;if(a=t-l,p||!(a>0)){if(a/=p,p<0){if(a<h)return;a<f&&(f=a)}else if(p>0){if(a>f)return;a>h&&(h=a)}if(a=n-l,p||!(a<0)){if(a/=p,p<0){if(a>f)return;a>h&&(h=a)}else if(p>0){if(a<h)return;a<f&&(f=a)}if(a=e-c,g||!(a>0)){if(a/=g,g<0){if(a<h)return;a<f&&(f=a)}else if(g>0){if(a>f)return;a>h&&(h=a)}if(a=r-c,g||!(a<0)){if(a/=g,g<0){if(a>f)return;a>h&&(h=a)}else if(g>0){if(a<h)return;a<f&&(f=a)}return h>0&&(i.a={x:l+h*p,y:c+h*g}),f<1&&(i.b={x:l+f*p,y:c+f*g}),i}}}}}}function d3_geo_clipExtent(t,e,n,r){function corner(r,i){return g(r[0]-t)<N?i>0?0:3:g(r[0]-n)<N?i>0?2:1:g(r[1]-e)<N?i>0?1:0:i>0?3:2}function compare(t,e){return comparePoints(t.x,e.x)}function comparePoints(t,e){var n=corner(t,1),r=corner(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(i){function insidePolygon(t){for(var e=0,n=s.length,r=t[1],i=0;i<n;++i)for(var a,o=1,l=s[i],c=l.length,u=l[0];o<c;++o)a=l[o],u[1]<=r?a[1]>r&&d3_cross2d(u,a,t)>0&&++e:a[1]<=r&&d3_cross2d(u,a,t)<0&&--e,u=a;return 0!==e}function interpolate(i,a,o,s){var l=0,c=0;if(null==i||(l=corner(i,o))!==(c=corner(a,o))||comparePoints(i,a)<0^o>0)do{s.point(0===l||3===l?t:n,l>1?r:e)}while((l=(l+o+4)%4)!==c);else s.point(a[0],a[1])}function pointVisible(i,a){return t<=i&&i<=n&&e<=a&&a<=r}function point(t,e){pointVisible(t,e)&&i.point(t,e)}function lineStart(){x.point=linePoint,s&&s.push(l=[]),g=!0,p=!1,h=f=NaN}function lineEnd(){o&&(linePoint(c,u),d&&p&&y.rejoin(),o.push(y.buffer())),x.point=point,p&&i.lineEnd()}function linePoint(t,e){t=Math.max(-Rt,Math.min(Rt,t)),e=Math.max(-Rt,Math.min(Rt,e));var n=pointVisible(t,e);if(s&&l.push([t,e]),g)c=t,u=e,d=n,g=!1,n&&(i.lineStart(),i.point(t,e));else if(n&&p)i.point(t,e);else{var r={a:{x:h,y:f},b:{x:t,y:e}};_(r)?(p||(i.lineStart(),i.point(r.a.x,r.a.y)),i.point(r.b.x,r.b.y),n||i.lineEnd(),v=!1):n&&(i.lineStart(),i.point(t,e),v=!1)}h=t,f=e,p=n}var o,s,l,c,u,d,h,f,p,g,v,m=i,y=d3_geo_clipBufferListener(),_=d3_geom_clipLine(t,e,n,r),x={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){i=y,o=[],s=[],v=!0},polygonEnd:function(){i=m,o=a.merge(o);var e=insidePolygon([t,r]),n=v&&e,c=o.length;(n||c)&&(i.polygonStart(),n&&(i.lineStart(),interpolate(null,null,1,i),i.lineEnd()),c&&d3_geo_clipPolygon(o,compare,e,interpolate,i),i.polygonEnd()),o=s=l=null}};return x}}function d3_geo_conic(t){var e=0,n=z/3,r=d3_geo_projectionMutator(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*z/180,n=t[1]*z/180):[e/z*180,n/z*180]},i}function d3_geo_conicEqualArea(t,e){function forward(t,e){var n=Math.sqrt(i-2*r*Math.sin(e))/r;return[n*Math.sin(t*=r),a-n*Math.cos(t)]}var n=Math.sin(t),r=(n+Math.sin(e))/2,i=1+n*(2*r-n),a=Math.sqrt(i)/r;return forward.invert=function(t,e){var n=a-e;return[Math.atan2(t,n)/r,d3_asin((i-(t*t+n*n)*r*r)/(2*r))]},forward}function d3_geo_pathAreaRingStart(){function nextPoint(t,e){It+=r*t-n*e,n=t,r=e}var t,e,n,r;jt.point=function(i,a){jt.point=nextPoint,t=n=i,e=r=a},jt.lineEnd=function(){nextPoint(t,e)}}function d3_geo_pathBoundsPoint(t,e){t<Wt&&(Wt=t),t>Ht&&(Ht=t),e<Ot&&(Ot=e),e>Gt&&(Gt=e)}function d3_geo_pathBuffer(){function point(n,r){e.push("M",n,",",r,t)}function pointLineStart(t,r){e.push("M",t,",",r),n.point=pointLine}function pointLine(t,n){e.push("L",t,",",n)}function lineEnd(){n.point=point}function lineEndPolygon(){e.push("Z")}var t=d3_geo_pathBufferCircle(4.5),e=[],n={point:point,lineStart:function(){n.point=pointLineStart},lineEnd:lineEnd,polygonStart:function(){n.lineEnd=lineEndPolygon},polygonEnd:function(){n.lineEnd=lineEnd,n.point=point},pointRadius:function(e){return t=d3_geo_pathBufferCircle(e),n},result:function(){if(e.length){var t=e.join("");return e=[],t}}};return n}function d3_geo_pathBufferCircle(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function d3_geo_pathCentroidPoint(t,e){Ct+=t,St+=e,++At}function d3_geo_pathCentroidLineStart(){function nextPoint(n,r){var i=n-t,a=r-e,o=Math.sqrt(i*i+a*a);Et+=o*(t+n)/2,Tt+=o*(e+r)/2,Lt+=o,d3_geo_pathCentroidPoint(t=n,e=r)}var t,e;Yt.point=function(n,r){Yt.point=nextPoint,d3_geo_pathCentroidPoint(t=n,e=r)}}function d3_geo_pathCentroidLineEnd(){Yt.point=d3_geo_pathCentroidPoint}function d3_geo_pathCentroidRingStart(){function nextPoint(t,e){var i=t-n,a=e-r,o=Math.sqrt(i*i+a*a);Et+=o*(n+t)/2,Tt+=o*(r+e)/2,Lt+=o,o=r*t-n*e,Dt+=o*(n+t),Ft+=o*(r+e),Nt+=3*o,d3_geo_pathCentroidPoint(n=t,r=e)}var t,e,n,r;Yt.point=function(i,a){Yt.point=nextPoint,d3_geo_pathCentroidPoint(t=n=i,e=r=a)},Yt.lineEnd=function(){nextPoint(t,e)}}function d3_geo_pathContext(t){function point(n,r){t.moveTo(n+e,r),t.arc(n,r,e,0,R)}function pointLineStart(e,r){t.moveTo(e,r),n.point=pointLine}function pointLine(e,n){t.lineTo(e,n)}function lineEnd(){n.point=point}function lineEndPolygon(){t.closePath()}var e=4.5,n={point:point,lineStart:function(){n.point=pointLineStart},lineEnd:lineEnd,polygonStart:function(){n.lineEnd=lineEndPolygon},polygonEnd:function(){n.lineEnd=lineEnd,n.point=point},pointRadius:function(t){return e=t,n},result:d3_noop};return n}function d3_geo_resample(t){function resample(t){return(r?resampleRecursive:resampleNone)(t)}function resampleNone(e){return d3_geo_transformPoint(e,function(n,r){n=t(n,r),e.point(n[0],n[1])})}function resampleRecursive(e){function point(n,r){n=t(n,r),e.point(n[0],n[1])}function lineStart(){d=NaN,v.point=linePoint,e.lineStart()}function linePoint(n,i){var a=d3_geo_cartesian([n,i]),o=t(n,i);resampleLineTo(d,h,u,f,p,g,d=o[0],h=o[1],u=n,f=a[0],p=a[1],g=a[2],r,e),e.point(d,h)}function lineEnd(){v.point=point,e.lineEnd()}function ringStart(){lineStart(),v.point=ringPoint,v.lineEnd=ringEnd}function ringPoint(t,e){linePoint(n=t,i=e),a=d,o=h,s=f,l=p,c=g,v.point=linePoint}function ringEnd(){resampleLineTo(d,h,u,f,p,g,a,o,n,s,l,c,r,e),v.lineEnd=lineEnd,lineEnd()}var n,i,a,o,s,l,c,u,d,h,f,p,g,v={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){e.polygonStart(),v.lineStart=ringStart},polygonEnd:function(){e.polygonEnd(),v.lineStart=lineStart}};return v}function resampleLineTo(r,i,a,o,s,l,c,u,d,h,f,p,v,m){var y=c-r,_=u-i,x=y*y+_*_;if(x>4*e&&v--){var b=o+h,k=s+f,w=l+p,M=Math.sqrt(b*b+k*k+w*w),C=Math.asin(w/=M),S=g(g(w)-1)<N||g(a-d)<N?(a+d)/2:Math.atan2(k,b),A=t(S,C),E=A[0],T=A[1],L=E-r,D=T-i,F=_*L-y*D;(F*F/x>e||g((y*L+_*D)/x-.5)>.3||o*h+s*f+l*p<n)&&(resampleLineTo(r,i,a,o,s,l,E,T,S,b/=M,k/=M,w,v,m),m.point(E,T),resampleLineTo(E,T,S,b,k,w,c,u,d,h,f,p,v,m))}}var e=.5,n=Math.cos(30*W),r=16;return resample.precision=function(t){return arguments.length?(r=(e=t*t)>0&&16,resample):Math.sqrt(e)},resample}function d3_geo_pathProjectStream(t){var e=d3_geo_resample(function(e,n){return t([e*O,n*O])});return function(t){return d3_geo_projectionRadians(e(t))}}function d3_geo_transform(t){this.stream=t}function d3_geo_transformPoint(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function d3_geo_projection(t){return d3_geo_projectionMutator(function(){return t})()}function d3_geo_projectionMutator(t){function projection(t){return t=r(t[0]*W,t[1]*W),[t[0]*c+i,o-t[1]*c]}function invert(t){return(t=r.invert((t[0]-i)/c,(o-t[1])/c))&&[t[0]*O,t[1]*O]}function reset(){r=d3_geo_compose(n=d3_geo_rotation(p,g,v),e);var t=e(h,f);return i=u-t[0]*c,o=d+t[1]*c,invalidate()}function invalidate(){return s&&(s.valid=!1,s=null),projection}var e,n,r,i,o,s,l=d3_geo_resample(function(t,n){return t=e(t,n),[t[0]*c+i,o-t[1]*c]}),c=150,u=480,d=250,h=0,f=0,p=0,g=0,v=0,m=zt,y=d3_identity,_=null,x=null;return projection.stream=function(t){return s&&(s.valid=!1),s=d3_geo_projectionRadians(m(n,l(y(t)))),s.valid=!0,s},projection.clipAngle=function(t){return arguments.length?(m=null==t?(_=t,zt):d3_geo_clipCircle((_=+t)*W),invalidate()):_},projection.clipExtent=function(t){return arguments.length?(x=t,y=t?d3_geo_clipExtent(t[0][0],t[0][1],t[1][0],t[1][1]):d3_identity,invalidate()):x},projection.scale=function(t){return arguments.length?(c=+t,reset()):c},projection.translate=function(t){return arguments.length?(u=+t[0],d=+t[1],reset()):[u,d]},projection.center=function(t){return arguments.length?(h=t[0]%360*W,f=t[1]%360*W,reset()):[h*O,f*O]},projection.rotate=function(t){return arguments.length?(p=t[0]%360*W,g=t[1]%360*W,v=t.length>2?t[2]%360*W:0,reset()):[p*O,g*O,v*O]},a.rebind(projection,l,"precision"),function(){return e=t.apply(this,arguments),projection.invert=e.invert&&invert,reset()}}function d3_geo_projectionRadians(t){return d3_geo_transformPoint(t,function(e,n){t.point(e*W,n*W)})}function d3_geo_equirectangular(t,e){return[t,e]}function d3_geo_identityRotation(t,e){return[t>z?t-R:t<-z?t+R:t,e]}function d3_geo_rotation(t,e,n){return t?e||n?d3_geo_compose(d3_geo_rotationλ(t),d3_geo_rotationφγ(e,n)):d3_geo_rotationλ(t):e||n?d3_geo_rotationφγ(e,n):d3_geo_identityRotation}function d3_geo_forwardRotationλ(t){return function(e,n){return e+=t,[e>z?e-R:e<-z?e+R:e,n]}}function d3_geo_rotationλ(t){var e=d3_geo_forwardRotationλ(t);return e.invert=d3_geo_forwardRotationλ(-t),e}function d3_geo_rotationφγ(t,e){function rotation(t,e){var o=Math.cos(e),s=Math.cos(t)*o,l=Math.sin(t)*o,c=Math.sin(e),u=c*n+s*r;return[Math.atan2(l*i-u*a,s*n-c*r),d3_asin(u*i+l*a)]}var n=Math.cos(t),r=Math.sin(t),i=Math.cos(e),a=Math.sin(e);return rotation.invert=function(t,e){var o=Math.cos(e),s=Math.cos(t)*o,l=Math.sin(t)*o,c=Math.sin(e),u=c*i-l*a;return[Math.atan2(l*i+c*a,s*n+u*r),d3_asin(u*n-s*r)]},rotation}function d3_geo_circleInterpolate(t,e){var n=Math.cos(t),r=Math.sin(t);return function(i,a,o,s){var l=o*e;null!=i?(i=d3_geo_circleAngle(n,i),a=d3_geo_circleAngle(n,a),(o>0?i<a:i>a)&&(i+=o*R)):(i=t+o*R,a=t-.5*l);for(var c,u=i;o>0?u>a:u<a;u-=l)s.point((c=d3_geo_spherical([n,-r*Math.cos(u),-r*Math.sin(u)]))[0],c[1])}}function d3_geo_circleAngle(t,e){var n=d3_geo_cartesian(e);n[0]-=t,d3_geo_cartesianNormalize(n);var r=d3_acos(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-N)%(2*Math.PI)}function d3_geo_graticuleX(t,e,n){var r=a.range(t,e-N,n).concat(e);return function(t){return r.map(function(e){return[t,e]})}}function d3_geo_graticuleY(t,e,n){var r=a.range(t,e-N,n).concat(e);return function(t){return r.map(function(e){return[e,t]})}}function d3_source(t){return t.source}function d3_target(t){return t.target}function d3_geo_interpolate(t,e,n,r){var i=Math.cos(e),a=Math.sin(e),o=Math.cos(r),s=Math.sin(r),l=i*Math.cos(t),c=i*Math.sin(t),u=o*Math.cos(n),d=o*Math.sin(n),h=2*Math.asin(Math.sqrt(d3_haversin(r-e)+i*o*d3_haversin(n-t))),f=1/Math.sin(h),p=h?function(t){var e=Math.sin(t*=h)*f,n=Math.sin(h-t)*f,r=n*l+e*u,i=n*c+e*d,o=n*a+e*s;return[Math.atan2(i,r)*O,Math.atan2(o,Math.sqrt(r*r+i*i))*O]}:function(){return[t*O,e*O]};return p.distance=h,p}function d3_geo_lengthLineStart(){function nextPoint(r,i){var a=Math.sin(i*=W),o=Math.cos(i),s=g((r*=W)-t),l=Math.cos(s);qt+=Math.atan2(Math.sqrt((s=o*Math.sin(s))*s+(s=n*a-e*o*l)*s),e*a+n*o*l),t=r,e=a,n=o}var t,e,n;Ut.point=function(r,i){t=r*W,e=Math.sin(i*=W),n=Math.cos(i),Ut.point=nextPoint},Ut.lineEnd=function(){Ut.point=Ut.lineEnd=d3_noop}}function d3_geo_azimuthal(t,e){function azimuthal(e,n){var r=Math.cos(e),i=Math.cos(n),a=t(r*i);return[a*i*Math.sin(e),a*Math.sin(n)]}return azimuthal.invert=function(t,n){var r=Math.sqrt(t*t+n*n),i=e(r),a=Math.sin(i),o=Math.cos(i);return[Math.atan2(t*a,r*o),Math.asin(r&&n*a/r)]},azimuthal}function d3_geo_conicConformal(t,e){function forward(t,e){a>0?e<-I+N&&(e=-I+N):e>I-N&&(e=I-N);var n=a/Math.pow(r(e),i);return[n*Math.sin(i*t),a-n*Math.cos(i*t)]}var n=Math.cos(t),r=function(t){return Math.tan(z/4+t/2)},i=t===e?Math.sin(t):Math.log(n/Math.cos(e))/Math.log(r(e)/r(t)),a=n*Math.pow(r(t),i)/i;return i?(forward.invert=function(t,e){var n=a-e,r=d3_sgn(i)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/i,2*Math.atan(Math.pow(a/r,1/i))-I]},forward):d3_geo_mercator}function d3_geo_conicEquidistant(t,e){function forward(t,e){var n=i-e;return[n*Math.sin(r*t),i-n*Math.cos(r*t)]}var n=Math.cos(t),r=t===e?Math.sin(t):(n-Math.cos(e))/(e-t),i=n/r+t;return g(r)<N?d3_geo_equirectangular:(forward.invert=function(t,e){var n=i-e;return[Math.atan2(t,n)/r,i-d3_sgn(r)*Math.sqrt(t*t+n*n)]},forward)}function d3_geo_mercator(t,e){return[t,Math.log(Math.tan(z/4+e/2))]}function d3_geo_mercatorProjection(t){var e,n=d3_geo_projection(t),r=n.scale,i=n.translate,a=n.clipExtent;return n.scale=function(){var t=r.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.translate=function(){var t=i.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.clipExtent=function(t){var o=a.apply(n,arguments);if(o===n){if(e=null==t){var s=z*r(),l=i();a([[l[0]-s,l[1]-s],[l[0]+s,l[1]+s]])}}else e&&(o=null);return o},n.clipExtent(null)}function d3_geo_transverseMercator(t,e){return[Math.log(Math.tan(z/4+e/2)),-t]}function d3_geom_pointX(t){return t[0]}function d3_geom_pointY(t){return t[1]}function d3_geom_hullUpper(t){for(var e=t.length,n=[0,1],r=2,i=2;i<e;i++){for(;r>1&&d3_cross2d(t[n[r-2]],t[n[r-1]],t[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function d3_geom_hullOrder(t,e){return t[0]-e[0]||t[1]-e[1]}function d3_geom_polygonInside(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function d3_geom_polygonIntersect(t,e,n,r){var i=t[0],a=n[0],o=e[0]-i,s=r[0]-a,l=t[1],c=n[1],u=e[1]-l,d=r[1]-c,h=(s*(l-c)-d*(i-a))/(d*o-s*u);return[i+h*o,l+h*u]}function d3_geom_polygonClosed(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}function d3_geom_voronoiBeach(){d3_geom_voronoiRedBlackNode(this),this.edge=this.site=this.circle=null}function d3_geom_voronoiCreateBeach(t){var e=ae.pop()||new d3_geom_voronoiBeach;return e.site=t,e}function d3_geom_voronoiDetachBeach(t){d3_geom_voronoiDetachCircle(t),ne.remove(t),ae.push(t),d3_geom_voronoiRedBlackNode(t)}function d3_geom_voronoiRemoveBeach(t){var e=t.circle,n=e.x,r=e.cy,i={x:n,y:r},a=t.P,o=t.N,s=[t];d3_geom_voronoiDetachBeach(t);for(var l=a;l.circle&&g(n-l.circle.x)<N&&g(r-l.circle.cy)<N;)a=l.P,s.unshift(l),d3_geom_voronoiDetachBeach(l),l=a;s.unshift(l),d3_geom_voronoiDetachCircle(l);for(var c=o;c.circle&&g(n-c.circle.x)<N&&g(r-c.circle.cy)<N;)o=c.N,s.push(c),d3_geom_voronoiDetachBeach(c),c=o;s.push(c),d3_geom_voronoiDetachCircle(c);var u,d=s.length;for(u=1;u<d;++u)c=s[u],l=s[u-1],d3_geom_voronoiSetEdgeEnd(c.edge,l.site,c.site,i);l=s[0],c=s[d-1],c.edge=d3_geom_voronoiCreateEdge(l.site,c.site,null,i),d3_geom_voronoiAttachCircle(l),d3_geom_voronoiAttachCircle(c)}function d3_geom_voronoiAddBeach(t){for(var e,n,r,i,a=t.x,o=t.y,s=ne._;s;)if((r=d3_geom_voronoiLeftBreakPoint(s,o)-a)>N)s=s.L;else{if(!((i=a-d3_geom_voronoiRightBreakPoint(s,o))>N)){r>-N?(e=s.P,n=s):i>-N?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}var l=d3_geom_voronoiCreateBeach(t);if(ne.insert(e,l),e||n){if(e===n)return d3_geom_voronoiDetachCircle(e),n=d3_geom_voronoiCreateBeach(e.site),ne.insert(l,n),l.edge=n.edge=d3_geom_voronoiCreateEdge(e.site,l.site),d3_geom_voronoiAttachCircle(e),void d3_geom_voronoiAttachCircle(n);if(!n)return void(l.edge=d3_geom_voronoiCreateEdge(e.site,l.site));d3_geom_voronoiDetachCircle(e),d3_geom_voronoiDetachCircle(n);var c=e.site,u=c.x,d=c.y,h=t.x-u,f=t.y-d,p=n.site,g=p.x-u,v=p.y-d,m=2*(h*v-f*g),y=h*h+f*f,_=g*g+v*v,x={x:(v*y-f*_)/m+u,y:(h*_-g*y)/m+d};d3_geom_voronoiSetEdgeEnd(n.edge,c,p,x),l.edge=d3_geom_voronoiCreateEdge(c,t,null,x),n.edge=d3_geom_voronoiCreateEdge(t,p,null,x),d3_geom_voronoiAttachCircle(e),d3_geom_voronoiAttachCircle(n)}}function d3_geom_voronoiLeftBreakPoint(t,e){var n=t.site,r=n.x,i=n.y,a=i-e;if(!a)return r;var o=t.P;if(!o)return-1/0;n=o.site;var s=n.x,l=n.y,c=l-e;if(!c)return s;var u=s-r,d=1/a-1/c,h=u/c;return d?(-h+Math.sqrt(h*h-2*d*(u*u/(-2*c)-l+c/2+i-a/2)))/d+r:(r+s)/2}function d3_geom_voronoiRightBreakPoint(t,e){var n=t.N;if(n)return d3_geom_voronoiLeftBreakPoint(n,e);var r=t.site;return r.y===e?r.x:1/0}function d3_geom_voronoiCell(t){this.site=t,this.edges=[]}function d3_geom_voronoiCloseCells(t){for(var e,n,r,i,a,o,s,l,c,u,d=t[0][0],h=t[1][0],f=t[0][1],p=t[1][1],v=ee,m=v.length;m--;)if((a=v[m])&&a.prepare())for(s=a.edges,l=s.length,o=0;o<l;)u=s[o].end(),r=u.x,i=u.y,c=s[++o%l].start(),e=c.x,n=c.y,(g(r-e)>N||g(i-n)>N)&&(s.splice(o,0,new d3_geom_voronoiHalfEdge(d3_geom_voronoiCreateBorderEdge(a.site,u,g(r-d)<N&&p-i>N?{x:d,y:g(e-d)<N?n:p}:g(i-p)<N&&h-r>N?{x:g(n-p)<N?e:h,y:p}:g(r-h)<N&&i-f>N?{x:h,y:g(e-h)<N?n:f}:g(i-f)<N&&r-d>N?{x:g(n-f)<N?e:d,y:f}:null),a.site,null)),++l)}function d3_geom_voronoiHalfEdgeOrder(t,e){return e.angle-t.angle}function d3_geom_voronoiCircle(){d3_geom_voronoiRedBlackNode(this),this.x=this.y=this.arc=this.site=this.cy=null}function d3_geom_voronoiAttachCircle(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,a=n.site;if(r!==a){var o=i.x,s=i.y,l=r.x-o,c=r.y-s,u=a.x-o,d=a.y-s,h=2*(l*d-c*u);if(!(h>=-P)){var f=l*l+c*c,p=u*u+d*d,g=(d*f-c*p)/h,v=(l*p-u*f)/h,d=v+s,m=oe.pop()||new d3_geom_voronoiCircle;m.arc=t,m.site=i,m.x=g+o,m.y=d+Math.sqrt(g*g+v*v),m.cy=d,t.circle=m;for(var y=null,_=ie._;_;)if(m.y<_.y||m.y===_.y&&m.x<=_.x){if(!_.L){y=_.P;break}_=_.L}else{if(!_.R){y=_;break}_=_.R}ie.insert(y,m),y||(re=m)}}}}function d3_geom_voronoiDetachCircle(t){var e=t.circle;e&&(e.P||(re=e.N),ie.remove(e),oe.push(e),d3_geom_voronoiRedBlackNode(e),t.circle=null)}function d3_geom_voronoiClipEdges(t){for(var e,n=te,r=d3_geom_clipLine(t[0][0],t[0][1],t[1][0],t[1][1]),i=n.length;i--;)e=n[i],(!d3_geom_voronoiConnectEdge(e,t)||!r(e)||g(e.a.x-e.b.x)<N&&g(e.a.y-e.b.y)<N)&&(e.a=e.b=null,n.splice(i,1))}function d3_geom_voronoiConnectEdge(t,e){var n=t.b;if(n)return!0;var r,i,a=t.a,o=e[0][0],s=e[1][0],l=e[0][1],c=e[1][1],u=t.l,d=t.r,h=u.x,f=u.y,p=d.x,g=d.y,v=(h+p)/2,m=(f+g)/2;if(g===f){if(v<o||v>=s)return;if(h>p){if(a){if(a.y>=c)return}else a={x:v,y:l};n={x:v,y:c}}else{if(a){if(a.y<l)return}else a={x:v,y:c};n={x:v,y:l}}}else if(r=(h-p)/(g-f),i=m-r*v,r<-1||r>1)if(h>p){if(a){if(a.y>=c)return}else a={x:(l-i)/r,y:l};n={x:(c-i)/r,y:c}}else{if(a){if(a.y<l)return}else a={x:(c-i)/r,y:c};n={x:(l-i)/r,y:l}}else if(f<g){if(a){if(a.x>=s)return}else a={x:o,y:r*o+i};n={x:s,y:r*s+i}}else{if(a){if(a.x<o)return}else a={x:s,y:r*s+i};n={x:o,y:r*o+i}}return t.a=a,t.b=n,!0}function d3_geom_voronoiEdge(t,e){this.l=t,this.r=e,this.a=this.b=null}function d3_geom_voronoiCreateEdge(t,e,n,r){var i=new d3_geom_voronoiEdge(t,e);return te.push(i),n&&d3_geom_voronoiSetEdgeEnd(i,t,e,n),r&&d3_geom_voronoiSetEdgeEnd(i,e,t,r),ee[t.i].edges.push(new d3_geom_voronoiHalfEdge(i,t,e)),ee[e.i].edges.push(new d3_geom_voronoiHalfEdge(i,e,t)),i}function d3_geom_voronoiCreateBorderEdge(t,e,n){var r=new d3_geom_voronoiEdge(t,null);return r.a=e,r.b=n,te.push(r),r}function d3_geom_voronoiSetEdgeEnd(t,e,n,r){t.a||t.b?t.l===n?t.b=r:t.a=r:(t.a=r,t.l=e,t.r=n)}function d3_geom_voronoiHalfEdge(t,e,n){var r=t.a,i=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function d3_geom_voronoiRedBlackTree(){this._=null}function d3_geom_voronoiRedBlackNode(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function d3_geom_voronoiRedBlackRotateLeft(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function d3_geom_voronoiRedBlackRotateRight(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function d3_geom_voronoiRedBlackFirst(t){for(;t.L;)t=t.L;return t}function d3_geom_voronoi(t,e){var n,r,i,a=t.sort(d3_geom_voronoiVertexOrder).pop();for(te=[],ee=new Array(t.length),ne=new d3_geom_voronoiRedBlackTree,ie=new d3_geom_voronoiRedBlackTree;;)if(i=re,a&&(!i||a.y<i.y||a.y===i.y&&a.x<i.x))a.x===n&&a.y===r||(ee[a.i]=new d3_geom_voronoiCell(a),d3_geom_voronoiAddBeach(a),n=a.x,r=a.y),a=t.pop();else{if(!i)break;d3_geom_voronoiRemoveBeach(i.arc)}e&&(d3_geom_voronoiClipEdges(e),d3_geom_voronoiCloseCells(e));var o={cells:ee,edges:te};return ne=ie=te=ee=null,o}function d3_geom_voronoiVertexOrder(t,e){return e.y-t.y||e.x-t.x}function d3_geom_voronoiTriangleArea(t,e,n){return(t.x-n.x)*(e.y-t.y)-(t.x-e.x)*(n.y-t.y)}function d3_geom_quadtreeCompatX(t){return t.x}function d3_geom_quadtreeCompatY(t){return t.y}function d3_geom_quadtreeNode(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function d3_geom_quadtreeVisit(t,e,n,r,i,a){if(!t(e,n,r,i,a)){var o=.5*(n+i),s=.5*(r+a),l=e.nodes;l[0]&&d3_geom_quadtreeVisit(t,l[0],n,r,o,s),l[1]&&d3_geom_quadtreeVisit(t,l[1],o,r,i,s),l[2]&&d3_geom_quadtreeVisit(t,l[2],n,s,o,a),l[3]&&d3_geom_quadtreeVisit(t,l[3],o,s,i,a)}}function d3_geom_quadtreeFind(t,e,n,r,i,a,o){var s,l=1/0;return function find(t,c,u,d,h){if(!(c>a||u>o||d<r||h<i)){if(f=t.point){var f,p=e-t.x,g=n-t.y,v=p*p+g*g;if(v<l){var m=Math.sqrt(l=v);r=e-m,i=n-m,a=e+m,o=n+m,s=f}}for(var y=t.nodes,_=.5*(c+d),x=.5*(u+h),b=e>=_,k=n>=x,w=k<<1|b,M=w+4;w<M;++w)if(t=y[3&w])switch(3&w){case 0:find(t,c,u,_,x);break;case 1:find(t,_,u,d,x);break;case 2:find(t,c,x,_,h);break;case 3:find(t,_,x,d,h)}}}(t,r,i,a,o),s}function d3_interpolateRgb(t,e){t=a.rgb(t),e=a.rgb(e);var n=t.r,r=t.g,i=t.b,o=e.r-n,s=e.g-r,l=e.b-i;return function(t){return"#"+d3_rgb_hex(Math.round(n+o*t))+d3_rgb_hex(Math.round(r+s*t))+d3_rgb_hex(Math.round(i+l*t))}}function d3_interpolateObject(t,e){var n,r={},i={};for(n in t)n in e?r[n]=d3_interpolate(t[n],e[n]):i[n]=t[n];for(n in e)n in t||(i[n]=e[n]);return function(t){for(n in r)i[n]=r[n](t);return i}}function d3_interpolateNumber(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function d3_interpolateString(t,e){var n,r,i,a=le.lastIndex=ce.lastIndex=0,o=-1,s=[],l=[];for(t+="",e+="";(n=le.exec(t))&&(r=ce.exec(e));)(i=r.index)>a&&(i=e.slice(a,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,l.push({i:o,x:d3_interpolateNumber(n,r)})),a=ce.lastIndex;return a<e.length&&(i=e.slice(a),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?(e=l[0].x,function(t){return e(t)+""}):function(){return e}:(e=l.length,function(t){for(var n,r=0;r<e;++r)s[(n=l[r]).i]=n.x(t);return s.join("")})}function d3_interpolate(t,e){for(var n,r=a.interpolators.length;--r>=0&&!(n=a.interpolators[r](t,e)););return n}function d3_interpolateArray(t,e){var n,r=[],i=[],a=t.length,o=e.length,s=Math.min(t.length,e.length);for(n=0;n<s;++n)r.push(d3_interpolate(t[n],e[n]));for(;n<a;++n)i[n]=t[n];for(;n<o;++n)i[n]=e[n];return function(t){for(n=0;n<s;++n)i[n]=r[n](t);return i}}function d3_ease_clamp(t){return function(e){return e<=0?0:e>=1?1:t(e)}}function d3_ease_reverse(t){return function(e){return 1-t(1-e)}}function d3_ease_reflect(t){return function(e){return.5*(e<.5?t(2*e):2-t(2-2*e))}}function d3_ease_quad(t){return t*t}function d3_ease_cubic(t){return t*t*t}function d3_ease_cubicInOut(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}function d3_ease_poly(t){return function(e){return Math.pow(e,t)}}function d3_ease_sin(t){return 1-Math.cos(t*I)}function d3_ease_exp(t){return Math.pow(2,10*(t-1))}function d3_ease_circle(t){return 1-Math.sqrt(1-t*t)}function d3_ease_elastic(t,e){var n;return arguments.length<2&&(e=.45),arguments.length?n=e/R*Math.asin(1/t):(t=1,n=e/4),function(r){return 1+t*Math.pow(2,-10*r)*Math.sin((r-n)*R/e)}}function d3_ease_back(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}}function d3_ease_bounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function d3_interpolateHcl(t,e){t=a.hcl(t),e=a.hcl(e);var n=t.h,r=t.c,i=t.l,o=e.h-n,s=e.c-r,l=e.l-i;return isNaN(s)&&(s=0,r=isNaN(r)?e.c:r),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:o<-180&&(o+=360),function(t){return d3_hcl_lab(n+o*t,r+s*t,i+l*t)+""}}function d3_interpolateHsl(t,e){t=a.hsl(t),e=a.hsl(e);var n=t.h,r=t.s,i=t.l,o=e.h-n,s=e.s-r,l=e.l-i;return isNaN(s)&&(s=0,r=isNaN(r)?e.s:r),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:o<-180&&(o+=360),function(t){return d3_hsl_rgb(n+o*t,r+s*t,i+l*t)+""}}function d3_interpolateLab(t,e){t=a.lab(t),e=a.lab(e);var n=t.l,r=t.a,i=t.b,o=e.l-n,s=e.a-r,l=e.b-i;return function(t){return d3_lab_rgb(n+o*t,r+s*t,i+l*t)+""}}function d3_interpolateRound(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function d3_transform(t){var e=[t.a,t.b],n=[t.c,t.d],r=d3_transformNormalize(e),i=d3_transformDot(e,n),a=d3_transformNormalize(d3_transformCombine(n,e,-i))||0;e[0]*n[1]<n[0]*e[1]&&(e[0]*=-1,e[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*O,this.translate=[t.e,t.f],this.scale=[r,a],this.skew=a?Math.atan2(i,a)*O:0}function d3_transformDot(t,e){return t[0]*e[0]+t[1]*e[1]}function d3_transformNormalize(t){var e=Math.sqrt(d3_transformDot(t,t));return e&&(t[0]/=e,t[1]/=e),e}function d3_transformCombine(t,e,n){return t[0]+=n*e[0],t[1]+=n*e[1],t}function d3_interpolateTransformPop(t){return t.length?t.pop()+",":""}function d3_interpolateTranslate(t,e,n,r){if(t[0]!==e[0]||t[1]!==e[1]){var i=n.push("translate(",null,",",null,")");r.push({i:i-4,x:d3_interpolateNumber(t[0],e[0])},{i:i-2,x:d3_interpolateNumber(t[1],e[1])})}else(e[0]||e[1])&&n.push("translate("+e+")")}function d3_interpolateRotate(t,e,n,r){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),r.push({i:n.push(d3_interpolateTransformPop(n)+"rotate(",null,")")-2,x:d3_interpolateNumber(t,e)})):e&&n.push(d3_interpolateTransformPop(n)+"rotate("+e+")")}function d3_interpolateSkew(t,e,n,r){t!==e?r.push({i:n.push(d3_interpolateTransformPop(n)+"skewX(",null,")")-2,x:d3_interpolateNumber(t,e)}):e&&n.push(d3_interpolateTransformPop(n)+"skewX("+e+")")}function d3_interpolateScale(t,e,n,r){if(t[0]!==e[0]||t[1]!==e[1]){var i=n.push(d3_interpolateTransformPop(n)+"scale(",null,",",null,")");r.push({i:i-4,x:d3_interpolateNumber(t[0],e[0])},{i:i-2,x:d3_interpolateNumber(t[1],e[1])})}else 1===e[0]&&1===e[1]||n.push(d3_interpolateTransformPop(n)+"scale("+e+")")}function d3_interpolateTransform(t,e){var n=[],r=[];return t=a.transform(t),e=a.transform(e),d3_interpolateTranslate(t.translate,e.translate,n,r),d3_interpolateRotate(t.rotate,e.rotate,n,r),d3_interpolateSkew(t.skew,e.skew,n,r),d3_interpolateScale(t.scale,e.scale,n,r),t=e=null,function(t){for(var e,i=-1,a=r.length;++i<a;)n[(e=r[i]).i]=e.x(t);return n.join("")}}function d3_uninterpolateNumber(t,e){return e=(e-=t=+t)||1/e,function(n){return(n-t)/e}}function d3_uninterpolateClamp(t,e){return e=(e-=t=+t)||1/e,function(n){return Math.max(0,Math.min(1,(n-t)/e))}}function d3_layout_bundlePath(t){for(var e=t.source,n=t.target,r=d3_layout_bundleLeastCommonAncestor(e,n),i=[e];e!==r;)e=e.parent,i.push(e);for(var a=i.length;n!==r;)i.splice(a,0,n),n=n.parent;return i}function d3_layout_bundleAncestors(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function d3_layout_bundleLeastCommonAncestor(t,e){if(t===e)return t;for(var n=d3_layout_bundleAncestors(t),r=d3_layout_bundleAncestors(e),i=n.pop(),a=r.pop(),o=null;i===a;)o=i,i=n.pop(),a=r.pop();return o}function d3_layout_forceDragstart(t){t.fixed|=2}function d3_layout_forceDragend(t){t.fixed&=-7}function d3_layout_forceMouseover(t){t.fixed|=4,t.px=t.x,t.py=t.y}function d3_layout_forceMouseout(t){t.fixed&=-5}function d3_layout_forceAccumulate(t,e,n){var r=0,i=0;if(t.charge=0,!t.leaf)for(var a,o=t.nodes,s=o.length,l=-1;++l<s;)null!=(a=o[l])&&(d3_layout_forceAccumulate(a,e,n),t.charge+=a.charge,r+=a.charge*a.cx,i+=a.charge*a.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var c=e*n[t.point.index];t.charge+=t.pointCharge=c,r+=c*t.point.x,i+=c*t.point.y}t.cx=r/t.charge,t.cy=i/t.charge}function d3_layout_hierarchyRebind(t,e){return a.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=d3_layout_hierarchyLinks,t}function d3_layout_hierarchyVisitBefore(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(i=t.children)&&(r=i.length))for(var r,i;--r>=0;)n.push(i[r])}function d3_layout_hierarchyVisitAfter(t,e){for(var n=[t],r=[];null!=(t=n.pop());)if(r.push(t),(a=t.children)&&(i=a.length))for(var i,a,o=-1;++o<i;)n.push(a[o]);for(;null!=(t=r.pop());)e(t)}function d3_layout_hierarchyChildren(t){return t.children}function d3_layout_hierarchyValue(t){return t.value}function d3_layout_hierarchySort(t,e){return e.value-t.value}function d3_layout_hierarchyLinks(t){return a.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}function d3_layout_stackX(t){return t.x}function d3_layout_stackY(t){return t.y}function d3_layout_stackOut(t,e,n){t.y0=e,t.y=n}function d3_layout_stackOrderDefault(t){return a.range(t.length)}function d3_layout_stackOffsetZero(t){for(var e=-1,n=t[0].length,r=[];++e<n;)r[e]=0;return r}function d3_layout_stackMaxIndex(t){for(var e,n=1,r=0,i=t[0][1],a=t.length;n<a;++n)(e=t[n][1])>i&&(r=n,i=e);return r}function d3_layout_stackReduceSum(t){return t.reduce(d3_layout_stackSum,0)}function d3_layout_stackSum(t,e){return t+e[1]}function d3_layout_histogramBinSturges(t,e){return d3_layout_histogramBinFixed(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function d3_layout_histogramBinFixed(t,e){for(var n=-1,r=+t[0],i=(t[1]-r)/e,a=[];++n<=e;)a[n]=i*n+r;return a}function d3_layout_histogramRange(t){return[a.min(t),a.max(t)]}function d3_layout_packSort(t,e){return t.value-e.value}function d3_layout_packInsert(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function d3_layout_packSplice(t,e){t._pack_next=e,e._pack_prev=t}function d3_layout_packIntersects(t,e){var n=e.x-t.x,r=e.y-t.y,i=t.r+e.r;return.999*i*i>n*n+r*r}function d3_layout_packSiblings(t){function bound(t){c=Math.min(t.x-t.r,c),u=Math.max(t.x+t.r,u),d=Math.min(t.y-t.r,d),h=Math.max(t.y+t.r,h)}if((e=t.children)&&(l=e.length)){var e,n,r,i,a,o,s,l,c=1/0,u=-1/0,d=1/0,h=-1/0;if(e.forEach(d3_layout_packLink),n=e[0],n.x=-n.r,n.y=0,bound(n),l>1&&(r=e[1],r.x=r.r,r.y=0,bound(r),l>2))for(i=e[2],d3_layout_packPlace(n,r,i),bound(i),d3_layout_packInsert(n,i),n._pack_prev=i,d3_layout_packInsert(i,r),r=n._pack_next,a=3;a<l;a++){d3_layout_packPlace(n,r,i=e[a]);var f=0,p=1,g=1;for(o=r._pack_next;o!==r;o=o._pack_next,p++)if(d3_layout_packIntersects(o,i)){f=1;break}if(1==f)for(s=n._pack_prev;s!==o._pack_prev&&!d3_layout_packIntersects(s,i);s=s._pack_prev,g++);f?(p<g||p==g&&r.r<n.r?d3_layout_packSplice(n,r=o):d3_layout_packSplice(n=s,r),a--):(d3_layout_packInsert(n,i),r=i,bound(i))}var v=(c+u)/2,m=(d+h)/2,y=0;for(a=0;a<l;a++)i=e[a],i.x-=v,i.y-=m,y=Math.max(y,i.r+Math.sqrt(i.x*i.x+i.y*i.y));t.r=y,e.forEach(d3_layout_packUnlink)}}function d3_layout_packLink(t){t._pack_next=t._pack_prev=t}function d3_layout_packUnlink(t){delete t._pack_next,delete t._pack_prev}function d3_layout_packTransform(t,e,n,r){var i=t.children;if(t.x=e+=r*t.x,t.y=n+=r*t.y,t.r*=r,i)for(var a=-1,o=i.length;++a<o;)d3_layout_packTransform(i[a],e,n,r)}function d3_layout_packPlace(t,e,n){var r=t.r+n.r,i=e.x-t.x,a=e.y-t.y;if(r&&(i||a)){var o=e.r+n.r,s=i*i+a*a;o*=o,r*=r;var l=.5+(r-o)/(2*s),c=Math.sqrt(Math.max(0,2*o*(r+s)-(r-=s)*r-o*o))/(2*s);n.x=t.x+l*i+c*a,n.y=t.y+l*a-c*i}else n.x=t.x+r,n.y=t.y}function d3_layout_treeSeparation(t,e){return t.parent==e.parent?1:2}function d3_layout_treeLeft(t){var e=t.children;return e.length?e[0]:t.t}function d3_layout_treeRight(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function d3_layout_treeMove(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function d3_layout_treeShift(t){for(var e,n=0,r=0,i=t.children,a=i.length;--a>=0;)e=i[a],e.z+=n,e.m+=n,n+=e.s+(r+=e.c)}function d3_layout_treeAncestor(t,e,n){return t.a.parent===e.parent?t.a:n}function d3_layout_clusterY(t){return 1+a.max(t,function(t){return t.y})}function d3_layout_clusterX(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}function d3_layout_clusterLeft(t){var e=t.children;return e&&e.length?d3_layout_clusterLeft(e[0]):t}function d3_layout_clusterRight(t){var e,n=t.children;return n&&(e=n.length)?d3_layout_clusterRight(n[e-1]):t}function d3_layout_treemapPadNull(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function d3_layout_treemapPad(t,e){var n=t.x+e[3],r=t.y+e[0],i=t.dx-e[1]-e[3],a=t.dy-e[0]-e[2];return i<0&&(n+=i/2,i=0),a<0&&(r+=a/2,a=0),{x:n,y:r,dx:i,dy:a}}function d3_scaleExtent(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]}function d3_scaleRange(t){return t.rangeExtent?t.rangeExtent():d3_scaleExtent(t.range())}function d3_scale_bilinear(t,e,n,r){var i=n(t[0],t[1]),a=r(e[0],e[1]);return function(t){return a(i(t))}}function d3_scale_nice(t,e){var n,r=0,i=t.length-1,a=t[r],o=t[i];return o<a&&(n=r,r=i,i=n,n=a,a=o,o=n),t[r]=e.floor(a),t[i]=e.ceil(o),t}function d3_scale_niceStep(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:xe}function d3_scale_polylinear(t,e,n,r){var i=[],o=[],s=0,l=Math.min(t.length,e.length)-1;for(t[l]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<=l;)i.push(n(t[s-1],t[s])),o.push(r(e[s-1],e[s]));return function(e){var n=a.bisect(t,e,1,l)-1;return o[n](i[n](e))}}function d3_scale_linear(t,e,n,r){function rescale(){var o=Math.min(t.length,e.length)>2?d3_scale_polylinear:d3_scale_bilinear,s=r?d3_uninterpolateClamp:d3_uninterpolateNumber;return i=o(t,e,s,n),a=o(e,t,s,d3_interpolate),scale}function scale(t){return i(t)}var i,a;return scale.invert=function(t){return a(t)},scale.domain=function(e){return arguments.length?(t=e.map(Number),rescale()):t},scale.range=function(t){return arguments.length?(e=t,rescale()):e},scale.rangeRound=function(t){return scale.range(t).interpolate(d3_interpolateRound)},scale.clamp=function(t){return arguments.length?(r=t,rescale()):r},scale.interpolate=function(t){return arguments.length?(n=t,rescale()):n},scale.ticks=function(e){return d3_scale_linearTicks(t,e)},scale.tickFormat=function(e,n){return d3_scale_linearTickFormat(t,e,n)},scale.nice=function(e){return d3_scale_linearNice(t,e),rescale()},scale.copy=function(){return d3_scale_linear(t,e,n,r)},rescale()}function d3_scale_linearRebind(t,e){return a.rebind(t,e,"range","rangeRound","interpolate","clamp")}function d3_scale_linearNice(t,e){return d3_scale_nice(t,d3_scale_niceStep(d3_scale_linearTickRange(t,e)[2])),d3_scale_nice(t,d3_scale_niceStep(d3_scale_linearTickRange(t,e)[2])),t}function d3_scale_linearTickRange(t,e){null==e&&(e=10);var n=d3_scaleExtent(t),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/e)/Math.LN10)),a=e/r*i;return a<=.15?i*=10:a<=.35?i*=5:a<=.75&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function d3_scale_linearTicks(t,e){return a.range.apply(a,d3_scale_linearTickRange(t,e))}function d3_scale_linearTickFormat(t,e,n){var r=d3_scale_linearTickRange(t,e);if(n){var i=lt.exec(n);if(i.shift(),"s"===i[8]){var o=a.formatPrefix(Math.max(g(r[0]),g(r[1])));return i[7]||(i[7]="."+d3_scale_linearPrecision(o.scale(r[2]))),i[8]="f",n=a.format(i.join("")),function(t){return n(o.scale(t))+o.symbol}}i[7]||(i[7]="."+d3_scale_linearFormatPrecision(i[8],r)),n=i.join("")}else n=",."+d3_scale_linearPrecision(r[2])+"f";return a.format(n)}function d3_scale_linearPrecision(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function d3_scale_linearFormatPrecision(t,e){var n=d3_scale_linearPrecision(e[2]);return t in be?Math.abs(n-d3_scale_linearPrecision(Math.max(g(e[0]),g(e[1]))))+ +("e"!==t):n-2*("%"===t)}function d3_scale_log(t,e,n,r){function log(t){return(n?Math.log(t<0?0:t):-Math.log(t>0?0:-t))/Math.log(e)}function pow(t){return n?Math.pow(e,t):-Math.pow(e,-t)}function scale(e){return t(log(e))}return scale.invert=function(e){return pow(t.invert(e))},scale.domain=function(e){return arguments.length?(n=e[0]>=0,t.domain((r=e.map(Number)).map(log)),scale):r},scale.base=function(n){return arguments.length?(e=+n,t.domain(r.map(log)),scale):e},scale.nice=function(){var e=d3_scale_nice(r.map(log),n?Math:we);return t.domain(e),r=e.map(pow),scale},scale.ticks=function(){var t=d3_scaleExtent(r),i=[],a=t[0],o=t[1],s=Math.floor(log(a)),l=Math.ceil(log(o)),c=e%1?2:e;if(isFinite(l-s)){if(n){for(;s<l;s++)for(var u=1;u<c;u++)i.push(pow(s)*u);i.push(pow(s))}else for(i.push(pow(s));s++<l;)for(var u=c-1;u>0;u--)i.push(pow(s)*u);for(s=0;i[s]<a;s++);for(l=i.length;i[l-1]>o;l--);i=i.slice(s,l)}return i},scale.tickFormat=function(t,n){if(!arguments.length)return ke;arguments.length<2?n=ke:"function"!=typeof n&&(n=a.format(n));var r=Math.max(1,e*t/scale.ticks().length);return function(t){var i=t/pow(Math.round(log(t)));return i*e<e-.5&&(i*=e),i<=r?n(t):""}},scale.copy=function(){return d3_scale_log(t.copy(),e,n,r)},d3_scale_linearRebind(scale,t)}function d3_scale_pow(t,e,n){function scale(e){return t(r(e))}var r=d3_scale_powPow(e),i=d3_scale_powPow(1/e);return scale.invert=function(e){return i(t.invert(e))},scale.domain=function(e){return arguments.length?(t.domain((n=e.map(Number)).map(r)),scale):n},scale.ticks=function(t){return d3_scale_linearTicks(n,t)},scale.tickFormat=function(t,e){return d3_scale_linearTickFormat(n,t,e)},scale.nice=function(t){return scale.domain(d3_scale_linearNice(n,t))},scale.exponent=function(a){return arguments.length?(r=d3_scale_powPow(e=a),i=d3_scale_powPow(1/e),t.domain(n.map(r)),scale):e},scale.copy=function(){return d3_scale_pow(t.copy(),e,n)},d3_scale_linearRebind(scale,t)}function d3_scale_powPow(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function d3_scale_ordinal(t,e){function scale(i){return r[((n.get(i)||("range"===e.t?n.set(i,t.push(i)):NaN))-1)%r.length]}function steps(e,n){return a.range(t.length).map(function(t){return e+n*t})}var n,r,i;return scale.domain=function(r){if(!arguments.length)return t;t=[],n=new d3_Map;for(var i,a=-1,o=r.length;++a<o;)n.has(i=r[a])||n.set(i,t.push(i));return scale[e.t].apply(scale,e.a)},scale.range=function(t){return arguments.length?(r=t,i=0,e={t:"range",a:arguments},scale):r},scale.rangePoints=function(n,a){arguments.length<2&&(a=0);var o=n[0],s=n[1],l=t.length<2?(o=(o+s)/2,0):(s-o)/(t.length-1+a);return r=steps(o+l*a/2,l),i=0,e={t:"rangePoints",a:arguments},scale},scale.rangeRoundPoints=function(n,a){arguments.length<2&&(a=0);var o=n[0],s=n[1],l=t.length<2?(o=s=Math.round((o+s)/2),0):(s-o)/(t.length-1+a)|0;return r=steps(o+Math.round(l*a/2+(s-o-(t.length-1+a)*l)/2),l),i=0,e={t:"rangeRoundPoints",a:arguments},scale},scale.rangeBands=function(n,a,o){arguments.length<2&&(a=0),arguments.length<3&&(o=a);var s=n[1]<n[0],l=n[s-0],c=n[1-s],u=(c-l)/(t.length-a+2*o);return r=steps(l+u*o,u),s&&r.reverse(),i=u*(1-a),e={t:"rangeBands",a:arguments},scale},scale.rangeRoundBands=function(n,a,o){arguments.length<2&&(a=0),arguments.length<3&&(o=a);var s=n[1]<n[0],l=n[s-0],c=n[1-s],u=Math.floor((c-l)/(t.length-a+2*o));return r=steps(l+Math.round((c-l-(t.length-a)*u)/2),u),s&&r.reverse(),i=Math.round(u*(1-a)),e={t:"rangeRoundBands",a:arguments},scale},scale.rangeBand=function(){return i},scale.rangeExtent=function(){return d3_scaleExtent(e.a[0])},scale.copy=function(){return d3_scale_ordinal(t,e)},scale.domain(t)}function d3_scale_quantile(t,e){function rescale(){var r=0,i=e.length;for(n=[];++r<i;)n[r-1]=a.quantile(t,r/i);return scale}function scale(t){if(!isNaN(t=+t))return e[a.bisect(n,t)]}var n;return scale.domain=function(e){return arguments.length?(t=e.map(d3_number).filter(d3_numeric).sort(d3_ascending),rescale()):t},scale.range=function(t){return arguments.length?(e=t,rescale()):e},scale.quantiles=function(){return n},scale.invertExtent=function(r){return r=e.indexOf(r),r<0?[NaN,NaN]:[r>0?n[r-1]:t[0],r<n.length?n[r]:t[t.length-1]]},scale.copy=function(){return d3_scale_quantile(t,e)},rescale()}function d3_scale_quantize(t,e,n){function scale(e){return n[Math.max(0,Math.min(i,Math.floor(r*(e-t))))]}function rescale(){return r=n.length/(e-t),i=n.length-1,scale}var r,i;return scale.domain=function(n){return arguments.length?(t=+n[0],e=+n[n.length-1],rescale()):[t,e]},scale.range=function(t){return arguments.length?(n=t,rescale()):n},scale.invertExtent=function(e){return e=n.indexOf(e),e=e<0?NaN:e/r+t,[e,e+1/r]},scale.copy=function(){return d3_scale_quantize(t,e,n)},rescale()}function d3_scale_threshold(t,e){function scale(n){if(n<=n)return e[a.bisect(t,n)]}return scale.domain=function(e){return arguments.length?(t=e,scale):t},scale.range=function(t){return arguments.length?(e=t,scale):e},scale.invertExtent=function(n){return n=e.indexOf(n),[t[n-1],t[n]]},scale.copy=function(){return d3_scale_threshold(t,e)},scale}function d3_scale_identity(t){function identity(t){return+t}return identity.invert=identity,identity.domain=identity.range=function(e){return arguments.length?(t=e.map(identity),identity):t},identity.ticks=function(e){return d3_scale_linearTicks(t,e)},identity.tickFormat=function(e,n){return d3_scale_linearTickFormat(t,e,n)},identity.copy=function(){return d3_scale_identity(t)},identity}function d3_zero(){return 0}function d3_svg_arcInnerRadius(t){return t.innerRadius}function d3_svg_arcOuterRadius(t){return t.outerRadius}function d3_svg_arcStartAngle(t){return t.startAngle}function d3_svg_arcEndAngle(t){return t.endAngle}function d3_svg_arcPadAngle(t){return t&&t.padAngle}function d3_svg_arcSweep(t,e,n,r){return(t-n)*e-(e-r)*t>0?0:1}function d3_svg_arcCornerTangents(t,e,n,r,i){var a=t[0]-e[0],o=t[1]-e[1],s=(i?r:-r)/Math.sqrt(a*a+o*o),l=s*o,c=-s*a,u=t[0]+l,d=t[1]+c,h=e[0]+l,f=e[1]+c,p=(u+h)/2,g=(d+f)/2,v=h-u,m=f-d,y=v*v+m*m,_=n-r,x=u*f-h*d,b=(m<0?-1:1)*Math.sqrt(Math.max(0,_*_*y-x*x)),k=(x*m-v*b)/y,w=(-x*v-m*b)/y,M=(x*m+v*b)/y,C=(-x*v+m*b)/y,S=k-p,A=w-g,E=M-p,T=C-g;return S*S+A*A>E*E+T*T&&(k=M,w=C),[[k-l,w-c],[k*n/_,w*n/_]]}function d3_svg_line(t){function line(a){function segment(){l.push("M",i(t(c),o))}for(var s,l=[],c=[],u=-1,d=a.length,h=d3_functor(e),f=d3_functor(n);++u<d;)r.call(this,s=a[u],u)?c.push([+h.call(this,s,u),+f.call(this,s,u)]):c.length&&(segment(),c=[]);return c.length&&segment(),l.length?l.join(""):null}var e=d3_geom_pointX,n=d3_geom_pointY,r=d3_true,i=d3_svg_lineLinear,a=i.key,o=.7;return line.x=function(t){return arguments.length?(e=t,line):e},line.y=function(t){return arguments.length?(n=t,line):n},line.defined=function(t){return arguments.length?(r=t,line):r},line.interpolate=function(t){return arguments.length?(a="function"==typeof t?i=t:(i=Te.get(t)||d3_svg_lineLinear).key,line):a},line.tension=function(t){return arguments.length?(o=t,line):o},line}function d3_svg_lineLinear(t){return t.length>1?t.join("L"):t+"Z"}function d3_svg_lineLinearClosed(t){return t.join("L")+"Z"}function d3_svg_lineStep(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r[0]+(r=t[e])[0])/2,"V",r[1]);return n>1&&i.push("H",r[0]),i.join("")}function d3_svg_lineStepBefore(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("V",(r=t[e])[1],"H",r[0]);return i.join("")}function d3_svg_lineStepAfter(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r=t[e])[0],"V",r[1]);return i.join("")}function d3_svg_lineCardinalOpen(t,e){return t.length<4?d3_svg_lineLinear(t):t[1]+d3_svg_lineHermite(t.slice(1,-1),d3_svg_lineCardinalTangents(t,e))}function d3_svg_lineCardinalClosed(t,e){return t.length<3?d3_svg_lineLinearClosed(t):t[0]+d3_svg_lineHermite((t.push(t[0]),t),d3_svg_lineCardinalTangents([t[t.length-2]].concat(t,[t[1]]),e))}function d3_svg_lineCardinal(t,e){return t.length<3?d3_svg_lineLinear(t):t[0]+d3_svg_lineHermite(t,d3_svg_lineCardinalTangents(t,e))}function d3_svg_lineHermite(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return d3_svg_lineLinear(t);var n=t.length!=e.length,r="",i=t[0],a=t[1],o=e[0],s=o,l=1;if(n&&(r+="Q"+(a[0]-2*o[0]/3)+","+(a[1]-2*o[1]/3)+","+a[0]+","+a[1],i=t[1],l=2),e.length>1){s=e[1],a=t[l],l++,r+="C"+(i[0]+o[0])+","+(i[1]+o[1])+","+(a[0]-s[0])+","+(a[1]-s[1])+","+a[0]+","+a[1];for(var c=2;c<e.length;c++,l++)a=t[l],s=e[c],r+="S"+(a[0]-s[0])+","+(a[1]-s[1])+","+a[0]+","+a[1]}if(n){var u=t[l];r+="Q"+(a[0]+2*s[0]/3)+","+(a[1]+2*s[1]/3)+","+u[0]+","+u[1]}return r}function d3_svg_lineCardinalTangents(t,e){for(var n,r=[],i=(1-e)/2,a=t[0],o=t[1],s=1,l=t.length;++s<l;)n=a,a=o,o=t[s],r.push([i*(o[0]-n[0]),i*(o[1]-n[1])]);return r}function d3_svg_lineBasis(t){if(t.length<3)return d3_svg_lineLinear(t);var e=1,n=t.length,r=t[0],i=r[0],a=r[1],o=[i,i,i,(r=t[1])[0]],s=[a,a,a,r[1]],l=[i,",",a,"L",d3_svg_lineDot4(Fe,o),",",d3_svg_lineDot4(Fe,s)];for(t.push(t[n-1]);++e<=n;)r=t[e],o.shift(),o.push(r[0]),s.shift(),s.push(r[1]),d3_svg_lineBasisBezier(l,o,s);return t.pop(),l.push("L",r),l.join("")}function d3_svg_lineBasisOpen(t){if(t.length<4)return d3_svg_lineLinear(t);for(var e,n=[],r=-1,i=t.length,a=[0],o=[0];++r<3;)e=t[r],a.push(e[0]),o.push(e[1]);for(n.push(d3_svg_lineDot4(Fe,a)+","+d3_svg_lineDot4(Fe,o)),--r;++r<i;)e=t[r],a.shift(),a.push(e[0]),o.shift(),o.push(e[1]),d3_svg_lineBasisBezier(n,a,o);return n.join("")}function d3_svg_lineBasisClosed(t){for(var e,n,r=-1,i=t.length,a=i+4,o=[],s=[];++r<4;)n=t[r%i],o.push(n[0]),s.push(n[1]);for(e=[d3_svg_lineDot4(Fe,o),",",d3_svg_lineDot4(Fe,s)],--r;++r<a;)n=t[r%i],o.shift(),o.push(n[0]),s.shift(),s.push(n[1]),d3_svg_lineBasisBezier(e,o,s);return e.join("")}function d3_svg_lineBundle(t,e){var n=t.length-1;if(n)for(var r,i,a=t[0][0],o=t[0][1],s=t[n][0]-a,l=t[n][1]-o,c=-1;++c<=n;)r=t[c],i=c/n,r[0]=e*r[0]+(1-e)*(a+i*s),r[1]=e*r[1]+(1-e)*(o+i*l);return d3_svg_lineBasis(t)}function d3_svg_lineDot4(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function d3_svg_lineBasisBezier(t,e,n){t.push("C",d3_svg_lineDot4(Le,e),",",d3_svg_lineDot4(Le,n),",",d3_svg_lineDot4(De,e),",",d3_svg_lineDot4(De,n),",",d3_svg_lineDot4(Fe,e),",",d3_svg_lineDot4(Fe,n))}function d3_svg_lineSlope(t,e){return(e[1]-t[1])/(e[0]-t[0])}function d3_svg_lineFiniteDifferences(t){for(var e=0,n=t.length-1,r=[],i=t[0],a=t[1],o=r[0]=d3_svg_lineSlope(i,a);++e<n;)r[e]=(o+(o=d3_svg_lineSlope(i=a,a=t[e+1])))/2;return r[e]=o,r}function d3_svg_lineMonotoneTangents(t){for(var e,n,r,i,a=[],o=d3_svg_lineFiniteDifferences(t),s=-1,l=t.length-1;++s<l;)e=d3_svg_lineSlope(t[s],t[s+1]),g(e)<N?o[s]=o[s+1]=0:(n=o[s]/e,r=o[s+1]/e,(i=n*n+r*r)>9&&(i=3*e/Math.sqrt(i),o[s]=i*n,o[s+1]=i*r));for(s=-1;++s<=l;)i=(t[Math.min(l,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+o[s]*o[s])),a.push([i||0,o[s]*i||0]);return a}function d3_svg_lineMonotone(t){return t.length<3?d3_svg_lineLinear(t):t[0]+d3_svg_lineHermite(t,d3_svg_lineMonotoneTangents(t))}function d3_svg_lineRadial(t){for(var e,n,r,i=-1,a=t.length;++i<a;)e=t[i],n=e[0],r=e[1]-I,e[0]=n*Math.cos(r),e[1]=n*Math.sin(r);return t}function d3_svg_area(t){function area(s){function segment(){p.push("M",o(t(v),u),c,l(t(g.reverse()),u),"Z")}for(var d,h,f,p=[],g=[],v=[],m=-1,y=s.length,_=d3_functor(e),x=d3_functor(r),b=e===n?function(){return h}:d3_functor(n),k=r===i?function(){return f}:d3_functor(i);++m<y;)a.call(this,d=s[m],m)?(g.push([h=+_.call(this,d,m),f=+x.call(this,d,m)]),v.push([+b.call(this,d,m),+k.call(this,d,m)])):g.length&&(segment(),g=[],v=[]);return g.length&&segment(),p.length?p.join(""):null}var e=d3_geom_pointX,n=d3_geom_pointX,r=0,i=d3_geom_pointY,a=d3_true,o=d3_svg_lineLinear,s=o.key,l=o,c="L",u=.7;return area.x=function(t){return arguments.length?(e=n=t,area):n},area.x0=function(t){return arguments.length?(e=t,area):e},area.x1=function(t){return arguments.length?(n=t,area):n},area.y=function(t){return arguments.length?(r=i=t,area):i},area.y0=function(t){return arguments.length?(r=t,area):r},area.y1=function(t){return arguments.length?(i=t,area):i},area.defined=function(t){return arguments.length?(a=t,area):a},area.interpolate=function(t){return arguments.length?(s="function"==typeof t?o=t:(o=Te.get(t)||d3_svg_lineLinear).key,l=o.reverse||o,c=o.closed?"M":"L",area):s},area.tension=function(t){return arguments.length?(u=t,area):u},area}function d3_svg_chordRadius(t){return t.radius}function d3_svg_diagonalProjection(t){return[t.x,t.y]}function d3_svg_diagonalRadialProjection(t){return function(){var e=t.apply(this,arguments),n=e[0],r=e[1]-I;return[n*Math.cos(r),n*Math.sin(r)]}}function d3_svg_symbolSize(){return 64}function d3_svg_symbolType(){return"circle"}function d3_svg_symbolCircle(t){var e=Math.sqrt(t/z);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function d3_selection_interruptNS(t){return function(){var e,n,r;(e=this[t])&&(r=e[n=e.active])&&(r.timer.c=null,r.timer.t=NaN,--e.count?delete e[n]:delete this[t],e.active+=.5,r.event&&r.event.interrupt.call(this,this.__data__,r.index))}}function d3_transition(t,e,n){return b(t,We),t.namespace=e,t.id=n,t}function d3_transition_tween(t,e,n,r){var i=t.id,a=t.namespace;return d3_selection_each(t,"function"==typeof n?function(t,o,s){t[a][i].tween.set(e,r(n.call(t,t.__data__,o,s)))}:(n=r(n),function(t){t[a][i].tween.set(e,n)}))}function d3_transition_text(t){return null==t&&(t=""),function(){this.textContent=t}}function d3_transitionNamespace(t){return null==t?"__transition__":"__transition_"+t+"__"}function d3_transitionNode(t,e,n,r,i){function schedule(t){var e=d.delay;if(o.t=e+a,e<=t)return start(t-e);o.c=start}function start(n){var i=u.active,h=u[i];h&&(h.timer.c=null,h.timer.t=NaN,--u.count,delete u[i],h.event&&h.event.interrupt.call(t,t.__data__,h.index));for(var f in u)if(+f<r){var p=u[f];p.timer.c=null,p.timer.t=NaN,--u.count,delete u[f]}o.c=tick,d3_timer(function(){return o.c&&tick(n||1)&&(o.c=null,o.t=NaN),1},0,a),u.active=r,d.event&&d.event.start.call(t,t.__data__,e),c=[],d.tween.forEach(function(n,r){(r=r.call(t,t.__data__,e))&&c.push(r)}),l=d.ease,s=d.duration}function tick(i){for(var a=i/s,o=l(a),h=c.length;h>0;)c[--h].call(t,o);if(a>=1)return d.event&&d.event.end.call(t,t.__data__,e),--u.count?delete u[r]:delete t[n],1}var a,o,s,l,c,u=t[n]||(t[n]={active:0,count:0}),d=u[r];d||(a=i.time,o=d3_timer(schedule,0,a),d=u[r]={tween:new d3_Map,time:a,timer:o,delay:i.delay,duration:i.duration,ease:i.ease,index:e},i=null,++u.count)}function d3_svg_axisX(t,e,n){t.attr("transform",function(t){var r=e(t);return"translate("+(isFinite(r)?r:n(t))+",0)"})}function d3_svg_axisY(t,e,n){t.attr("transform",function(t){var r=e(t);return"translate(0,"+(isFinite(r)?r:n(t))+")"})}function d3_time_formatIsoNative(t){return t.toISOString()}function d3_time_scale(t,e,n){function scale(e){return t(e)}function tickMethod(t,n){var r=t[1]-t[0],i=r/n,o=a.bisect(Xe,i);return o==Xe.length?[e.year,d3_scale_linearTickRange(t.map(function(t){return t/31536e6}),n)[2]]:o?e[i/Xe[o-1]<Xe[o]/i?o-1:o]:[Je,d3_scale_linearTickRange(t,n)[2]]}return scale.invert=function(e){return d3_time_scaleDate(t.invert(e))},scale.domain=function(e){return arguments.length?(t.domain(e),scale):t.domain().map(d3_time_scaleDate)},scale.nice=function(t,e){function skipped(n){return!isNaN(n)&&!t.range(n,d3_time_scaleDate(+n+1),e).length}var n=scale.domain(),r=d3_scaleExtent(n),i=null==t?tickMethod(r,10):"number"==typeof t&&tickMethod(r,t);return i&&(t=i[0],e=i[1]),scale.domain(d3_scale_nice(n,e>1?{floor:function(e){for(;skipped(e=t.floor(e));)e=d3_time_scaleDate(e-1);return e},ceil:function(e){for(;skipped(e=t.ceil(e));)e=d3_time_scaleDate(+e+1);return e}}:t))},scale.ticks=function(t,e){var n=d3_scaleExtent(scale.domain()),r=null==t?tickMethod(n,10):"number"==typeof t?tickMethod(n,t):!t.range&&[{range:t},e];return r&&(t=r[0],e=r[1]),t.range(n[0],d3_time_scaleDate(+n[1]+1),e<1?1:e)},scale.tickFormat=function(){return n},scale.copy=function(){return d3_time_scale(t.copy(),e,n)},d3_scale_linearRebind(scale,t)}function d3_time_scaleDate(t){return new Date(t)}function d3_json(t){return JSON.parse(t.responseText)}function d3_html(t){var e=l.createRange();return e.selectNode(l.body),e.createContextualFragment(t.responseText)}var a={version:"3.5.17"},o=[].slice,s=function(t){return o.call(t)},l=this.document;if(l)try{s(l.documentElement.childNodes)[0].nodeType}catch(t){s=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}if(Date.now||(Date.now=function(){return+new Date}),l)try{l.createElement("DIV").style.setProperty("opacity",0,"")}catch(t){var c=this.Element.prototype,u=c.setAttribute,d=c.setAttributeNS,h=this.CSSStyleDeclaration.prototype,f=h.setProperty;c.setAttribute=function(t,e){u.call(this,t,e+"")},c.setAttributeNS=function(t,e,n){d.call(this,t,e,n+"")},h.setProperty=function(t,e,n){f.call(this,t,e+"",n)}}a.ascending=d3_ascending,a.descending=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},a.min=function(t,e){var n,r,i=-1,a=t.length;if(1===arguments.length){for(;++i<a;)if(null!=(r=t[i])&&r>=r){n=r;break}for(;++i<a;)null!=(r=t[i])&&n>r&&(n=r)}else{for(;++i<a;)if(null!=(r=e.call(t,t[i],i))&&r>=r){n=r;break}for(;++i<a;)null!=(r=e.call(t,t[i],i))&&n>r&&(n=r)}return n},a.max=function(t,e){var n,r,i=-1,a=t.length;if(1===arguments.length){for(;++i<a;)if(null!=(r=t[i])&&r>=r){n=r;break}for(;++i<a;)null!=(r=t[i])&&r>n&&(n=r)}else{for(;++i<a;)if(null!=(r=e.call(t,t[i],i))&&r>=r){n=r;break}for(;++i<a;)null!=(r=e.call(t,t[i],i))&&r>n&&(n=r)}return n},a.extent=function(t,e){var n,r,i,a=-1,o=t.length;if(1===arguments.length){for(;++a<o;)if(null!=(r=t[a])&&r>=r){n=i=r;break}for(;++a<o;)null!=(r=t[a])&&(n>r&&(n=r),i<r&&(i=r))}else{for(;++a<o;)if(null!=(r=e.call(t,t[a],a))&&r>=r){n=i=r;break}for(;++a<o;)null!=(r=e.call(t,t[a],a))&&(n>r&&(n=r),i<r&&(i=r))}return[n,i]},a.sum=function(t,e){var n,r=0,i=t.length,a=-1;if(1===arguments.length)for(;++a<i;)d3_numeric(n=+t[a])&&(r+=n);else for(;++a<i;)d3_numeric(n=+e.call(t,t[a],a))&&(r+=n);return r},a.mean=function(t,e){var n,r=0,i=t.length,a=-1,o=i;if(1===arguments.length)for(;++a<i;)d3_numeric(n=d3_number(t[a]))?r+=n:--o;else for(;++a<i;)d3_numeric(n=d3_number(e.call(t,t[a],a)))?r+=n:--o;if(o)return r/o},a.quantile=function(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),i=+t[r-1],a=n-r;return a?i+a*(t[r]-i):i},a.median=function(t,e){var n,r=[],i=t.length,o=-1;if(1===arguments.length)for(;++o<i;)d3_numeric(n=d3_number(t[o]))&&r.push(n);else for(;++o<i;)d3_numeric(n=d3_number(e.call(t,t[o],o)))&&r.push(n);if(r.length)return a.quantile(r.sort(d3_ascending),.5)},a.variance=function(t,e){var n,r,i=t.length,a=0,o=0,s=-1,l=0;if(1===arguments.length)for(;++s<i;)d3_numeric(n=d3_number(t[s]))&&(r=n-a,a+=r/++l,o+=r*(n-a));else for(;++s<i;)d3_numeric(n=d3_number(e.call(t,t[s],s)))&&(r=n-a,a+=r/++l,o+=r*(n-a));if(l>1)return o/(l-1)},a.deviation=function(){var t=a.variance.apply(this,arguments);return t?Math.sqrt(t):t};var p=d3_bisector(d3_ascending);a.bisectLeft=p.left,a.bisect=a.bisectRight=p.right,a.bisector=function(t){return d3_bisector(1===t.length?function(e,n){return d3_ascending(t(e),n)}:t)},a.shuffle=function(t,e,n){(a=arguments.length)<3&&(n=t.length,a<2&&(e=0));for(var r,i,a=n-e;a;)i=Math.random()*a--|0,r=t[a+e],t[a+e]=t[i+e],t[i+e]=r;return t},a.permute=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},a.pairs=function(t){for(var e=0,n=t.length-1,r=t[0],i=new Array(n<0?0:n);e<n;)i[e]=[r,r=t[++e]];return i},a.transpose=function(t){if(!(i=t.length))return[];for(var e=-1,n=a.min(t,d3_transposeLength),r=new Array(n);++e<n;)for(var i,o=-1,s=r[e]=new Array(i);++o<i;)s[o]=t[o][e];return r},a.zip=function(){return a.transpose(arguments)},a.keys=function(t){var e=[];for(var n in t)e.push(n);return e},a.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},a.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},a.merge=function(t){for(var e,n,r,i=t.length,a=-1,o=0;++a<i;)o+=t[a].length;for(n=new Array(o);--i>=0;)for(r=t[i],e=r.length;--e>=0;)n[--o]=r[e];return n};var g=Math.abs;a.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n==1/0)throw new Error("infinite range");var r,i=[],a=d3_range_integerScale(g(n)),o=-1;if(t*=a,e*=a,n*=a,n<0)for(;(r=t+n*++o)>e;)i.push(r/a);else for(;(r=t+n*++o)<e;)i.push(r/a);return i},a.map=function(t,e){var n=new d3_Map;if(t instanceof d3_Map)t.forEach(function(t,e){n.set(t,e)});else if(Array.isArray(t)){var r,i=-1,a=t.length;if(1===arguments.length)for(;++i<a;)n.set(i,t[i]);else for(;++i<a;)n.set(e.call(t,r=t[i],i),r)}else for(var o in t)n.set(o,t[o]);return n};var m="__proto__",y="\0";d3_class(d3_Map,{has:d3_map_has,get:function(t){return this._[d3_map_escape(t)]},set:function(t,e){return this._[d3_map_escape(t)]=e},remove:d3_map_remove,keys:d3_map_keys,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:d3_map_unescape(e),value:this._[e]});return t},size:d3_map_size,empty:d3_map_empty,forEach:function(t){for(var e in this._)t.call(this,d3_map_unescape(e),this._[e])}}),a.nest=function(){function map(i,a,o){if(o>=r.length)return e?e.call(n,a):t?a.sort(t):a;for(var s,l,c,u,d=-1,h=a.length,f=r[o++],p=new d3_Map;++d<h;)(u=p.get(s=f(l=a[d])))?u.push(l):p.set(s,[l]);return i?(l=i(),c=function(t,e){l.set(t,map(i,e,o))}):(l={},c=function(t,e){l[t]=map(i,e,o)}),p.forEach(c),l}function entries(t,e){if(e>=r.length)return t;var n=[],a=i[e++];return t.forEach(function(t,r){n.push({key:t,values:entries(r,e)})}),a?n.sort(function(t,e){return a(t.key,e.key)}):n}var t,e,n={},r=[],i=[];return n.map=function(t,e){return map(e,t,0)},n.entries=function(t){return entries(map(a.map,t,0),0)},n.key=function(t){return r.push(t),n},n.sortKeys=function(t){return i[r.length-1]=t,n},n.sortValues=function(e){return t=e,n},n.rollup=function(t){return e=t,n},n},a.set=function(t){var e=new d3_Set;if(t)for(var n=0,r=t.length;n<r;++n)e.add(t[n]);return e},d3_class(d3_Set,{has:d3_map_has,add:function(t){return this._[d3_map_escape(t+="")]=!0,t},remove:d3_map_remove,values:d3_map_keys,size:d3_map_size,empty:d3_map_empty,forEach:function(t){for(var e in this._)t.call(this,d3_map_unescape(e))}}),a.behavior={},a.rebind=function(t,e){for(var n,r=1,i=arguments.length;++r<i;)t[n=arguments[r]]=d3_rebind(t,e,e[n]);return t};var _=["webkit","ms","moz","Moz","o","O"];a.dispatch=function(){for(var t=new d3_dispatch,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=d3_dispatch_event(t);return t},d3_dispatch.prototype.on=function(t,e){var n=t.indexOf("."),r="";if(n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(r):this[t].on(r,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(r,null);return this}},a.event=null,a.requote=function(t){return t.replace(x,"\\$&")};var x=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,b={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]},k=function(t,e){return e.querySelector(t)},w=function(t,e){return e.querySelectorAll(t)},M=function(t,e){var n=t.matches||t[d3_vendorSymbol(t,"matchesSelector")];return(M=function(t,e){return n.call(t,e)})(t,e)};"function"==typeof Sizzle&&(k=function(t,e){return Sizzle(t,e)[0]||null},w=Sizzle,M=Sizzle.matchesSelector),a.selection=function(){return a.select(l.documentElement)};var C=a.selection.prototype=[];C.select=function(t){var e,n,r,i,a=[];t=d3_selection_selector(t);for(var o=-1,s=this.length;++o<s;){a.push(e=[]),e.parentNode=(r=this[o]).parentNode;for(var l=-1,c=r.length;++l<c;)(i=r[l])?(e.push(n=t.call(i,i.__data__,l,o)),n&&"__data__"in i&&(n.__data__=i.__data__)):e.push(null)}return d3_selection(a)},C.selectAll=function(t){var e,n,r=[];t=d3_selection_selectorAll(t);for(var i=-1,a=this.length;++i<a;)for(var o=this[i],l=-1,c=o.length;++l<c;)(n=o[l])&&(r.push(e=s(t.call(n,n.__data__,l,i))),e.parentNode=n);return d3_selection(r)};var S="http://www.w3.org/1999/xhtml",A={svg:"http://www.w3.org/2000/svg",xhtml:S,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};a.ns={prefix:A,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),A.hasOwnProperty(n)?{space:A[n],local:t}:t}},C.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return t=a.ns.qualify(t),t.local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(d3_selection_attr(e,t[e]));return this}return this.each(d3_selection_attr(t,e))},C.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),r=(t=d3_selection_classes(t)).length,i=-1;if(e=n.classList){for(;++i<r;)if(!e.contains(t[i]))return!1}else for(e=n.getAttribute("class");++i<r;)if(!d3_selection_classedRe(t[i]).test(e))return!1;return!0}for(e in t)this.each(d3_selection_classed(e,t[e]));return this}return this.each(d3_selection_classed(t,e))},C.style=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){r<2&&(e="");for(n in t)this.each(d3_selection_style(n,t[n],e));return this}if(r<2){var i=this.node();return d3_window(i).getComputedStyle(i,null).getPropertyValue(t)}n=""}return this.each(d3_selection_style(t,e,n))},C.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(d3_selection_property(e,t[e]));return this}return this.each(d3_selection_property(t,e))},C.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},C.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},C.append=function(t){return t=d3_selection_creator(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},C.insert=function(t,e){return t=d3_selection_creator(t),e=d3_selection_selector(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},C.remove=function(){return this.each(d3_selectionRemove)},C.data=function(t,e){function bind(t,n){var r,i,a,c=t.length,u=n.length,d=Math.min(c,u),h=new Array(u),f=new Array(u),p=new Array(c);if(e){var g,v=new d3_Map,m=new Array(c);for(r=-1;++r<c;)(i=t[r])&&(v.has(g=e.call(i,i.__data__,r))?p[r]=i:v.set(g,i),m[r]=g);for(r=-1;++r<u;)(i=v.get(g=e.call(n,a=n[r],r)))?!0!==i&&(h[r]=i,i.__data__=a):f[r]=d3_selection_dataNode(a),v.set(g,!0);for(r=-1;++r<c;)r in m&&!0!==v.get(m[r])&&(p[r]=t[r])}else{for(r=-1;++r<d;)i=t[r],a=n[r],i?(i.__data__=a,h[r]=i):f[r]=d3_selection_dataNode(a);for(;r<u;++r)f[r]=d3_selection_dataNode(n[r]);for(;r<c;++r)p[r]=t[r]}f.update=h,f.parentNode=h.parentNode=p.parentNode=t.parentNode,o.push(f),s.push(h),l.push(p)}var n,r,i=-1,a=this.length;if(!arguments.length){for(t=new Array(a=(n=this[0]).length);++i<a;)(r=n[i])&&(t[i]=r.__data__);return t}var o=d3_selection_enter([]),s=d3_selection([]),l=d3_selection([]);if("function"==typeof t)for(;++i<a;)bind(n=this[i],t.call(n,n.parentNode.__data__,i));else for(;++i<a;)bind(n=this[i],t);return s.enter=function(){return o},s.exit=function(){return l},s},C.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},C.filter=function(t){var e,n,r,i=[];"function"!=typeof t&&(t=d3_selection_filter(t));for(var a=0,o=this.length;a<o;a++){i.push(e=[]),e.parentNode=(n=this[a]).parentNode;for(var s=0,l=n.length;s<l;s++)(r=n[s])&&t.call(r,r.__data__,s,a)&&e.push(r)}return d3_selection(i)},C.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,r=this[t],i=r.length-1,a=r[i];--i>=0;)(n=r[i])&&(a&&a!==n.nextSibling&&a.parentNode.insertBefore(n,a),a=n);return this},C.sort=function(t){t=d3_selection_sortComparator.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},C.each=function(t){return d3_selection_each(this,function(e,n,r){t.call(e,e.__data__,n,r)})},C.call=function(t){var e=s(arguments);return t.apply(e[0]=this,e),this},C.empty=function(){return!this.node()},C.node=function(){for(var t=0,e=this.length;t<e;t++)for(var n=this[t],r=0,i=n.length;r<i;r++){var a=n[r];if(a)return a}return null},C.size=function(){var t=0;return d3_selection_each(this,function(){++t}),t};var E=[];a.selection.enter=d3_selection_enter,a.selection.enter.prototype=E,E.append=C.append,E.empty=C.empty,E.node=C.node,E.call=C.call,E.size=C.size,E.select=function(t){for(var e,n,r,i,a,o=[],s=-1,l=this.length;++s<l;){r=(i=this[s]).update,o.push(e=[]),e.parentNode=i.parentNode;for(var c=-1,u=i.length;++c<u;)(a=i[c])?(e.push(r[c]=n=t.call(i.parentNode,a.__data__,c,s)),n.__data__=a.__data__):e.push(null)}return d3_selection(o)},E.insert=function(t,e){return arguments.length<2&&(e=d3_selection_enterInsertBefore(this)),C.insert.call(this,t,e)},a.select=function(t){var e;return"string"==typeof t?(e=[k(t,l)],e.parentNode=l.documentElement):(e=[t],e.parentNode=d3_documentElement(t)),d3_selection([e])},a.selectAll=function(t){var e;return"string"==typeof t?(e=s(w(t,l)),e.parentNode=l.documentElement):(e=s(t),e.parentNode=null),d3_selection([e])},C.on=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){r<2&&(e=!1);for(n in t)this.each(d3_selection_on(n,t[n],e));return this}if(r<2)return(r=this.node()["__on"+t])&&r._;n=!1}return this.each(d3_selection_on(t,e,n))};var T=a.map({mouseenter:"mouseover",mouseleave:"mouseout"});l&&T.forEach(function(t){"on"+t in l&&T.remove(t)});var L,D=0;a.mouse=function(t){return d3_mousePoint(t,d3_eventSource())};var F=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;a.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=d3_eventSource().changedTouches),e)for(var r,i=0,a=e.length;i<a;++i)if((r=e[i]).identifier===n)return d3_mousePoint(t,r)},a.behavior.drag=function(){function drag(){this.on("mousedown.drag",n).on("touchstart.drag",r)}function dragstart(n,r,i,o,s){return function(){function moved(){var t,e,n=r(d,p);n&&(t=n[0]-y[0],e=n[1]-y[1],f|=t|e,y=n,h({type:"drag",x:n[0]+l[0],y:n[1]+l[1],dx:t,dy:e}))}function ended(){r(d,p)&&(v.on(o+g,null).on(s+g,null),m(f),h({type:"dragend"}))}var l,c=this,u=a.event.target.correspondingElement||a.event.target,d=c.parentNode,h=t.of(c,arguments),f=0,p=n(),g=".drag"+(null==p?"":"-"+p),v=a.select(i(u)).on(o+g,moved).on(s+g,ended),m=d3_event_dragSuppress(u),y=r(d,p);e?(l=e.apply(c,arguments),l=[l.x-y[0],l.y-y[1]]):l=[0,0],h({type:"dragstart"})}}var t=d3_eventDispatch(drag,"drag","dragstart","dragend"),e=null,n=dragstart(d3_noop,a.mouse,d3_window,"mousemove","mouseup"),r=dragstart(d3_behavior_dragTouchId,a.touch,d3_identity,"touchmove","touchend");return drag.origin=function(t){return arguments.length?(e=t,drag):e},a.rebind(drag,t,"on")},a.touches=function(t,e){return arguments.length<2&&(e=d3_eventSource().touches),e?s(e).map(function(e){var n=d3_mousePoint(t,e);return n.identifier=e.identifier,n}):[]};var N=1e-6,P=N*N,z=Math.PI,R=2*z,B=R-N,I=z/2,W=z/180,O=180/z,H=Math.SQRT2,G=2,j=4;a.interpolateZoom=function(t,e){var n,r,i=t[0],a=t[1],o=t[2],s=e[0],l=e[1],c=e[2],u=s-i,d=l-a,h=u*u+d*d;if(h<P)r=Math.log(c/o)/H,n=function(t){return[i+t*u,a+t*d,o*Math.exp(H*t*r)]};else{var f=Math.sqrt(h),p=(c*c-o*o+j*h)/(2*o*G*f),g=(c*c-o*o-j*h)/(2*c*G*f),v=Math.log(Math.sqrt(p*p+1)-p),m=Math.log(Math.sqrt(g*g+1)-g);r=(m-v)/H,n=function(t){var e=t*r,n=d3_cosh(v),s=o/(G*f)*(n*d3_tanh(H*e+v)-d3_sinh(v));return[i+s*u,a+s*d,o*n/d3_cosh(H*e+v)]}}return n.duration=1e3*r,n},a.behavior.zoom=function(){function zoom(t){t.on(v,mousedowned).on(Y+".zoom",mousewheeled).on("dblclick.zoom",dblclicked).on(_,touchstarted)}function location(t){return[(t[0]-d.x)/d.k,(t[1]-d.y)/d.k]}function point(t){return[t[0]*d.k+d.x,t[1]*d.k+d.y]}function scaleTo(t){d.k=Math.max(f[0],Math.min(f[1],t))}function translateTo(t,e){e=point(e),d.x+=t[0]-e[0],d.y+=t[1]-e[1]}function zoomTo(t,n,r,i){t.__chart__={x:d.x,y:d.y,k:d.k},scaleTo(Math.pow(2,i)),translateTo(e=n,r),t=a.select(t),p>0&&(t=t.transition().duration(p)),t.call(zoom.event)}function rescale(){s&&s.domain(o.range().map(function(t){return(t-d.x)/d.k}).map(o.invert)),u&&u.domain(c.range().map(function(t){return(t-d.y)/d.k}).map(c.invert))}function zoomstarted(t){g++||t({type:"zoomstart"})}function zoomed(t){rescale(),t({type:"zoom",scale:d.k,translate:[d.x,d.y]})}function zoomended(t){--g||(t({type:"zoomend"}),e=null)}function mousedowned(){function moved(){n=1,translateTo(a.mouse(t),i),zoomed(e)}function ended(){r.on(m,null).on(y,null),o(n),zoomended(e)}var t=this,e=x.of(t,arguments),n=0,r=a.select(d3_window(t)).on(m,moved).on(y,ended),i=location(a.mouse(t)),o=d3_event_dragSuppress(t);Ie.call(t),zoomstarted(e)}function touchstarted(){function relocate(){var n=a.touches(e);return t=d.k,n.forEach(function(t){t.identifier in r&&(r[t.identifier]=location(t))}),n}function started(){var t=a.event.target;a.select(t).on(l,moved).on(c,ended),u.push(t);for(var n=a.event.changedTouches,s=0,h=n.length;s<h;++s)r[n[s].identifier]=null;var f=relocate(),p=Date.now();if(1===f.length){if(p-i<500){var g=f[0];zoomTo(e,g,r[g.identifier],Math.floor(Math.log(d.k)/Math.LN2)+1),d3_eventPreventDefault()}i=p}else if(f.length>1){var g=f[0],v=f[1],m=g[0]-v[0],y=g[1]-v[1];o=m*m+y*y}}function moved(){var s,l,c,u,d=a.touches(e);Ie.call(e);for(var h=0,f=d.length;h<f;++h,u=null)if(c=d[h],u=r[c.identifier]){if(l)break;s=c,l=u}if(u){var p=(p=c[0]-s[0])*p+(p=c[1]-s[1])*p,g=o&&Math.sqrt(p/o);s=[(s[0]+c[0])/2,(s[1]+c[1])/2],l=[(l[0]+u[0])/2,(l[1]+u[1])/2],scaleTo(g*t)}i=null,translateTo(s,l),zoomed(n)}function ended(){if(a.event.touches.length){for(var t=a.event.changedTouches,e=0,i=t.length;e<i;++e)delete r[t[e].identifier];for(var o in r)return void relocate()}a.selectAll(u).on(s,null),h.on(v,mousedowned).on(_,touchstarted),f(),zoomended(n)}var t,e=this,n=x.of(e,arguments),r={},o=0,s=".zoom-"+a.event.changedTouches[0].identifier,l="touchmove"+s,c="touchend"+s,u=[],h=a.select(e),f=d3_event_dragSuppress(e);started(),zoomstarted(n),h.on(v,null).on(_,started)}function mousewheeled(){var i=x.of(this,arguments);r?clearTimeout(r):(Ie.call(this),t=location(e=n||a.mouse(this)),zoomstarted(i)),r=setTimeout(function(){r=null,zoomended(i)},50),d3_eventPreventDefault(),scaleTo(Math.pow(2,.002*V())*d.k),translateTo(e,t),zoomed(i)}function dblclicked(){var t=a.mouse(this),e=Math.log(d.k)/Math.LN2;zoomTo(this,t,location(t),a.event.shiftKey?Math.ceil(e)-1:Math.floor(e)+1)}var t,e,n,r,i,o,s,c,u,d={x:0,y:0,k:1},h=[960,500],f=q,p=250,g=0,v="mousedown.zoom",m="mousemove.zoom",y="mouseup.zoom",_="touchstart.zoom",x=d3_eventDispatch(zoom,"zoomstart","zoom","zoomend");return Y||(Y="onwheel"in l?(V=function(){return-a.event.deltaY*(a.event.deltaMode?120:1)},"wheel"):"onmousewheel"in l?(V=function(){return a.event.wheelDelta},"mousewheel"):(V=function(){return-a.event.detail},"MozMousePixelScroll")),zoom.event=function(t){t.each(function(){var t=x.of(this,arguments),n=d;Re?a.select(this).transition().each("start.zoom",function(){d=this.__chart__||{x:0,y:0,k:1},zoomstarted(t)}).tween("zoom:zoom",function(){var r=h[0],i=h[1],o=e?e[0]:r/2,s=e?e[1]:i/2,l=a.interpolateZoom([(o-d.x)/d.k,(s-d.y)/d.k,r/d.k],[(o-n.x)/n.k,(s-n.y)/n.k,r/n.k]);return function(e){var n=l(e),i=r/n[2];this.__chart__=d={x:o-n[0]*i,y:s-n[1]*i,k:i},zoomed(t)}}).each("interrupt.zoom",function(){zoomended(t)}).each("end.zoom",function(){zoomended(t)}):(this.__chart__=d,zoomstarted(t),zoomed(t),zoomended(t))})},zoom.translate=function(t){return arguments.length?(d={x:+t[0],y:+t[1],k:d.k},rescale(),zoom):[d.x,d.y]},zoom.scale=function(t){return arguments.length?(d={x:d.x,y:d.y,k:null},scaleTo(+t),rescale(),zoom):d.k},zoom.scaleExtent=function(t){return arguments.length?(f=null==t?q:[+t[0],+t[1]],zoom):f},zoom.center=function(t){return arguments.length?(n=t&&[+t[0],+t[1]],zoom):n},zoom.size=function(t){return arguments.length?(h=t&&[+t[0],+t[1]],zoom):h},zoom.duration=function(t){return arguments.length?(p=+t,zoom):p},zoom.x=function(t){return arguments.length?(s=t,o=t.copy(),d={x:0,y:0,k:1},zoom):s},zoom.y=function(t){return arguments.length?(u=t,c=t.copy(),d={x:0,y:0,k:1},zoom):u},a.rebind(zoom,x,"on")};var V,Y,q=[0,1/0];a.color=d3_color,d3_color.prototype.toString=function(){return this.rgb()+""},a.hsl=d3_hsl;var U=d3_hsl.prototype=new d3_color;U.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new d3_hsl(this.h,this.s,this.l/t)},U.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new d3_hsl(this.h,this.s,t*this.l)},U.rgb=function(){return d3_hsl_rgb(this.h,this.s,this.l)},a.hcl=d3_hcl;var X=d3_hcl.prototype=new d3_color;X.brighter=function(t){return new d3_hcl(this.h,this.c,Math.min(100,this.l+Z*(arguments.length?t:1)))},X.darker=function(t){return new d3_hcl(this.h,this.c,Math.max(0,this.l-Z*(arguments.length?t:1)))},X.rgb=function(){return d3_hcl_lab(this.h,this.c,this.l).rgb()},a.lab=d3_lab;var Z=18,$=.95047,J=1,Q=1.08883,K=d3_lab.prototype=new d3_color;K.brighter=function(t){return new d3_lab(Math.min(100,this.l+Z*(arguments.length?t:1)),this.a,this.b)},K.darker=function(t){return new d3_lab(Math.max(0,this.l-Z*(arguments.length?t:1)),this.a,this.b)},K.rgb=function(){return d3_lab_rgb(this.l,this.a,this.b)},a.rgb=d3_rgb;var tt=d3_rgb.prototype=new d3_color;tt.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,r=this.b,i=30;return e||n||r?(e&&e<i&&(e=i),n&&n<i&&(n=i),r&&r<i&&(r=i),new d3_rgb(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,r/t))):new d3_rgb(i,i,i)},tt.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new d3_rgb(t*this.r,t*this.g,t*this.b)},tt.hsl=function(){return d3_rgb_hsl(this.r,this.g,this.b)},tt.toString=function(){return"#"+d3_rgb_hex(this.r)+d3_rgb_hex(this.g)+d3_rgb_hex(this.b)};var et=a.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});et.forEach(function(t,e){et.set(t,d3_rgbNumber(e))}),a.functor=d3_functor,a.xhr=d3_xhrType(d3_identity),a.dsv=function(t,e){function dsv(t,n,r){arguments.length<3&&(r=n,n=null);var i=d3_xhr(t,e,null==n?response:typedResponse(n),r);return i.row=function(t){return arguments.length?i.response(null==(n=t)?response:typedResponse(t)):n},i}function response(t){return dsv.parse(t.responseText)}function typedResponse(t){return function(e){return dsv.parse(e.responseText,t)}}function formatRow(e){return e.map(formatValue).join(t)}function formatValue(t){return n.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var n=new RegExp('["'+t+"\n]"),r=t.charCodeAt(0);return dsv.parse=function(t,e){var n;return dsv.parseRows(t,function(t,r){if(n)return n(t,r-1);var i=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");n=e?function(t,n){return e(i(t),n)}:i})},dsv.parseRows=function(t,e){function token(){if(c>=l)return o;if(i)return i=!1,a;var e=c;if(34===t.charCodeAt(e)){for(var n=e;n++<l;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}c=n+2;var s=t.charCodeAt(n+1);return 13===s?(i=!0,10===t.charCodeAt(n+2)&&++c):10===s&&(i=!0),t.slice(e+1,n).replace(/""/g,'"')}for(;c<l;){var s=t.charCodeAt(c++),u=1;if(10===s)i=!0;else if(13===s)i=!0,10===t.charCodeAt(c)&&(++c,++u);else if(s!==r)continue;return t.slice(e,c-u)}return t.slice(e)}for(var n,i,a={},o={},s=[],l=t.length,c=0,u=0;(n=token())!==o;){for(var d=[];n!==a&&n!==o;)d.push(n),n=token();e&&null==(d=e(d,u++))||s.push(d)}return s},dsv.format=function(e){if(Array.isArray(e[0]))return dsv.formatRows(e);var n=new d3_Set,r=[];return e.forEach(function(t){for(var e in t)n.has(e)||r.push(n.add(e))}),[r.map(formatValue).join(t)].concat(e.map(function(e){return r.map(function(t){return formatValue(e[t])}).join(t)})).join("\n")},dsv.formatRows=function(t){return t.map(formatRow).join("\n")},dsv},a.csv=a.dsv(",","text/csv"),a.tsv=a.dsv("\t","text/tab-separated-values");var nt,rt,it,at,ot=this[d3_vendorSymbol(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};a.timer=function(){d3_timer.apply(this,arguments)},a.timer.flush=function(){d3_timer_mark(),d3_timer_sweep()},a.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var st=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(d3_formatPrefix);a.formatPrefix=function(t,e){var n=0;return(t=+t)&&(t<0&&(t*=-1),e&&(t=a.round(t,d3_format_precision(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),st[8+n/3]};var lt=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,ct=a.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=a.round(t,d3_format_precision(t,e))).toFixed(Math.max(0,Math.min(20,d3_format_precision(t*(1+1e-15),e))))}}),ut=a.time={},dt=Date;d3_date_utc.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){ht.setUTCDate.apply(this._,arguments)},setDay:function(){ht.setUTCDay.apply(this._,arguments)},setFullYear:function(){ht.setUTCFullYear.apply(this._,arguments)},setHours:function(){ht.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){ht.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){ht.setUTCMinutes.apply(this._,arguments)},setMonth:function(){ht.setUTCMonth.apply(this._,arguments)},setSeconds:function(){ht.setUTCSeconds.apply(this._,arguments)},setTime:function(){ht.setTime.apply(this._,arguments)}};var ht=Date.prototype;ut.year=d3_time_interval(function(t){return t=ut.day(t),t.setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),ut.years=ut.year.range,ut.years.utc=ut.year.utc.range,ut.day=d3_time_interval(function(t){var e=new dt(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),ut.days=ut.day.range,ut.days.utc=ut.day.utc.range,ut.dayOfYear=function(t){var e=ut.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,e){e=7-e;var n=ut[t]=d3_time_interval(function(t){return(t=ut.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var n=ut.year(t).getDay();return Math.floor((ut.dayOfYear(t)+(n+e)%7)/7)-(n!==e)});ut[t+"s"]=n.range,ut[t+"s"].utc=n.utc.range,ut[t+"OfYear"]=function(t){var n=ut.year(t).getDay();return Math.floor((ut.dayOfYear(t)+(n+e)%7)/7)}}),ut.week=ut.sunday,ut.weeks=ut.sunday.range,ut.weeks.utc=ut.sunday.utc.range,ut.weekOfYear=ut.sundayOfYear;var ft={"-":"",_:" ",0:"0"},pt=/^\s*\d+/,gt=/^%/;a.locale=function(t){return{numberFormat:d3_locale_numberFormat(t),timeFormat:d3_locale_timeFormat(t)}};var vt=a.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});a.format=vt.numberFormat,a.geo={},d3_adder.prototype={s:0,t:0,add:function(t){d3_adderSum(t,this.t,mt),d3_adderSum(mt.s,this.s,this),this.s?this.t+=mt.t:this.s=mt.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var mt=new d3_adder;a.geo.stream=function(t,e){t&&yt.hasOwnProperty(t.type)?yt[t.type](t,e):d3_geo_streamGeometry(t,e)};var yt={Feature:function(t,e){d3_geo_streamGeometry(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)d3_geo_streamGeometry(n[r].geometry,e)}},_t={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){d3_geo_streamLine(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)d3_geo_streamLine(n[r],e,0)},Polygon:function(t,e){d3_geo_streamPolygon(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)d3_geo_streamPolygon(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)d3_geo_streamGeometry(n[r],e)}};a.geo.area=function(t){return xt=0,a.geo.stream(t,kt),xt};var xt,bt=new d3_adder,kt={sphere:function(){xt+=4*z},point:d3_noop,lineStart:d3_noop,lineEnd:d3_noop,polygonStart:function(){bt.reset(),kt.lineStart=d3_geo_areaRingStart},polygonEnd:function(){var t=2*bt;xt+=t<0?4*z+t:t,kt.lineStart=kt.lineEnd=kt.point=d3_noop}};a.geo.bounds=function(){function point(i,a){u.push(d=[t=i,n=i]),a<e&&(e=a),a>r&&(r=a)}function linePoint(a,o){var s=d3_geo_cartesian([a*W,o*W]);if(l){var c=d3_geo_cartesianCross(l,s),u=[c[1],-c[0],0],d=d3_geo_cartesianCross(u,c);d3_geo_cartesianNormalize(d),d=d3_geo_spherical(d);var h=a-i,f=h>0?1:-1,p=d[0]*O*f,v=g(h)>180;if(v^(f*i<p&&p<f*a)){var m=d[1]*O;m>r&&(r=m)}else if(p=(p+360)%360-180,v^(f*i<p&&p<f*a)){var m=-d[1]*O;m<e&&(e=m)}else o<e&&(e=o),o>r&&(r=o);v?a<i?angle(t,a)>angle(t,n)&&(n=a):angle(a,n)>angle(t,n)&&(t=a):n>=t?(a<t&&(t=a),a>n&&(n=a)):a>i?angle(t,a)>angle(t,n)&&(n=a):angle(a,n)>angle(t,n)&&(t=a)}else point(a,o);l=s,i=a}function lineStart(){h.point=linePoint}function lineEnd(){d[0]=t,d[1]=n,h.point=point,l=null}function ringPoint(t,e){if(l){var n=t-i;c+=g(n)>180?n+(n>0?360:-360):n}else o=t,s=e;kt.point(t,e),linePoint(t,e)}function ringStart(){kt.lineStart()}function ringEnd(){ringPoint(o,s),kt.lineEnd(),g(c)>N&&(t=-(n=180)),d[0]=t,d[1]=n,l=null}function angle(t,e){return(e-=t)<0?e+360:e}function compareRanges(t,e){return t[0]-e[0]}function withinRange(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var t,e,n,r,i,o,s,l,c,u,d,h={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){h.point=ringPoint,h.lineStart=ringStart,h.lineEnd=ringEnd,c=0,kt.polygonStart()},polygonEnd:function(){kt.polygonEnd(),h.point=point,h.lineStart=lineStart,h.lineEnd=lineEnd,bt<0?(t=-(n=180),e=-(r=90)):c>N?r=90:c<-N&&(e=-90),d[0]=t,d[1]=n}};return function(i){r=n=-(t=e=1/0),u=[],a.geo.stream(i,h);var o=u.length;if(o){u.sort(compareRanges);for(var s,l=1,c=u[0],f=[c];l<o;++l)s=u[l],withinRange(s[0],c)||withinRange(s[1],c)?(angle(c[0],s[1])>angle(c[0],c[1])&&(c[1]=s[1]),angle(s[0],c[1])>angle(c[0],c[1])&&(c[0]=s[0])):f.push(c=s);for(var p,s,g=-1/0,o=f.length-1,l=0,c=f[o];l<=o;c=s,++l)s=f[l],(p=angle(c[1],s[0]))>g&&(g=p,t=s[0],n=c[1])}return u=d=null,t===1/0||e===1/0?[[NaN,NaN],[NaN,NaN]]:[[t,e],[n,r]]}}(),a.geo.centroid=function(t){wt=Mt=Ct=St=At=Et=Tt=Lt=Dt=Ft=Nt=0,a.geo.stream(t,Pt);var e=Dt,n=Ft,r=Nt,i=e*e+n*n+r*r;return i<P&&(e=Et,n=Tt,r=Lt,Mt<N&&(e=Ct,n=St,r=At),(i=e*e+n*n+r*r)<P)?[NaN,NaN]:[Math.atan2(n,e)*O,d3_asin(r/Math.sqrt(i))*O]};var wt,Mt,Ct,St,At,Et,Tt,Lt,Dt,Ft,Nt,Pt={sphere:d3_noop,point:d3_geo_centroidPoint,lineStart:d3_geo_centroidLineStart,lineEnd:d3_geo_centroidLineEnd,polygonStart:function(){Pt.lineStart=d3_geo_centroidRingStart},polygonEnd:function(){Pt.lineStart=d3_geo_centroidLineStart}},zt=d3_geo_clip(d3_true,d3_geo_clipAntimeridianLine,d3_geo_clipAntimeridianInterpolate,[-z,-z/2]),Rt=1e9;a.geo.clipExtent=function(){var t,e,n,r,i,a,o={stream:function(t){return i&&(i.valid=!1),i=a(t),i.valid=!0,i},extent:function(s){return arguments.length?(a=d3_geo_clipExtent(t=+s[0][0],e=+s[0][1],n=+s[1][0],r=+s[1][1]),i&&(i.valid=!1,i=null),o):[[t,e],[n,r]]}};return o.extent([[0,0],[960,500]])},(a.geo.conicEqualArea=function(){return d3_geo_conic(d3_geo_conicEqualArea)}).raw=d3_geo_conicEqualArea,a.geo.albers=function(){return a.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},a.geo.albersUsa=function(){function albersUsa(i){var a=i[0],o=i[1];return t=null,e(a,o),t||(n(a,o),t)||r(a,o),t}var t,e,n,r,i=a.geo.albers(),o=a.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=a.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(e,n){t=[e,n]}};return albersUsa.invert=function(t){var e=i.scale(),n=i.translate(),r=(t[0]-n[0])/e,a=(t[1]-n[1])/e;return(a>=.12&&a<.234&&r>=-.425&&r<-.214?o:a>=.166&&a<.234&&r>=-.214&&r<-.115?s:i).invert(t)},albersUsa.stream=function(t){var e=i.stream(t),n=o.stream(t),r=s.stream(t);return{point:function(t,i){e.point(t,i),n.point(t,i),r.point(t,i)},sphere:function(){e.sphere(),n.sphere(),r.sphere()},lineStart:function(){e.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){e.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){e.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){e.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},albersUsa.precision=function(t){return arguments.length?(i.precision(t),o.precision(t),s.precision(t),albersUsa):i.precision()},albersUsa.scale=function(t){return arguments.length?(i.scale(t),o.scale(.35*t),s.scale(t),albersUsa.translate(i.translate())):i.scale()},albersUsa.translate=function(t){if(!arguments.length)return i.translate();var a=i.scale(),c=+t[0],u=+t[1];return e=i.translate(t).clipExtent([[c-.455*a,u-.238*a],[c+.455*a,u+.238*a]]).stream(l).point,n=o.translate([c-.307*a,u+.201*a]).clipExtent([[c-.425*a+N,u+.12*a+N],[c-.214*a-N,u+.234*a-N]]).stream(l).point,r=s.translate([c-.205*a,u+.212*a]).clipExtent([[c-.214*a+N,u+.166*a+N],[c-.115*a-N,u+.234*a-N]]).stream(l).point,albersUsa},albersUsa.scale(1070)};var Bt,It,Wt,Ot,Ht,Gt,jt={point:d3_noop,lineStart:d3_noop,lineEnd:d3_noop,polygonStart:function(){It=0,jt.lineStart=d3_geo_pathAreaRingStart},polygonEnd:function(){jt.lineStart=jt.lineEnd=jt.point=d3_noop,Bt+=g(It/2)}},Vt={point:d3_geo_pathBoundsPoint,lineStart:d3_noop,lineEnd:d3_noop,polygonStart:d3_noop,polygonEnd:d3_noop},Yt={point:d3_geo_pathCentroidPoint,lineStart:d3_geo_pathCentroidLineStart,lineEnd:d3_geo_pathCentroidLineEnd,polygonStart:function(){Yt.lineStart=d3_geo_pathCentroidRingStart},polygonEnd:function(){Yt.point=d3_geo_pathCentroidPoint,Yt.lineStart=d3_geo_pathCentroidLineStart,Yt.lineEnd=d3_geo_pathCentroidLineEnd}};a.geo.path=function(){function path(t){return t&&("function"==typeof o&&r.pointRadius(+o.apply(this,arguments)),i&&i.valid||(i=n(r)),a.geo.stream(t,i)),r.result()}function reset(){return i=null,path}var t,e,n,r,i,o=4.5;return path.area=function(t){return Bt=0,a.geo.stream(t,n(jt)),Bt},path.centroid=function(t){return Ct=St=At=Et=Tt=Lt=Dt=Ft=Nt=0,a.geo.stream(t,n(Yt)),Nt?[Dt/Nt,Ft/Nt]:Lt?[Et/Lt,Tt/Lt]:At?[Ct/At,St/At]:[NaN,NaN]},path.bounds=function(t){return Ht=Gt=-(Wt=Ot=1/0),a.geo.stream(t,n(Vt)),[[Wt,Ot],[Ht,Gt]]},path.projection=function(e){return arguments.length?(n=(t=e)?e.stream||d3_geo_pathProjectStream(e):d3_identity,reset()):t},path.context=function(t){return arguments.length?(r=null==(e=t)?new d3_geo_pathBuffer:new d3_geo_pathContext(t),"function"!=typeof o&&r.pointRadius(o),reset()):e},path.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(r.pointRadius(+t),+t),path):o},path.projection(a.geo.albersUsa()).context(null)},a.geo.transform=function(t){return{stream:function(e){var n=new d3_geo_transform(e);for(var r in t)n[r]=t[r];return n}}},d3_geo_transform.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},a.geo.projection=d3_geo_projection,a.geo.projectionMutator=d3_geo_projectionMutator,(a.geo.equirectangular=function(){return d3_geo_projection(d3_geo_equirectangular)}).raw=d3_geo_equirectangular.invert=d3_geo_equirectangular,a.geo.rotation=function(t){function forward(e){return e=t(e[0]*W,e[1]*W),e[0]*=O,e[1]*=O,e}return t=d3_geo_rotation(t[0]%360*W,t[1]*W,t.length>2?t[2]*W:0),forward.invert=function(e){return e=t.invert(e[0]*W,e[1]*W),e[0]*=O,e[1]*=O,e},forward},d3_geo_identityRotation.invert=d3_geo_equirectangular,a.geo.circle=function(){function circle(){var t="function"==typeof n?n.apply(this,arguments):n,r=d3_geo_rotation(-t[0]*W,-t[1]*W,0).invert,i=[];return e(null,null,1,{point:function(t,e){i.push(t=r(t,e)),t[0]*=O,t[1]*=O}}),{type:"Polygon",coordinates:[i]}}var t,e,n=[0,0],r=6;return circle.origin=function(t){return arguments.length?(n=t,circle):n},circle.angle=function(n){return arguments.length?(e=d3_geo_circleInterpolate((t=+n)*W,r*W),circle):t},circle.precision=function(n){return arguments.length?(e=d3_geo_circleInterpolate(t*W,(r=+n)*W),circle):r},circle.angle(90)},a.geo.distance=function(t,e){var n,r=(e[0]-t[0])*W,i=t[1]*W,a=e[1]*W,o=Math.sin(r),s=Math.cos(r),l=Math.sin(i),c=Math.cos(i),u=Math.sin(a),d=Math.cos(a);return Math.atan2(Math.sqrt((n=d*o)*n+(n=c*u-l*d*s)*n),l*u+c*d*s)},a.geo.graticule=function(){function graticule(){return{type:"MultiLineString",coordinates:lines()}}function lines(){return a.range(Math.ceil(r/v)*v,n,v).map(d).concat(a.range(Math.ceil(l/m)*m,s,m).map(h)).concat(a.range(Math.ceil(e/f)*f,t,f).filter(function(t){return g(t%v)>N}).map(c)).concat(a.range(Math.ceil(o/p)*p,i,p).filter(function(t){return g(t%m)>N}).map(u))}var t,e,n,r,i,o,s,l,c,u,d,h,f=10,p=f,v=90,m=360,y=2.5;return graticule.lines=function(){return lines().map(function(t){return{type:"LineString",coordinates:t}})},graticule.outline=function(){return{type:"Polygon",coordinates:[d(r).concat(h(s).slice(1),d(n).reverse().slice(1),h(l).reverse().slice(1))]}},graticule.extent=function(t){return arguments.length?graticule.majorExtent(t).minorExtent(t):graticule.minorExtent()},graticule.majorExtent=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],l=+t[0][1],s=+t[1][1],r>n&&(t=r,r=n,n=t),l>s&&(t=l,l=s,s=t),graticule.precision(y)):[[r,l],[n,s]]},graticule.minorExtent=function(n){return arguments.length?(e=+n[0][0],t=+n[1][0],o=+n[0][1],i=+n[1][1],e>t&&(n=e,e=t,t=n),o>i&&(n=o,o=i,i=n),graticule.precision(y)):[[e,o],[t,i]]},graticule.step=function(t){return arguments.length?graticule.majorStep(t).minorStep(t):graticule.minorStep()},graticule.majorStep=function(t){return arguments.length?(v=+t[0],m=+t[1],graticule):[v,m]},graticule.minorStep=function(t){return arguments.length?(f=+t[0],p=+t[1],graticule):[f,p]},graticule.precision=function(a){return arguments.length?(y=+a,c=d3_geo_graticuleX(o,i,90),u=d3_geo_graticuleY(e,t,y),d=d3_geo_graticuleX(l,s,90),h=d3_geo_graticuleY(r,n,y),graticule):y},graticule.majorExtent([[-180,-90+N],[180,90-N]]).minorExtent([[-180,-80-N],[180,80+N]])},a.geo.greatArc=function(){function greatArc(){return{type:"LineString",coordinates:[t||n.apply(this,arguments),e||r.apply(this,arguments)]}}var t,e,n=d3_source,r=d3_target;return greatArc.distance=function(){return a.geo.distance(t||n.apply(this,arguments),e||r.apply(this,arguments))},greatArc.source=function(e){return arguments.length?(n=e,t="function"==typeof e?null:e,greatArc):n},greatArc.target=function(t){return arguments.length?(r=t,e="function"==typeof t?null:t,greatArc):r},greatArc.precision=function(){return arguments.length?greatArc:0},greatArc},a.geo.interpolate=function(t,e){return d3_geo_interpolate(t[0]*W,t[1]*W,e[0]*W,e[1]*W)},a.geo.length=function(t){return qt=0,a.geo.stream(t,Ut),qt};var qt,Ut={sphere:d3_noop,point:d3_noop,lineStart:d3_geo_lengthLineStart,lineEnd:d3_noop,polygonStart:d3_noop,polygonEnd:d3_noop},Xt=d3_geo_azimuthal(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(a.geo.azimuthalEqualArea=function(){return d3_geo_projection(Xt)}).raw=Xt;var Zt=d3_geo_azimuthal(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},d3_identity);(a.geo.azimuthalEquidistant=function(){return d3_geo_projection(Zt)}).raw=Zt,(a.geo.conicConformal=function(){return d3_geo_conic(d3_geo_conicConformal)}).raw=d3_geo_conicConformal,(a.geo.conicEquidistant=function(){return d3_geo_conic(d3_geo_conicEquidistant)}).raw=d3_geo_conicEquidistant;var $t=d3_geo_azimuthal(function(t){return 1/t},Math.atan);(a.geo.gnomonic=function(){return d3_geo_projection($t)}).raw=$t,d3_geo_mercator.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-I]},(a.geo.mercator=function(){return d3_geo_mercatorProjection(d3_geo_mercator)}).raw=d3_geo_mercator;var Jt=d3_geo_azimuthal(function(){return 1},Math.asin);(a.geo.orthographic=function(){return d3_geo_projection(Jt)}).raw=Jt;var Qt=d3_geo_azimuthal(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(a.geo.stereographic=function(){return d3_geo_projection(Qt)}).raw=Qt,d3_geo_transverseMercator.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-I]},(a.geo.transverseMercator=function(){var t=d3_geo_mercatorProjection(d3_geo_transverseMercator),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):(t=e(),[t[1],-t[0]])},t.rotate=function(t){return t?n([t[0],t[1],t.length>2?t[2]+90:90]):(t=n(),[t[0],t[1],t[2]-90])},n([0,0,90])}).raw=d3_geo_transverseMercator,a.geom={},a.geom.hull=function(t){function hull(t){if(t.length<3)return[];var r,i=d3_functor(e),a=d3_functor(n),o=t.length,s=[],l=[];for(r=0;r<o;r++)s.push([+i.call(this,t[r],r),+a.call(this,t[r],r),r]);for(s.sort(d3_geom_hullOrder),r=0;r<o;r++)l.push([s[r][0],-s[r][1]]);var c=d3_geom_hullUpper(s),u=d3_geom_hullUpper(l),d=u[0]===c[0],h=u[u.length-1]===c[c.length-1],f=[];for(r=c.length-1;r>=0;--r)f.push(t[s[c[r]][2]]);for(r=+d;r<u.length-h;++r)f.push(t[s[u[r]][2]]);return f}var e=d3_geom_pointX,n=d3_geom_pointY;return arguments.length?hull(t):(hull.x=function(t){return arguments.length?(e=t,hull):e},hull.y=function(t){return arguments.length?(n=t,hull):n},hull)},a.geom.polygon=function(t){return b(t,Kt),t};var Kt=a.geom.polygon.prototype=[];Kt.area=function(){for(var t,e=-1,n=this.length,r=this[n-1],i=0;++e<n;)t=r,r=this[e],i+=t[1]*r[0]-t[0]*r[1];return.5*i},Kt.centroid=function(t){var e,n,r=-1,i=this.length,a=0,o=0,s=this[i-1];for(arguments.length||(t=-1/(6*this.area()));++r<i;)e=s,s=this[r],n=e[0]*s[1]-s[0]*e[1],a+=(e[0]+s[0])*n,o+=(e[1]+s[1])*n;return[a*t,o*t]},Kt.clip=function(t){for(var e,n,r,i,a,o,s=d3_geom_polygonClosed(t),l=-1,c=this.length-d3_geom_polygonClosed(this),u=this[c-1];++l<c;){for(e=t.slice(),t.length=0,i=this[l],a=e[(r=e.length-s)-1],n=-1;++n<r;)o=e[n],d3_geom_polygonInside(o,u,i)?(d3_geom_polygonInside(a,u,i)||t.push(d3_geom_polygonIntersect(a,o,u,i)),t.push(o)):d3_geom_polygonInside(a,u,i)&&t.push(d3_geom_polygonIntersect(a,o,u,i)),a=o;s&&t.push(t[0]),u=i}return t};var te,ee,ne,re,ie,ae=[],oe=[];d3_geom_voronoiCell.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)t=e[n].edge,t.b&&t.a||e.splice(n,1);return e.sort(d3_geom_voronoiHalfEdgeOrder),e.length},d3_geom_voronoiHalfEdge.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},d3_geom_voronoiRedBlackTree.prototype={insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=d3_geom_voronoiRedBlackFirst(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)r=n.U,n===r.L?(i=r.R,i&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(d3_geom_voronoiRedBlackRotateLeft(this,n),t=n,n=t.U),n.C=!1,r.C=!0,d3_geom_voronoiRedBlackRotateRight(this,r))):(i=r.L,i&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(d3_geom_voronoiRedBlackRotateRight(this,n),t=n,n=t.U),n.C=!1,r.C=!0,d3_geom_voronoiRedBlackRotateLeft(this,r))),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,a=t.L,o=t.R;if(n=a?o?d3_geom_voronoiRedBlackFirst(o):a:o,i?i.L===t?i.L=n:i.R=n:this._=n,a&&o?(r=n.C,n.C=t.C,n.L=a,a.U=n,n!==o?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=o,o.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===i.L){if(e=i.R,e.C&&(e.C=!1,i.C=!0,d3_geom_voronoiRedBlackRotateLeft(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,d3_geom_voronoiRedBlackRotateRight(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,d3_geom_voronoiRedBlackRotateLeft(this,i),t=this._;break}}else if(e=i.L,e.C&&(e.C=!1,i.C=!0,d3_geom_voronoiRedBlackRotateRight(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,d3_geom_voronoiRedBlackRotateLeft(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,d3_geom_voronoiRedBlackRotateRight(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}},a.geom.voronoi=function(t){function voronoi(t){var e=new Array(t.length),n=a[0][0],r=a[0][1],i=a[1][0],o=a[1][1];return d3_geom_voronoi(sites(t),a).cells.forEach(function(a,s){var l=a.edges,c=a.site;(e[s]=l.length?l.map(function(t){var e=t.start();return[e.x,e.y]}):c.x>=n&&c.x<=i&&c.y>=r&&c.y<=o?[[n,o],[i,o],[i,r],[n,r]]:[]).point=t[s]}),e}function sites(t){return t.map(function(t,e){return{x:Math.round(r(t,e)/N)*N,y:Math.round(i(t,e)/N)*N,i:e}})}var e=d3_geom_pointX,n=d3_geom_pointY,r=e,i=n,a=se;return t?voronoi(t):(voronoi.links=function(t){return d3_geom_voronoi(sites(t)).edges.filter(function(t){return t.l&&t.r}).map(function(e){return{source:t[e.l.i],target:t[e.r.i]}})},voronoi.triangles=function(t){var e=[];return d3_geom_voronoi(sites(t)).cells.forEach(function(n,r){for(var i,a=n.site,o=n.edges.sort(d3_geom_voronoiHalfEdgeOrder),s=-1,l=o.length,c=o[l-1].edge,u=c.l===a?c.r:c.l;++s<l;)c,i=u,c=o[s].edge,u=c.l===a?c.r:c.l,r<i.i&&r<u.i&&d3_geom_voronoiTriangleArea(a,i,u)<0&&e.push([t[r],t[i.i],t[u.i]])}),e},voronoi.x=function(t){return arguments.length?(r=d3_functor(e=t),voronoi):e},voronoi.y=function(t){return arguments.length?(i=d3_functor(n=t),voronoi):n},voronoi.clipExtent=function(t){return arguments.length?(a=null==t?se:t,voronoi):a===se?null:a},voronoi.size=function(t){return arguments.length?voronoi.clipExtent(t&&[[0,0],t]):a===se?null:a&&a[1]},voronoi)};var se=[[-1e6,-1e6],[1e6,1e6]];a.geom.delaunay=function(t){return a.geom.voronoi().triangles(t)},a.geom.quadtree=function(t,e,n,r,i){function quadtree(t){function insert(t,e,n,r,i,a,o,s){if(!isNaN(n)&&!isNaN(r))if(t.leaf){var l=t.x,c=t.y;if(null!=l)if(g(l-n)+g(c-r)<.01)insertChild(t,e,n,r,i,a,o,s);else{var u=t.point;t.x=t.y=t.point=null,insertChild(t,u,l,c,i,a,o,s),insertChild(t,e,n,r,i,a,o,s)}else t.x=n,t.y=r,t.point=e}else insertChild(t,e,n,r,i,a,o,s)}function insertChild(t,e,n,r,i,a,o,s){var l=.5*(i+o),c=.5*(a+s),u=n>=l,d=r>=c,h=d<<1|u;t.leaf=!1,t=t.nodes[h]||(t.nodes[h]=d3_geom_quadtreeNode()),u?i=l:o=l,d?a=c:s=c,insert(t,e,n,r,i,a,o,s)}var l,c,u,d,h,f,p,v,m,y=d3_functor(o),_=d3_functor(s);if(null!=e)f=e,p=n,v=r,m=i;else if(v=m=-(f=p=1/0),c=[],u=[],h=t.length,a)for(d=0;d<h;++d)l=t[d],l.x<f&&(f=l.x),l.y<p&&(p=l.y),l.x>v&&(v=l.x),l.y>m&&(m=l.y),c.push(l.x),u.push(l.y);else for(d=0;d<h;++d){var x=+y(l=t[d],d),b=+_(l,d);x<f&&(f=x),b<p&&(p=b),x>v&&(v=x),b>m&&(m=b),c.push(x),u.push(b)}var k=v-f,w=m-p;k>w?m=p+k:v=f+w;var M=d3_geom_quadtreeNode();if(M.add=function(t){insert(M,t,+y(t,++d),+_(t,d),f,p,v,m)},M.visit=function(t){d3_geom_quadtreeVisit(t,M,f,p,v,m)},M.find=function(t){return d3_geom_quadtreeFind(M,t[0],t[1],f,p,v,m)},d=-1,null==e){for(;++d<h;)insert(M,t[d],c[d],u[d],f,p,v,m);--d}else t.forEach(M.add);return c=u=t=l=null,M}var a,o=d3_geom_pointX,s=d3_geom_pointY;return(a=arguments.length)?(o=d3_geom_quadtreeCompatX,s=d3_geom_quadtreeCompatY,3===a&&(i=n,r=e,n=e=0),quadtree(t)):(quadtree.x=function(t){return arguments.length?(o=t,quadtree):o},quadtree.y=function(t){return arguments.length?(s=t,quadtree):s},quadtree.extent=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),quadtree):null==e?null:[[e,n],[r,i]]},quadtree.size=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=n=0,r=+t[0],i=+t[1]),quadtree):null==e?null:[r-e,i-n]},quadtree)},a.interpolateRgb=d3_interpolateRgb,a.interpolateObject=d3_interpolateObject,a.interpolateNumber=d3_interpolateNumber,a.interpolateString=d3_interpolateString;var le=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ce=new RegExp(le.source,"g");a.interpolate=d3_interpolate,a.interpolators=[function(t,e){var n=typeof e;return("string"===n?et.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?d3_interpolateRgb:d3_interpolateString:e instanceof d3_color?d3_interpolateRgb:Array.isArray(e)?d3_interpolateArray:"object"===n&&isNaN(e)?d3_interpolateObject:d3_interpolateNumber)(t,e)}],a.interpolateArray=d3_interpolateArray;var ue=function(){return d3_identity},de=a.map({linear:ue,poly:d3_ease_poly,quad:function(){return d3_ease_quad},cubic:function(){return d3_ease_cubic},sin:function(){return d3_ease_sin},exp:function(){return d3_ease_exp},circle:function(){return d3_ease_circle},elastic:d3_ease_elastic,back:d3_ease_back,bounce:function(){return d3_ease_bounce}}),he=a.map({in:d3_identity,out:d3_ease_reverse,"in-out":d3_ease_reflect,"out-in":function(t){return d3_ease_reflect(d3_ease_reverse(t))}});a.ease=function(t){var e=t.indexOf("-"),n=e>=0?t.slice(0,e):t,r=e>=0?t.slice(e+1):"in";return n=de.get(n)||ue,r=he.get(r)||d3_identity,d3_ease_clamp(r(n.apply(null,o.call(arguments,1))))},a.interpolateHcl=d3_interpolateHcl,a.interpolateHsl=d3_interpolateHsl,a.interpolateLab=d3_interpolateLab,a.interpolateRound=d3_interpolateRound,a.transform=function(t){var e=l.createElementNS(a.ns.prefix.svg,"g");return(a.transform=function(t){if(null!=t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate()}return new d3_transform(n?n.matrix:fe)})(t)},d3_transform.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var fe={a:1,b:0,c:0,d:1,e:0,f:0};a.interpolateTransform=d3_interpolateTransform,a.layout={},a.layout.bundle=function(){return function(t){for(var e=[],n=-1,r=t.length;++n<r;)e.push(d3_layout_bundlePath(t[n]));return e}},a.layout.chord=function(){function relayout(){var l,u,d,h,f,p={},g=[],v=a.range(r),m=[];for(t=[],e=[],l=0,h=-1;++h<r;){for(u=0,f=-1;++f<r;)u+=n[h][f];g.push(u),m.push(a.range(r)),l+=u}for(i&&v.sort(function(t,e){return i(g[t],g[e])}),o&&m.forEach(function(t,e){t.sort(function(t,r){return o(n[e][t],n[e][r])})}),l=(R-c*r)/l,u=0,h=-1;++h<r;){for(d=u,f=-1;++f<r;){var y=v[h],_=m[y][f],x=n[y][_],b=u,k=u+=x*l;p[y+"-"+_]={index:y,subindex:_,startAngle:b,endAngle:k,value:x}}e[y]={index:y,startAngle:d,endAngle:u,value:g[y]},u+=c}for(h=-1;++h<r;)for(f=h-1;++f<r;){var w=p[h+"-"+f],M=p[f+"-"+h];(w.value||M.value)&&t.push(w.value<M.value?{source:M,target:w}:{source:w,target:M})}s&&resort()}function resort(){t.sort(function(t,e){return s((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}var t,e,n,r,i,o,s,l={},c=0;return l.matrix=function(i){return arguments.length?(r=(n=i)&&n.length,t=e=null,l):n},l.padding=function(n){return arguments.length?(c=n,t=e=null,l):c},l.sortGroups=function(n){return arguments.length?(i=n,t=e=null,l):i},l.sortSubgroups=function(e){return arguments.length?(o=e,t=null,l):o},l.sortChords=function(e){return arguments.length?(s=e,t&&resort(),l):s},l.chords=function(){return t||relayout(),t},l.groups=function(){return e||relayout(),e},l},a.layout.force=function(){function repulse(t){return function(e,n,r,i){if(e.point!==t){var a=e.cx-t.x,o=e.cy-t.y,s=i-n,l=a*a+o*o;if(s*s/v<l){if(l<p){var c=e.charge/l;t.px-=a*c,t.py-=o*c}return!0}if(e.point&&l&&l<p){var c=e.pointCharge/l;t.px-=a*c,t.py-=o*c}}return!e.charge}}function dragmove(t){t.px=a.event.x,t.py=a.event.y,s.resume()}var t,e,n,r,i,o,s={},l=a.dispatch("start","tick","end"),c=[1,1],u=.9,d=pe,h=ge,f=-30,p=ve,g=.1,v=.64,m=[],y=[];return s.tick=function(){if((n*=.99)<.005)return t=null,l.end({type:"end",alpha:n=0}),!0;var e,s,d,h,p,v,_,x,b,k=m.length,w=y.length;for(s=0;s<w;++s)d=y[s],h=d.source,p=d.target,x=p.x-h.x,b=p.y-h.y,(v=x*x+b*b)&&(v=n*i[s]*((v=Math.sqrt(v))-r[s])/v,x*=v,b*=v,p.x-=x*(_=h.weight+p.weight?h.weight/(h.weight+p.weight):.5),p.y-=b*_,h.x+=x*(_=1-_),h.y+=b*_);if((_=n*g)&&(x=c[0]/2,b=c[1]/2,s=-1,_))for(;++s<k;)d=m[s],d.x+=(x-d.x)*_,d.y+=(b-d.y)*_;if(f)for(d3_layout_forceAccumulate(e=a.geom.quadtree(m),n,o),s=-1;++s<k;)(d=m[s]).fixed||e.visit(repulse(d));for(s=-1;++s<k;)d=m[s],d.fixed?(d.x=d.px,d.y=d.py):(d.x-=(d.px-(d.px=d.x))*u,d.y-=(d.py-(d.py=d.y))*u);l.tick({type:"tick",alpha:n})},s.nodes=function(t){return arguments.length?(m=t,s):m},s.links=function(t){return arguments.length?(y=t,s):y},s.size=function(t){return arguments.length?(c=t,s):c},s.linkDistance=function(t){return arguments.length?(d="function"==typeof t?t:+t,s):d},s.distance=s.linkDistance,s.linkStrength=function(t){return arguments.length?(h="function"==typeof t?t:+t,s):h},s.friction=function(t){return arguments.length?(u=+t,s):u},s.charge=function(t){return arguments.length?(f="function"==typeof t?t:+t,s):f},s.chargeDistance=function(t){return arguments.length?(p=t*t,s):Math.sqrt(p)},s.gravity=function(t){return arguments.length?(g=+t,s):g},s.theta=function(t){return arguments.length?(v=t*t,s):Math.sqrt(v)},s.alpha=function(e){return arguments.length?(e=+e,n?e>0?n=e:(t.c=null,t.t=NaN,t=null,l.end({type:"end",alpha:n=0})):e>0&&(l.start({type:"start",alpha:n=e}),t=d3_timer(s.tick)),s):n},s.start=function(){function position(n,r){if(!e){for(e=new Array(a),c=0;c<a;++c)e[c]=[];for(c=0;c<l;++c){var i=y[c];e[i.source.index].push(i.target),e[i.target.index].push(i.source)}}for(var o,s=e[t],c=-1,u=s.length;++c<u;)if(!isNaN(o=s[c][n]))return o;return Math.random()*r}var t,e,n,a=m.length,l=y.length,u=c[0],p=c[1];for(t=0;t<a;++t)(n=m[t]).index=t,n.weight=0;for(t=0;t<l;++t)n=y[t],"number"==typeof n.source&&(n.source=m[n.source]),"number"==typeof n.target&&(n.target=m[n.target]),++n.source.weight,++n.target.weight;for(t=0;t<a;++t)n=m[t],isNaN(n.x)&&(n.x=position("x",u)),isNaN(n.y)&&(n.y=position("y",p)),isNaN(n.px)&&(n.px=n.x),isNaN(n.py)&&(n.py=n.y);if(r=[],"function"==typeof d)for(t=0;t<l;++t)r[t]=+d.call(this,y[t],t);else for(t=0;t<l;++t)r[t]=d;if(i=[],"function"==typeof h)for(t=0;t<l;++t)i[t]=+h.call(this,y[t],t);else for(t=0;t<l;++t)i[t]=h;if(o=[],"function"==typeof f)for(t=0;t<a;++t)o[t]=+f.call(this,m[t],t);else for(t=0;t<a;++t)o[t]=f;return s.resume()},s.resume=function(){return s.alpha(.1)},s.stop=function(){return s.alpha(0)},s.drag=function(){if(e||(e=a.behavior.drag().origin(d3_identity).on("dragstart.force",d3_layout_forceDragstart).on("drag.force",dragmove).on("dragend.force",d3_layout_forceDragend)),!arguments.length)return e;this.on("mouseover.force",d3_layout_forceMouseover).on("mouseout.force",d3_layout_forceMouseout).call(e)},a.rebind(s,l,"on")};var pe=20,ge=1,ve=1/0;a.layout.hierarchy=function(){function hierarchy(r){var i,a=[r],o=[];for(r.depth=0;null!=(i=a.pop());)if(o.push(i),(l=e.call(hierarchy,i,i.depth))&&(s=l.length)){for(var s,l,c;--s>=0;)a.push(c=l[s]),c.parent=i,c.depth=i.depth+1;n&&(i.value=0),i.children=l}else n&&(i.value=+n.call(hierarchy,i,i.depth)||0),delete i.children;return d3_layout_hierarchyVisitAfter(r,function(e){var r,i;t&&(r=e.children)&&r.sort(t),n&&(i=e.parent)&&(i.value+=e.value)}),o}var t=d3_layout_hierarchySort,e=d3_layout_hierarchyChildren,n=d3_layout_hierarchyValue;return hierarchy.sort=function(e){return arguments.length?(t=e,hierarchy):t},hierarchy.children=function(t){return arguments.length?(e=t,hierarchy):e},hierarchy.value=function(t){return arguments.length?(n=t,hierarchy):n},hierarchy.revalue=function(t){return n&&(d3_layout_hierarchyVisitBefore(t,function(t){t.children&&(t.value=0)}),d3_layout_hierarchyVisitAfter(t,function(t){var e;t.children||(t.value=+n.call(hierarchy,t,t.depth)||0),(e=t.parent)&&(e.value+=t.value)})),t},hierarchy},a.layout.partition=function(){function position(t,e,n,r){var i=t.children;if(t.x=e,t.y=t.depth*r,t.dx=n,t.dy=r,i&&(a=i.length)){var a,o,s,l=-1;for(n=t.value?n/t.value:0;++l<a;)position(o=i[l],e,s=o.value*n,r),e+=s}}function depth(t){var e=t.children,n=0;if(e&&(r=e.length))for(var r,i=-1;++i<r;)n=Math.max(n,depth(e[i]));return 1+n}function partition(n,r){var i=t.call(this,n,r);return position(i[0],0,e[0],e[1]/depth(i[0])),i}var t=a.layout.hierarchy(),e=[1,1];return partition.size=function(t){return arguments.length?(e=t,partition):e},d3_layout_hierarchyRebind(partition,t)},a.layout.pie=function(){function pie(o){var s,l=o.length,c=o.map(function(e,n){return+t.call(pie,e,n)}),u=+("function"==typeof n?n.apply(this,arguments):n),d=("function"==typeof r?r.apply(this,arguments):r)-u,h=Math.min(Math.abs(d)/l,+("function"==typeof i?i.apply(this,arguments):i)),f=h*(d<0?-1:1),p=a.sum(c),g=p?(d-l*f)/p:0,v=a.range(l),m=[];return null!=e&&v.sort(e===me?function(t,e){return c[e]-c[t]}:function(t,n){return e(o[t],o[n])}),v.forEach(function(t){m[t]={data:o[t],value:s=c[t],startAngle:u,endAngle:u+=s*g+f,padAngle:h}}),m}var t=Number,e=me,n=0,r=R,i=0;return pie.value=function(e){return arguments.length?(t=e,pie):t},pie.sort=function(t){return arguments.length?(e=t,pie):e},pie.startAngle=function(t){return arguments.length?(n=t,pie):n},pie.endAngle=function(t){return arguments.length?(r=t,pie):r},pie.padAngle=function(t){return arguments.length?(i=t,pie):i},pie};var me={};a.layout.stack=function(){function stack(s,l){if(!(h=s.length))return s;var c=s.map(function(e,n){return t.call(stack,e,n)}),u=c.map(function(t){return t.map(function(t,e){return[i.call(stack,t,e),o.call(stack,t,e)]})}),d=e.call(stack,u,l);c=a.permute(c,d),u=a.permute(u,d);var h,f,p,g,v=n.call(stack,u,l),m=c[0].length;for(p=0;p<m;++p)for(r.call(stack,c[0][p],g=v[p],u[0][p][1]),f=1;f<h;++f)r.call(stack,c[f][p],g+=u[f-1][p][1],u[f][p][1]);return s}var t=d3_identity,e=d3_layout_stackOrderDefault,n=d3_layout_stackOffsetZero,r=d3_layout_stackOut,i=d3_layout_stackX,o=d3_layout_stackY;return stack.values=function(e){return arguments.length?(t=e,stack):t},stack.order=function(t){return arguments.length?(e="function"==typeof t?t:ye.get(t)||d3_layout_stackOrderDefault,stack):e},stack.offset=function(t){return arguments.length?(n="function"==typeof t?t:_e.get(t)||d3_layout_stackOffsetZero,stack):n},stack.x=function(t){return arguments.length?(i=t,stack):i},stack.y=function(t){return arguments.length?(o=t,stack):o},stack.out=function(t){return arguments.length?(r=t,stack):r},stack};var ye=a.map({"inside-out":function(t){var e,n,r=t.length,i=t.map(d3_layout_stackMaxIndex),o=t.map(d3_layout_stackReduceSum),s=a.range(r).sort(function(t,e){return i[t]-i[e]}),l=0,c=0,u=[],d=[];for(e=0;e<r;++e)n=s[e],l<c?(l+=o[n],u.push(n)):(c+=o[n],d.push(n));return d.reverse().concat(u)},reverse:function(t){return a.range(t.length).reverse()},default:d3_layout_stackOrderDefault}),_e=a.map({silhouette:function(t){var e,n,r,i=t.length,a=t[0].length,o=[],s=0,l=[];for(n=0;n<a;++n){for(e=0,r=0;e<i;e++)r+=t[e][n][1];r>s&&(s=r),o.push(r)}for(n=0;n<a;++n)l[n]=(s-o[n])/2;return l},wiggle:function(t){var e,n,r,i,a,o,s,l,c,u=t.length,d=t[0],h=d.length,f=[];for(f[0]=l=c=0,n=1;n<h;++n){for(e=0,i=0;e<u;++e)i+=t[e][n][1];for(e=0,a=0,s=d[n][0]-d[n-1][0];e<u;++e){for(r=0,o=(t[e][n][1]-t[e][n-1][1])/(2*s);r<e;++r)o+=(t[r][n][1]-t[r][n-1][1])/s;a+=o*t[e][n][1]}f[n]=l-=i?a/i*s:0,l<c&&(c=l)}for(n=0;n<h;++n)f[n]-=c;return f},expand:function(t){var e,n,r,i=t.length,a=t[0].length,o=1/i,s=[];for(n=0;n<a;++n){for(e=0,r=0;e<i;e++)r+=t[e][n][1];if(r)for(e=0;e<i;e++)t[e][n][1]/=r;else for(e=0;e<i;e++)t[e][n][1]=o}for(n=0;n<a;++n)s[n]=0;return s},zero:d3_layout_stackOffsetZero});a.layout.histogram=function(){function histogram(i,o){for(var s,l,c=[],u=i.map(e,this),d=n.call(this,u,o),h=r.call(this,d,u,o),o=-1,f=u.length,p=h.length-1,g=t?1:1/f;++o<p;)s=c[o]=[],s.dx=h[o+1]-(s.x=h[o]),s.y=0;if(p>0)for(o=-1;++o<f;)(l=u[o])>=d[0]&&l<=d[1]&&(s=c[a.bisect(h,l,1,p)-1],s.y+=g,s.push(i[o]));return c}var t=!0,e=Number,n=d3_layout_histogramRange,r=d3_layout_histogramBinSturges;return histogram.value=function(t){return arguments.length?(e=t,histogram):e},histogram.range=function(t){return arguments.length?(n=d3_functor(t),histogram):n},histogram.bins=function(t){return arguments.length?(r="number"==typeof t?function(e){return d3_layout_histogramBinFixed(e,t)}:d3_functor(t),histogram):r},histogram.frequency=function(e){return arguments.length?(t=!!e,histogram):t},histogram},a.layout.pack=function(){function pack(i,a){var o=e.call(this,i,a),s=o[0],l=r[0],c=r[1],u=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(s.x=s.y=0,d3_layout_hierarchyVisitAfter(s,function(t){t.r=+u(t.value)}),d3_layout_hierarchyVisitAfter(s,d3_layout_packSiblings),n){var d=n*(t?1:Math.max(2*s.r/l,2*s.r/c))/2;d3_layout_hierarchyVisitAfter(s,function(t){t.r+=d}),d3_layout_hierarchyVisitAfter(s,d3_layout_packSiblings),d3_layout_hierarchyVisitAfter(s,function(t){t.r-=d})}return d3_layout_packTransform(s,l/2,c/2,t?1:1/Math.max(2*s.r/l,2*s.r/c)),o}var t,e=a.layout.hierarchy().sort(d3_layout_packSort),n=0,r=[1,1];return pack.size=function(t){return arguments.length?(r=t,pack):r},pack.radius=function(e){return arguments.length?(t=null==e||"function"==typeof e?e:+e,pack):t},pack.padding=function(t){return arguments.length?(n=+t,pack):n},d3_layout_hierarchyRebind(pack,e)},a.layout.tree=function(){function tree(i,a){var o=t.call(this,i,a),s=o[0],l=wrapTree(s);if(d3_layout_hierarchyVisitAfter(l,firstWalk),l.parent.m=-l.z,d3_layout_hierarchyVisitBefore(l,secondWalk),r)d3_layout_hierarchyVisitBefore(s,sizeNode);else{var c=s,u=s,d=s;d3_layout_hierarchyVisitBefore(s,function(t){t.x<c.x&&(c=t),t.x>u.x&&(u=t),t.depth>d.depth&&(d=t)});var h=e(c,u)/2-c.x,f=n[0]/(u.x+e(u,c)/2+h),p=n[1]/(d.depth||1);d3_layout_hierarchyVisitBefore(s,function(t){t.x=(t.x+h)*f,t.y=t.depth*p})}return o}function wrapTree(t){for(var e,n={A:null,children:[t]},r=[n];null!=(e=r.pop());)for(var i,a=e.children,o=0,s=a.length;o<s;++o)r.push((a[o]=i={_:a[o],parent:e,children:(i=a[o].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:o}).a=i);return n.children[0]}function firstWalk(t){var n=t.children,r=t.parent.children,i=t.i?r[t.i-1]:null;if(n.length){d3_layout_treeShift(t);var a=(n[0].z+n[n.length-1].z)/2;i?(t.z=i.z+e(t._,i._),t.m=t.z-a):t.z=a}else i&&(t.z=i.z+e(t._,i._));t.parent.A=apportion(t,i,t.parent.A||r[0])}function secondWalk(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function apportion(t,n,r){if(n){for(var i,a=t,o=t,s=n,l=a.parent.children[0],c=a.m,u=o.m,d=s.m,h=l.m;s=d3_layout_treeRight(s),a=d3_layout_treeLeft(a),s&&a;)l=d3_layout_treeLeft(l),o=d3_layout_treeRight(o),o.a=t,i=s.z+d-a.z-c+e(s._,a._),i>0&&(d3_layout_treeMove(d3_layout_treeAncestor(s,t,r),t,i),c+=i,u+=i),d+=s.m,c+=a.m,h+=l.m,u+=o.m;s&&!d3_layout_treeRight(o)&&(o.t=s,o.m+=d-u),a&&!d3_layout_treeLeft(l)&&(l.t=a,l.m+=c-h,r=t)}return r}function sizeNode(t){t.x*=n[0],t.y=t.depth*n[1]}var t=a.layout.hierarchy().sort(null).value(null),e=d3_layout_treeSeparation,n=[1,1],r=null;return tree.separation=function(t){return arguments.length?(e=t,tree):e},tree.size=function(t){return arguments.length?(r=null==(n=t)?sizeNode:null,tree):r?null:n},tree.nodeSize=function(t){return arguments.length?(r=null==(n=t)?null:sizeNode,tree):r?n:null},d3_layout_hierarchyRebind(tree,t)},a.layout.cluster=function(){function cluster(i,a){var o,s=t.call(this,i,a),l=s[0],c=0;d3_layout_hierarchyVisitAfter(l,function(t){var n=t.children;n&&n.length?(t.x=d3_layout_clusterX(n),t.y=d3_layout_clusterY(n)):(t.x=o?c+=e(t,o):0,t.y=0,o=t)});var u=d3_layout_clusterLeft(l),d=d3_layout_clusterRight(l),h=u.x-e(u,d)/2,f=d.x+e(d,u)/2;return d3_layout_hierarchyVisitAfter(l,r?function(t){t.x=(t.x-l.x)*n[0],t.y=(l.y-t.y)*n[1]}:function(t){t.x=(t.x-h)/(f-h)*n[0],t.y=(1-(l.y?t.y/l.y:1))*n[1]}),s}var t=a.layout.hierarchy().sort(null).value(null),e=d3_layout_treeSeparation,n=[1,1],r=!1;return cluster.separation=function(t){return arguments.length?(e=t,cluster):e},cluster.size=function(t){return arguments.length?(r=null==(n=t),cluster):r?null:n},cluster.nodeSize=function(t){return arguments.length?(r=null!=(n=t),cluster):r?n:null},d3_layout_hierarchyRebind(cluster,t)},a.layout.treemap=function(){function scale(t,e){for(var n,r,i=-1,a=t.length;++i<a;)r=(n=t[i]).value*(e<0?0:e),n.area=isNaN(r)||r<=0?0:r}function squarify(t){var e=t.children;if(e&&e.length){var n,r,i,a=o(t),s=[],c=e.slice(),u=1/0,d="slice"===l?a.dx:"dice"===l?a.dy:"slice-dice"===l?1&t.depth?a.dy:a.dx:Math.min(a.dx,a.dy);for(scale(c,a.dx*a.dy/t.value),s.area=0;(i=c.length)>0;)s.push(n=c[i-1]),s.area+=n.area,"squarify"!==l||(r=worst(s,d))<=u?(c.pop(),u=r):(s.area-=s.pop().area,position(s,d,a,!1),d=Math.min(a.dx,a.dy),s.length=s.area=0,u=1/0);s.length&&(position(s,d,a,!0),s.length=s.area=0),e.forEach(squarify)}}function stickify(t){var e=t.children;if(e&&e.length){var n,r=o(t),i=e.slice(),a=[];for(scale(i,r.dx*r.dy/t.value),a.area=0;n=i.pop();)a.push(n),a.area+=n.area,null!=n.z&&(position(a,n.z?r.dx:r.dy,r,!i.length),a.length=a.area=0);e.forEach(stickify)}}function worst(t,e){for(var n,r=t.area,i=0,a=1/0,o=-1,s=t.length;++o<s;)(n=t[o].area)&&(n<a&&(a=n),n>i&&(i=n));return r*=r,e*=e,r?Math.max(e*i*c/r,r/(e*a*c)):1/0}function position(t,e,r,i){var a,o=-1,s=t.length,l=r.x,c=r.y,u=e?n(t.area/e):0;if(e==r.dx){for((i||u>r.dy)&&(u=r.dy);++o<s;)a=t[o],a.x=l,a.y=c,a.dy=u,l+=a.dx=Math.min(r.x+r.dx-l,u?n(a.area/u):0);a.z=!0,a.dx+=r.x+r.dx-l,r.y+=u,r.dy-=u}else{for((i||u>r.dx)&&(u=r.dx);++o<s;)a=t[o],a.x=l,a.y=c,a.dx=u,c+=a.dy=Math.min(r.y+r.dy-c,u?n(a.area/u):0);a.z=!1,a.dy+=r.y+r.dy-c,r.x+=u,r.dx-=u}}function treemap(n){var i=t||e(n),a=i[0];return a.x=a.y=0,a.value?(a.dx=r[0],a.dy=r[1]):a.dx=a.dy=0,t&&e.revalue(a),scale([a],a.dx*a.dy/a.value),(t?stickify:squarify)(a),s&&(t=i),i}var t,e=a.layout.hierarchy(),n=Math.round,r=[1,1],i=null,o=d3_layout_treemapPadNull,s=!1,l="squarify",c=.5*(1+Math.sqrt(5));return treemap.size=function(t){return arguments.length?(r=t,treemap):r},treemap.padding=function(t){function padFunction(e){var n=t.call(treemap,e,e.depth);return null==n?d3_layout_treemapPadNull(e):d3_layout_treemapPad(e,"number"==typeof n?[n,n,n,n]:n)}function padConstant(e){return d3_layout_treemapPad(e,t)}if(!arguments.length)return i;var e;return o=null==(i=t)?d3_layout_treemapPadNull:"function"==(e=typeof t)?padFunction:"number"===e?(t=[t,t,t,t],padConstant):padConstant,treemap},treemap.round=function(t){return arguments.length?(n=t?Math.round:Number,treemap):n!=Number},treemap.sticky=function(e){return arguments.length?(s=e,t=null,treemap):s},treemap.ratio=function(t){return arguments.length?(c=t,treemap):c},treemap.mode=function(t){return arguments.length?(l=t+"",treemap):l},d3_layout_hierarchyRebind(treemap,e)},a.random={normal:function(t,e){var n=arguments.length;return n<2&&(e=1),n<1&&(t=0),function(){var n,r,i;do{n=2*Math.random()-1,r=2*Math.random()-1,i=n*n+r*r}while(!i||i>1);return t+e*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var t=a.random.normal.apply(a,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=a.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;n<t;n++)e+=Math.random();return e}}},a.scale={};var xe={floor:d3_identity,ceil:d3_identity};a.scale.linear=function(){return d3_scale_linear([0,1],[0,1],d3_interpolate,!1)};var be={s:1,g:1,p:1,r:1,e:1};a.scale.log=function(){return d3_scale_log(a.scale.linear().domain([0,1]),10,!0,[1,10])};var ke=a.format(".0e"),we={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};a.scale.pow=function(){return d3_scale_pow(a.scale.linear(),1,[0,1])},a.scale.sqrt=function(){return a.scale.pow().exponent(.5)},a.scale.ordinal=function(){return d3_scale_ordinal([],{t:"range",a:[[]]})},a.scale.category10=function(){return a.scale.ordinal().range(Me)},a.scale.category20=function(){return a.scale.ordinal().range(Ce)},a.scale.category20b=function(){return a.scale.ordinal().range(Se)},a.scale.category20c=function(){return a.scale.ordinal().range(Ae)};var Me=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(d3_rgbString),Ce=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(d3_rgbString),Se=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(d3_rgbString),Ae=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(d3_rgbString);a.scale.quantile=function(){return d3_scale_quantile([],[])},a.scale.quantize=function(){return d3_scale_quantize(0,1,[0,1])},a.scale.threshold=function(){return d3_scale_threshold([.5],[0,1])},a.scale.identity=function(){return d3_scale_identity([0,1])},a.svg={},a.svg.arc=function(){function arc(){var s=Math.max(0,+t.apply(this,arguments)),l=Math.max(0,+e.apply(this,arguments)),c=i.apply(this,arguments)-I,u=a.apply(this,arguments)-I,d=Math.abs(u-c),h=c>u?0:1;if(l<s&&(f=l,l=s,s=f),d>=B)return circleSegment(l,h)+(s?circleSegment(s,1-h):"")+"Z";var f,p,g,v,m,y,_,x,b,k,w,M,C=0,S=0,A=[];if((v=(+o.apply(this,arguments)||0)/2)&&(g=r===Ee?Math.sqrt(s*s+l*l):+r.apply(this,arguments),h||(S*=-1),l&&(S=d3_asin(g/l*Math.sin(v))),s&&(C=d3_asin(g/s*Math.sin(v)))),l){m=l*Math.cos(c+S),y=l*Math.sin(c+S),_=l*Math.cos(u-S),x=l*Math.sin(u-S);var E=Math.abs(u-c-2*S)<=z?0:1;if(S&&d3_svg_arcSweep(m,y,_,x)===h^E){var T=(c+u)/2;m=l*Math.cos(T),y=l*Math.sin(T),_=x=null}}else m=y=0;if(s){b=s*Math.cos(u-C),k=s*Math.sin(u-C),w=s*Math.cos(c+C),M=s*Math.sin(c+C);var L=Math.abs(c-u+2*C)<=z?0:1;if(C&&d3_svg_arcSweep(b,k,w,M)===1-h^L){var D=(c+u)/2;b=s*Math.cos(D),k=s*Math.sin(D),w=M=null}}else b=k=0;if(d>N&&(f=Math.min(Math.abs(l-s)/2,+n.apply(this,arguments)))>.001){p=s<l^h?0:1;var F=f,P=f;if(d<z){var R=null==w?[b,k]:null==_?[m,y]:d3_geom_polygonIntersect([m,y],[w,M],[_,x],[b,k]),W=m-R[0],O=y-R[1],H=_-R[0],G=x-R[1],j=1/Math.sin(Math.acos((W*H+O*G)/(Math.sqrt(W*W+O*O)*Math.sqrt(H*H+G*G)))/2),V=Math.sqrt(R[0]*R[0]+R[1]*R[1]);P=Math.min(f,(s-V)/(j-1)),F=Math.min(f,(l-V)/(j+1))}if(null!=_){var Y=d3_svg_arcCornerTangents(null==w?[b,k]:[w,M],[m,y],l,F,h),q=d3_svg_arcCornerTangents([_,x],[b,k],l,F,h);f===F?A.push("M",Y[0],"A",F,",",F," 0 0,",p," ",Y[1],"A",l,",",l," 0 ",1-h^d3_svg_arcSweep(Y[1][0],Y[1][1],q[1][0],q[1][1]),",",h," ",q[1],"A",F,",",F," 0 0,",p," ",q[0]):A.push("M",Y[0],"A",F,",",F," 0 1,",p," ",q[0])}else A.push("M",m,",",y);if(null!=w){var U=d3_svg_arcCornerTangents([m,y],[w,M],s,-P,h),X=d3_svg_arcCornerTangents([b,k],null==_?[m,y]:[_,x],s,-P,h);f===P?A.push("L",X[0],"A",P,",",P," 0 0,",p," ",X[1],"A",s,",",s," 0 ",h^d3_svg_arcSweep(X[1][0],X[1][1],U[1][0],U[1][1]),",",1-h," ",U[1],"A",P,",",P," 0 0,",p," ",U[0]):A.push("L",X[0],"A",P,",",P," 0 0,",p," ",U[0])}else A.push("L",b,",",k)}else A.push("M",m,",",y),null!=_&&A.push("A",l,",",l," 0 ",E,",",h," ",_,",",x),A.push("L",b,",",k),null!=w&&A.push("A",s,",",s," 0 ",L,",",1-h," ",w,",",M);return A.push("Z"),A.join("")}function circleSegment(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}var t=d3_svg_arcInnerRadius,e=d3_svg_arcOuterRadius,n=d3_zero,r=Ee,i=d3_svg_arcStartAngle,a=d3_svg_arcEndAngle,o=d3_svg_arcPadAngle;return arc.innerRadius=function(e){return arguments.length?(t=d3_functor(e),arc):t},arc.outerRadius=function(t){return arguments.length?(e=d3_functor(t),arc):e},arc.cornerRadius=function(t){return arguments.length?(n=d3_functor(t),arc):n},arc.padRadius=function(t){return arguments.length?(r=t==Ee?Ee:d3_functor(t),arc):r},arc.startAngle=function(t){return arguments.length?(i=d3_functor(t),arc):i},arc.endAngle=function(t){return arguments.length?(a=d3_functor(t),arc):a},arc.padAngle=function(t){return arguments.length?(o=d3_functor(t),arc):o},arc.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-I;return[Math.cos(r)*n,Math.sin(r)*n]},arc};var Ee="auto";a.svg.line=function(){return d3_svg_line(d3_identity)};var Te=a.map({linear:d3_svg_lineLinear,"linear-closed":d3_svg_lineLinearClosed,step:d3_svg_lineStep,"step-before":d3_svg_lineStepBefore,"step-after":d3_svg_lineStepAfter,basis:d3_svg_lineBasis,"basis-open":d3_svg_lineBasisOpen,"basis-closed":d3_svg_lineBasisClosed,bundle:d3_svg_lineBundle,cardinal:d3_svg_lineCardinal,"cardinal-open":d3_svg_lineCardinalOpen,"cardinal-closed":d3_svg_lineCardinalClosed,monotone:d3_svg_lineMonotone});Te.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var Le=[0,2/3,1/3,0],De=[0,1/3,2/3,0],Fe=[0,1/6,2/3,1/6];a.svg.line.radial=function(){var t=d3_svg_line(d3_svg_lineRadial);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},d3_svg_lineStepBefore.reverse=d3_svg_lineStepAfter,d3_svg_lineStepAfter.reverse=d3_svg_lineStepBefore,a.svg.area=function(){return d3_svg_area(d3_identity)},a.svg.area.radial=function(){var t=d3_svg_area(d3_svg_lineRadial);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},a.svg.chord=function(){function chord(n,r){var i=subgroup(this,t,n,r),a=subgroup(this,e,n,r);return"M"+i.p0+arc(i.r,i.p1,i.a1-i.a0)+(equals(i,a)?curve(i.r,i.p1,i.r,i.p0):curve(i.r,i.p1,a.r,a.p0)+arc(a.r,a.p1,a.a1-a.a0)+curve(a.r,a.p1,i.r,i.p0))+"Z"}function subgroup(t,e,a,o){var s=e.call(t,a,o),l=n.call(t,s,o),c=r.call(t,s,o)-I,u=i.call(t,s,o)-I;return{r:l,a0:c,a1:u,p0:[l*Math.cos(c),l*Math.sin(c)],p1:[l*Math.cos(u),l*Math.sin(u)]}}function equals(t,e){return t.a0==e.a0&&t.a1==e.a1}function arc(t,e,n){return"A"+t+","+t+" 0 "+ +(n>z)+",1 "+e}function curve(t,e,n,r){return"Q 0,0 "+r}var t=d3_source,e=d3_target,n=d3_svg_chordRadius,r=d3_svg_arcStartAngle,i=d3_svg_arcEndAngle;return chord.radius=function(t){return arguments.length?(n=d3_functor(t),chord):n},chord.source=function(e){return arguments.length?(t=d3_functor(e),chord):t},chord.target=function(t){return arguments.length?(e=d3_functor(t),chord):e},chord.startAngle=function(t){return arguments.length?(r=d3_functor(t),chord):r},chord.endAngle=function(t){return arguments.length?(i=d3_functor(t),chord):i},chord},a.svg.diagonal=function(){function diagonal(r,i){var a=t.call(this,r,i),o=e.call(this,r,i),s=(a.y+o.y)/2,l=[a,{x:a.x,y:s},{x:o.x,y:s},o];return l=l.map(n),"M"+l[0]+"C"+l[1]+" "+l[2]+" "+l[3]}var t=d3_source,e=d3_target,n=d3_svg_diagonalProjection;return diagonal.source=function(e){return arguments.length?(t=d3_functor(e),diagonal):t},diagonal.target=function(t){return arguments.length?(e=d3_functor(t),diagonal):e},diagonal.projection=function(t){return arguments.length?(n=t,diagonal):n},diagonal},a.svg.diagonal.radial=function(){var t=a.svg.diagonal(),e=d3_svg_diagonalProjection,n=t.projection;return t.projection=function(t){return arguments.length?n(d3_svg_diagonalRadialProjection(e=t)):e},t},a.svg.symbol=function(){function symbol(n,r){return(Ne.get(t.call(this,n,r))||d3_svg_symbolCircle)(e.call(this,n,r))}var t=d3_svg_symbolType,e=d3_svg_symbolSize;return symbol.type=function(e){return arguments.length?(t=d3_functor(e),symbol):t},symbol.size=function(t){return arguments.length?(e=d3_functor(t),symbol):e},symbol};var Ne=a.map({circle:d3_svg_symbolCircle,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*ze)),n=e*ze;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/Pe),n=e*Pe/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/Pe),n=e*Pe/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});a.svg.symbolTypes=Ne.keys();var Pe=Math.sqrt(3),ze=Math.tan(30*W);C.transition=function(t){for(var e,n,r=Re||++Oe,i=d3_transitionNamespace(t),a=[],o=Be||{time:Date.now(),ease:d3_ease_cubicInOut,delay:0,duration:250},s=-1,l=this.length;++s<l;){a.push(e=[]);for(var c=this[s],u=-1,d=c.length;++u<d;)(n=c[u])&&d3_transitionNode(n,u,i,r,o),e.push(n)}return d3_transition(a,i,r)},C.interrupt=function(t){return this.each(null==t?Ie:d3_selection_interruptNS(d3_transitionNamespace(t)))};var Re,Be,Ie=d3_selection_interruptNS(d3_transitionNamespace()),We=[],Oe=0;We.call=C.call,We.empty=C.empty,We.node=C.node,We.size=C.size,a.transition=function(t,e){return t&&t.transition?Re?t.transition(e):t:a.selection().transition(t)},a.transition.prototype=We,We.select=function(t){var e,n,r,i=this.id,a=this.namespace,o=[];t=d3_selection_selector(t);for(var s=-1,l=this.length;++s<l;){o.push(e=[]);for(var c=this[s],u=-1,d=c.length;++u<d;)(r=c[u])&&(n=t.call(r,r.__data__,u,s))?("__data__"in r&&(n.__data__=r.__data__),d3_transitionNode(n,u,a,i,r[a][i]),e.push(n)):e.push(null)}return d3_transition(o,a,i)},We.selectAll=function(t){var e,n,r,i,a,o=this.id,s=this.namespace,l=[];t=d3_selection_selectorAll(t);for(var c=-1,u=this.length;++c<u;)for(var d=this[c],h=-1,f=d.length;++h<f;)if(r=d[h]){a=r[s][o],n=t.call(r,r.__data__,h,c),l.push(e=[]);for(var p=-1,g=n.length;++p<g;)(i=n[p])&&d3_transitionNode(i,p,s,o,a),e.push(i)}return d3_transition(l,s,o)},We.filter=function(t){var e,n,r,i=[];"function"!=typeof t&&(t=d3_selection_filter(t));for(var a=0,o=this.length;a<o;a++){i.push(e=[]);for(var n=this[a],s=0,l=n.length;s<l;s++)(r=n[s])&&t.call(r,r.__data__,s,a)&&e.push(r)}return d3_transition(i,this.namespace,this.id)},We.tween=function(t,e){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(t):d3_selection_each(this,null==e?function(e){e[r][n].tween.remove(t)}:function(i){i[r][n].tween.set(t,e)})},We.attr=function(t,e){function attrNull(){this.removeAttribute(r)}function attrNullNS(){this.removeAttributeNS(r.space,r.local)}function attrTween(t){return null==t?attrNull:(t+="",function(){var e,i=this.getAttribute(r);return i!==t&&(e=n(i,t),function(t){this.setAttribute(r,e(t))})})}function attrTweenNS(t){return null==t?attrNullNS:(t+="",function(){var e,i=this.getAttributeNS(r.space,r.local);return i!==t&&(e=n(i,t),function(t){this.setAttributeNS(r.space,r.local,e(t))})})}if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var n="transform"==t?d3_interpolateTransform:d3_interpolate,r=a.ns.qualify(t);return d3_transition_tween(this,"attr."+t,e,r.local?attrTweenNS:attrTween)},We.attrTween=function(t,e){function attrTween(t,r){var i=e.call(this,t,r,this.getAttribute(n));return i&&function(t){this.setAttribute(n,i(t))}}function attrTweenNS(t,r){var i=e.call(this,t,r,this.getAttributeNS(n.space,n.local));return i&&function(t){this.setAttributeNS(n.space,n.local,i(t))}}var n=a.ns.qualify(t);return this.tween("attr."+t,n.local?attrTweenNS:attrTween)},We.style=function(t,e,n){function styleNull(){this.style.removeProperty(t)}function styleString(e){return null==e?styleNull:(e+="",function(){var r,i=d3_window(this).getComputedStyle(this,null).getPropertyValue(t);return i!==e&&(r=d3_interpolate(i,e),function(e){this.style.setProperty(t,r(e),n)})})}var r=arguments.length;if(r<3){if("string"!=typeof t){r<2&&(e="");for(n in t)this.style(n,t[n],e);return this}n=""}return d3_transition_tween(this,"style."+t,e,styleString)},We.styleTween=function(t,e,n){function styleTween(r,i){var a=e.call(this,r,i,d3_window(this).getComputedStyle(this,null).getPropertyValue(t));return a&&function(e){this.style.setProperty(t,a(e),n)}}return arguments.length<3&&(n=""),this.tween("style."+t,styleTween)},We.text=function(t){return d3_transition_tween(this,"text",t,d3_transition_text)},We.remove=function(){var t=this.namespace;return this.each("end.transition",function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)})},We.ease=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].ease:("function"!=typeof t&&(t=a.ease.apply(a,arguments)),d3_selection_each(this,function(r){r[n][e].ease=t}))},We.delay=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].delay:d3_selection_each(this,"function"==typeof t?function(r,i,a){r[n][e].delay=+t.call(r,r.__data__,i,a)}:(t=+t,function(r){r[n][e].delay=t}))},We.duration=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].duration:d3_selection_each(this,"function"==typeof t?function(r,i,a){r[n][e].duration=Math.max(1,t.call(r,r.__data__,i,a))}:(t=Math.max(1,t),function(r){r[n][e].duration=t}))},We.each=function(t,e){var n=this.id,r=this.namespace;if(arguments.length<2){var i=Be,o=Re;try{Re=n,d3_selection_each(this,function(e,i,a){Be=e[r][n],t.call(e,e.__data__,i,a)})}finally{Be=i,Re=o}}else d3_selection_each(this,function(i){var o=i[r][n];(o.event||(o.event=a.dispatch("start","end","interrupt"))).on(t,e)});return this},We.transition=function(){for(var t,e,n,r,i=this.id,a=++Oe,o=this.namespace,s=[],l=0,c=this.length;l<c;l++){s.push(t=[]);for(var e=this[l],u=0,d=e.length;u<d;u++)(n=e[u])&&(r=n[o][i],d3_transitionNode(n,u,o,a,{time:r.time,ease:r.ease,delay:r.delay+r.duration,duration:r.duration})),t.push(n)}return d3_transition(s,o,a)},a.svg.axis=function(){function axis(s){s.each(function(){var s,u=a.select(this),d=this.__chart__||e,h=this.__chart__=e.copy(),f=null==c?h.ticks?h.ticks.apply(h,l):h.domain():c,p=null==t?h.tickFormat?h.tickFormat.apply(h,l):d3_identity:t,g=u.selectAll(".tick").data(f,h),v=g.enter().insert("g",".domain").attr("class","tick").style("opacity",N),m=a.transition(g.exit()).style("opacity",N).remove(),y=a.transition(g.order()).style("opacity",1),_=Math.max(r,0)+o,x=d3_scaleRange(h),b=u.selectAll(".domain").data([0]),k=(b.enter().append("path").attr("class","domain"),a.transition(b));v.append("line"),v.append("text");var w,M,C,S,A=v.select("line"),E=y.select("line"),T=g.select("text").text(p),L=v.select("text"),D=y.select("text"),F="top"===n||"left"===n?-1:1;if("bottom"===n||"top"===n?(s=d3_svg_axisX,w="x",C="y",M="x2",S="y2",T.attr("dy",F<0?"0em":".71em").style("text-anchor","middle"),k.attr("d","M"+x[0]+","+F*i+"V0H"+x[1]+"V"+F*i)):(s=d3_svg_axisY,w="y",C="x",M="y2",S="x2",T.attr("dy",".32em").style("text-anchor",F<0?"end":"start"),k.attr("d","M"+F*i+","+x[0]+"H0V"+x[1]+"H"+F*i)),A.attr(S,F*r),L.attr(C,F*_),E.attr(M,0).attr(S,F*r),D.attr(w,0).attr(C,F*_),h.rangeBand){var P=h,z=P.rangeBand()/2;d=h=function(t){return P(t)+z}}else d.rangeBand?d=h:m.call(s,h,d);v.call(s,d,h),y.call(s,h,h)})}var t,e=a.scale.linear(),n=He,r=6,i=6,o=3,l=[10],c=null;return axis.scale=function(t){return arguments.length?(e=t,axis):e},axis.orient=function(t){return arguments.length?(n=t in Ge?t+"":He,axis):n},axis.ticks=function(){return arguments.length?(l=s(arguments),axis):l},axis.tickValues=function(t){return arguments.length?(c=t,axis):c},axis.tickFormat=function(e){return arguments.length?(t=e,axis):t},axis.tickSize=function(t){var e=arguments.length;return e?(r=+t,i=+arguments[e-1],axis):r},axis.innerTickSize=function(t){return arguments.length?(r=+t,axis):r},axis.outerTickSize=function(t){return arguments.length?(i=+t,axis):i},axis.tickPadding=function(t){return arguments.length?(o=+t,axis):o},axis.tickSubdivide=function(){return arguments.length&&axis},axis};var He="bottom",Ge={top:1,right:1,bottom:1,left:1};a.svg.brush=function(){function brush(t){t.each(function(){var t=a.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",brushstart).on("touchstart.brush",brushstart),e=t.selectAll(".background").data([0]);e.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var n=t.selectAll(".resize").data(u,d3_identity);n.exit().remove(),n.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return je[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),n.style("display",brush.empty()?"none":null);var o,s=a.transition(t),l=a.transition(e);r&&(o=d3_scaleRange(r),l.attr("x",o[0]).attr("width",o[1]-o[0]),redrawX(s)),i&&(o=d3_scaleRange(i),l.attr("y",o[0]).attr("height",o[1]-o[0]),redrawY(s)),redraw(s)})}function redraw(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+o[+/e$/.test(t)]+","+s[+/^s/.test(t)]+")"})}function redrawX(t){t.select(".extent").attr("x",o[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",o[1]-o[0])}function redrawY(t){t.select(".extent").attr("y",s[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",s[1]-s[0])}function brushstart(){function keydown(){32==a.event.keyCode&&(_||(u=null,b[0]-=o[1],b[1]-=s[1],_=2),d3_eventPreventDefault())}function keyup(){32==a.event.keyCode&&2==_&&(b[0]+=o[1],b[1]+=s[1],_=0,d3_eventPreventDefault())}function brushmove(){var t=a.mouse(h),e=!1;d&&(t[0]+=d[0],t[1]+=d[1]),_||(a.event.altKey?(u||(u=[(o[0]+o[1])/2,(s[0]+s[1])/2]),b[0]=o[+(t[0]<u[0])],b[1]=s[+(t[1]<u[1])]):u=null),m&&move1(t,r,0)&&(redrawX(g),e=!0),y&&move1(t,i,1)&&(redrawY(g),e=!0),e&&(redraw(g),p({type:"brush",mode:_?"move":"resize"}))}function move1(n,r,i){var a,d,h=d3_scaleRange(r),f=h[0],p=h[1],g=b[i],v=i?s:o,m=v[1]-v[0];if(_&&(f-=g,p-=m+g),a=(i?c:l)?Math.max(f,Math.min(p,n[i])):n[i],_?d=(a+=g)+m:(u&&(g=Math.max(f,Math.min(p,2*u[i]-a))),g<a?(d=a,a=g):d=g),v[0]!=a||v[1]!=d)return i?e=null:t=null,v[0]=a,v[1]=d,!0}function brushend(){brushmove(),g.style("pointer-events","all").selectAll(".resize").style("display",brush.empty()?"none":null),a.select("body").style("cursor",null),k.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),x(),p({type:"brushend"})}var u,d,h=this,f=a.select(a.event.target),p=n.of(h,arguments),g=a.select(h),v=f.datum(),m=!/^(n|s)$/.test(v)&&r,y=!/^(e|w)$/.test(v)&&i,_=f.classed("extent"),x=d3_event_dragSuppress(h),b=a.mouse(h),k=a.select(d3_window(h)).on("keydown.brush",keydown).on("keyup.brush",keyup);if(a.event.changedTouches?k.on("touchmove.brush",brushmove).on("touchend.brush",brushend):k.on("mousemove.brush",brushmove).on("mouseup.brush",brushend),g.interrupt().selectAll("*").interrupt(),_)b[0]=o[0]-b[0],b[1]=s[0]-b[1];else if(v){var w=+/w$/.test(v),M=+/^n/.test(v);d=[o[1-w]-b[0],s[1-M]-b[1]],b[0]=o[w],b[1]=s[M]}else a.event.altKey&&(u=b.slice());g.style("pointer-events","none").selectAll(".resize").style("display",null),a.select("body").style("cursor",f.style("cursor")),p({type:"brushstart"}),brushmove()}var t,e,n=d3_eventDispatch(brush,"brushstart","brush","brushend"),r=null,i=null,o=[0,0],s=[0,0],l=!0,c=!0,u=Ve[0];return brush.event=function(r){r.each(function(){var r=n.of(this,arguments),i={x:o,y:s,i:t,j:e},l=this.__chart__||i;this.__chart__=i,Re?a.select(this).transition().each("start.brush",function(){t=l.i,e=l.j,o=l.x,s=l.y,r({type:"brushstart"})}).tween("brush:brush",function(){var n=d3_interpolateArray(o,i.x),a=d3_interpolateArray(s,i.y);return t=e=null,function(t){o=i.x=n(t),s=i.y=a(t),r({type:"brush",mode:"resize"})}}).each("end.brush",function(){t=i.i,e=i.j,r({type:"brush",mode:"resize"}),r({type:"brushend"})}):(r({type:"brushstart"}),r({type:"brush",mode:"resize"}),r({type:"brushend"}))})},brush.x=function(t){return arguments.length?(r=t,u=Ve[!r<<1|!i],brush):r},brush.y=function(t){return arguments.length?(i=t,u=Ve[!r<<1|!i],brush):i},brush.clamp=function(t){return arguments.length?(r&&i?(l=!!t[0],c=!!t[1]):r?l=!!t:i&&(c=!!t),brush):r&&i?[l,c]:r?l:i?c:null},brush.extent=function(n){var a,l,c,u,d;return arguments.length?(r&&(a=n[0],l=n[1],i&&(a=a[0],l=l[0]),t=[a,l],r.invert&&(a=r(a),l=r(l)),l<a&&(d=a,a=l,l=d),a==o[0]&&l==o[1]||(o=[a,l])),i&&(c=n[0],u=n[1],r&&(c=c[1],u=u[1]),e=[c,u],i.invert&&(c=i(c),u=i(u)),u<c&&(d=c,c=u,u=d),c==s[0]&&u==s[1]||(s=[c,u])),brush):(r&&(t?(a=t[0],l=t[1]):(a=o[0],l=o[1],r.invert&&(a=r.invert(a),l=r.invert(l)),l<a&&(d=a,a=l,l=d))),i&&(e?(c=e[0],u=e[1]):(c=s[0],u=s[1],i.invert&&(c=i.invert(c),u=i.invert(u)),u<c&&(d=c,c=u,u=d))),r&&i?[[a,c],[l,u]]:r?[a,l]:i&&[c,u])},brush.clear=function(){return brush.empty()||(o=[0,0],s=[0,0],t=e=null),brush},brush.empty=function(){return!!r&&o[0]==o[1]||!!i&&s[0]==s[1]},a.rebind(brush,n,"on")};var je={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Ve=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Ye=ut.format=vt.timeFormat,qe=Ye.utc,Ue=qe("%Y-%m-%dT%H:%M:%S.%LZ");Ye.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?d3_time_formatIsoNative:Ue,d3_time_formatIsoNative.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},d3_time_formatIsoNative.toString=Ue.toString,ut.second=d3_time_interval(function(t){return new dt(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),ut.seconds=ut.second.range,ut.seconds.utc=ut.second.utc.range,ut.minute=d3_time_interval(function(t){return new dt(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),ut.minutes=ut.minute.range,ut.minutes.utc=ut.minute.utc.range,ut.hour=d3_time_interval(function(t){var e=t.getTimezoneOffset()/60;return new dt(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),ut.hours=ut.hour.range,ut.hours.utc=ut.hour.utc.range,ut.month=d3_time_interval(function(t){return t=ut.day(t),t.setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),ut.months=ut.month.range,ut.months.utc=ut.month.utc.range;var Xe=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Ze=[[ut.second,1],[ut.second,5],[ut.second,15],[ut.second,30],[ut.minute,1],[ut.minute,5],[ut.minute,15],[ut.minute,30],[ut.hour,1],[ut.hour,3],[ut.hour,6],[ut.hour,12],[ut.day,1],[ut.day,2],[ut.week,1],[ut.month,1],[ut.month,3],[ut.year,1]],$e=Ye.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",d3_true]]),Je={range:function(t,e,n){return a.range(Math.ceil(t/n)*n,+e,n).map(d3_time_scaleDate)},floor:d3_identity,ceil:d3_identity};Ze.year=ut.year,ut.scale=function(){return d3_time_scale(a.scale.linear(),Ze,$e)};var Qe=Ze.map(function(t){return[t[0].utc,t[1]]}),Ke=qe.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",d3_true]]);Qe.year=ut.year.utc,ut.scale.utc=function(){return d3_time_scale(a.scale.linear(),Qe,Ke)},a.text=d3_xhrType(function(t){return t.responseText}),a.json=function(t,e){return d3_xhr(t,"application/json",d3_json,e)},a.html=function(t,e){return d3_xhr(t,"text/html",d3_html,e)},a.xml=d3_xhrType(function(t){return t.responseXML}),this.d3=a,r=a,void 0!==(i="function"==typeof r?r.call(e,n,e,t):r)&&(t.exports=i)}()},374:function(t,e,n){(function(r,i){var a,o;(function(r,i){a=[n(373)],void 0!==(o=function(t){return r.Rickshaw=i(t)}.apply(e,a))&&(t.exports=o)})(this,function(t){var e={namespace:function(t,n){for(var r=t.split("."),i=e,a=1,o=r.length;a<o;a++){var s=r[a];i[s]=i[s]||{},i=i[s]}return i},keys:function(t){var e=[];for(var n in t)e.push(n);return e},extend:function(t,e){for(var n in e)t[n]=e[n];return t},clone:function(t){return JSON.parse(JSON.stringify(t))}};return function(t){function isFunction(t){return e.call(t)===l}function extend(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function keys(t){if(Type(t)!==s)throw new TypeError;var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e}function Type(t){switch(t){case null:return n;case void 0:return r}switch(typeof t){case"boolean":return i;case"number":return a;case"string":return o}return s}function isUndefined(t){return void 0===t}function argumentNames(t){var e=t.toString().match(/^[\s\(]*function[^(]*\(([^)]*)\)/)[1].replace(/\/\/.*?[\r\n]|\/\*(?:.|[\r\n])*?\*\//g,"").replace(/\s+/g,"").split(",");return 1!=e.length||e[0]?e:[]}function wrap(t,e){var n=t;return function(){var t=update([bind(n,this)],arguments);return e.apply(this,t)}}function update(t,e){for(var n=t.length,r=e.length;r--;)t[n+r]=e[r];return t}function merge(t,e){return t=c.call(t,0),update(t,e)}function bind(t,e){if(arguments.length<2&&isUndefined(arguments[0]))return this;var n=t,r=c.call(arguments,2);return function(){var t=merge(r,arguments);return n.apply(e,t)}}var e=Object.prototype.toString,n="Null",r="Undefined",i="Boolean",a="Number",o="String",s="Object",l="[object Function]",c=Array.prototype.slice,u=function(){},d=function(){function subclass(){}function create(){function klass(){this.initialize.apply(this,arguments)}var t=null,e=[].slice.apply(arguments);if(isFunction(e[0])&&(t=e.shift()),extend(klass,d.Methods),klass.superclass=t,klass.subclasses=[],t){subclass.prototype=t.prototype,klass.prototype=new subclass;try{t.subclasses.push(klass)}catch(t){}}for(var n=0,r=e.length;n<r;n++)klass.addMethods(e[n]);return klass.prototype.initialize||(klass.prototype.initialize=u),klass.prototype.constructor=klass,klass}function addMethods(e){var n=this.superclass&&this.superclass.prototype,r=keys(e);t&&(e.toString!=Object.prototype.toString&&r.push("toString"),e.valueOf!=Object.prototype.valueOf&&r.push("valueOf"));for(var i=0,a=r.length;i<a;i++){var o=r[i],s=e[o];if(n&&isFunction(s)&&"$super"==argumentNames(s)[0]){var l=s;s=wrap(function(t){return function(){return n[t].apply(this,arguments)}}(o),l),s.valueOf=bind(l.valueOf,l),s.toString=bind(l.toString,l)}this.prototype[o]=s}return this}var t=function(){for(var t in{toString:1})if("toString"===t)return!1;return!0}();return{create:create,Methods:{addMethods:addMethods}}}();t.exports?t.exports.Class=d:t.Class=d}(e),e.namespace("Rickshaw.Compat.ClassList"),e.Compat.ClassList=function(){"undefined"==typeof document||"classList"in document.createElement("a")||function(t){"use strict";var e="classList",n="prototype",r=(t.HTMLElement||t.Element)[n],i=Object,a=String[n].trim||function(){return this.replace(/^\s+|\s+$/g,"")},o=Array[n].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1},s=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},l=function(t,e){if(""===e)throw new s("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(e))throw new s("INVALID_CHARACTER_ERR","String contains an invalid character");return o.call(t,e)},c=function(t){for(var e=a.call(t.className),n=e?e.split(/\s+/):[],r=0,i=n.length;r<i;r++)this.push(n[r]);this._updateClassName=function(){t.className=this.toString()}},u=c[n]=[],d=function(){return new c(this)};if(s[n]=Error[n],u.item=function(t){return this[t]||null},u.contains=function(t){return t+="",-1!==l(this,t)},u.add=function(t){t+="",-1===l(this,t)&&(this.push(t),this._updateClassName())},u.remove=function(t){t+="";var e=l(this,t);-1!==e&&(this.splice(e,1),this._updateClassName())},u.toggle=function(t){t+="",-1===l(this,t)?this.add(t):this.remove(t)},u.toString=function(){return this.join(" ")},i.defineProperty){var h={get:d,enumerable:!0,configurable:!0};try{i.defineProperty(r,e,h)}catch(t){-2146823252===t.number&&(h.enumerable=!1,i.defineProperty(r,e,h))}}else i[n].__defineGetter__&&r.__defineGetter__(e,d)}(window)},("undefined"!=typeof RICKSHAW_NO_COMPAT&&!RICKSHAW_NO_COMPAT||"undefined"==typeof RICKSHAW_NO_COMPAT)&&new e.Compat.ClassList,e.namespace("Rickshaw.Graph"),e.Graph=function(n){var r=this;this.initialize=function(e){if(!e.element)throw"Rickshaw.Graph needs a reference to an element";if(1!==e.element.nodeType)throw"Rickshaw.Graph element was defined but not an HTML element";this.element=e.element,this.series=e.series,this.window={},this.updateCallbacks=[],this.configureCallbacks=[],this.defaults={interpolation:"cardinal",offset:"zero",min:void 0,max:void 0,preserve:!1,xScale:void 0,yScale:void 0,stack:!0},this._loadRenderers(),this.configure(e),this.validateSeries(e.series),this.series.active=function(){return r.series.filter(function(t){return!t.disabled})},this.setSize({width:e.width,height:e.height}),this.element.classList.add("rickshaw_graph"),this.vis=t.select(this.element).append("svg:svg").attr("width",this.width).attr("height",this.height),this.discoverRange()},this._loadRenderers=function(){for(var t in e.Graph.Renderer)if(t&&e.Graph.Renderer.hasOwnProperty(t)){var n=e.Graph.Renderer[t];n&&n.prototype&&n.prototype.render&&r.registerRenderer(new n({graph:r}))}},this.validateSeries=function(t){if(!(Array.isArray(t)||t instanceof e.Series)){throw"series is not an array: "+Object.prototype.toString.apply(t)}t.forEach(function(t){if(!(t instanceof Object))throw"series element is not an object: "+t;if(!t.data)throw"series has no data: "+JSON.stringify(t);if(!Array.isArray(t.data))throw"series data is not an array: "+JSON.stringify(t.data);if(t.data.length>0){var e=t.data[0].x,n=t.data[0].y;if("number"!=typeof e||"number"!=typeof n&&null!==n)throw"x and y properties of points should be numbers instead of "+typeof e+" and "+typeof n}if(t.data.length>=3&&(t.data[2].x<t.data[1].x||t.data[1].x<t.data[0].x||t.data[t.data.length-1].x<t.data[0].x))throw"series data needs to be sorted on x values for series name: "+t.name},this)},this.dataDomain=function(){var e=this.series.map(function(t){return t.data});return[t.min(e.map(function(t){return t[0].x})),t.max(e.map(function(t){return t[t.length-1].x}))]},this.discoverRange=function(){var e=this.renderer.domain();this.x=(this.xScale||t.scale.linear()).copy().domain(e.x).range([0,this.width]),this.y=(this.yScale||t.scale.linear()).copy().domain(e.y).range([this.height,0]),this.x.magnitude=t.scale.linear().domain([e.x[0]-e.x[0],e.x[1]-e.x[0]]).range([0,this.width]),this.y.magnitude=t.scale.linear().domain([e.y[0]-e.y[0],e.y[1]-e.y[0]]).range([0,this.height])},this.render=function(){this.stackData();this.discoverRange(),this.renderer.render(),this.updateCallbacks.forEach(function(t){t()})},this.update=this.render,this.stackData=function(){var n=this.series.active().map(function(t){return t.data}).map(function(t){return t.filter(function(t){return this._slice(t)},this)},this),i=this.preserve;i||this.series.forEach(function(t){t.scale&&(i=!0)}),n=i?e.clone(n):n,this.series.active().forEach(function(t,e){if(t.scale){var r=n[e];r&&r.forEach(function(e){e.y=t.scale(e.y)})}}),this.stackData.hooks.data.forEach(function(t){n=t.f.apply(r,[n])});var a;if(!this.renderer.unstack){this._validateStackable();var o=t.layout.stack();o.offset(r.offset),a=o(n)}a=a||n,this.renderer.unstack&&a.forEach(function(t){t.forEach(function(t){t.y0=void 0===t.y0?0:t.y0})}),this.stackData.hooks.after.forEach(function(t){a=t.f.apply(r,[n])});var s=0;return this.series.forEach(function(t){t.disabled||(t.stack=a[s++])}),this.stackedData=a,a},this._validateStackable=function(){var t,e=this.series;e.forEach(function(e){if((t=t||e.data.length)&&e.data.length!=t)throw"stacked series cannot have differing numbers of points: "+t+" vs "+e.data.length+"; see Rickshaw.Series.fill()"},this)},this.stackData.hooks={data:[],after:[]},this._slice=function(t){if(this.window.xMin||this.window.xMax){var e=!0;return this.window.xMin&&t.x<this.window.xMin&&(e=!1),this.window.xMax&&t.x>this.window.xMax&&(e=!1),e}return!0},this.onUpdate=function(t){this.updateCallbacks.push(t)},this.onConfigure=function(t){this.configureCallbacks.push(t)},this.registerRenderer=function(t){this._renderers=this._renderers||{},this._renderers[t.name]=t},this.configure=function(t){this.config=this.config||{},(t.width||t.height)&&this.setSize(t),e.keys(this.defaults).forEach(function(e){this.config[e]=e in t?t[e]:e in this?this[e]:this.defaults[e]},this),e.keys(this.config).forEach(function(t){this[t]=this.config[t]},this),"stack"in t&&(t.unstack=!t.stack);var n=t.renderer||this.renderer&&this.renderer.name||"stack";this.setRenderer(n,t),this.configureCallbacks.forEach(function(e){e(t)})},this.setRenderer=function(t,e){if("function"==typeof t)this.renderer=new t({graph:r}),this.registerRenderer(this.renderer);else{if(!this._renderers[t])throw"couldn't find renderer "+t;this.renderer=this._renderers[t]}"object"==typeof e&&this.renderer.configure(e)},this.setSize=function(t){if(t=t||{},void 0!==typeof window)var e=window.getComputedStyle(this.element,null),n=parseInt(e.getPropertyValue("width"),10),r=parseInt(e.getPropertyValue("height"),10);this.width=t.width||n||400,this.height=t.height||r||250,this.vis&&this.vis.attr("width",this.width).attr("height",this.height)},this.initialize(n)},e.namespace("Rickshaw.Fixtures.Color"),e.Fixtures.Color=function(){this.schemes={},this.schemes.spectrum14=["#ecb796","#dc8f70","#b2a470","#92875a","#716c49","#d2ed82","#bbe468","#a1d05d","#e7cbe6","#d8aad6","#a888c2","#9dc2d3","#649eb9","#387aa3"].reverse(),this.schemes.spectrum2000=["#57306f","#514c76","#646583","#738394","#6b9c7d","#84b665","#a7ca50","#bfe746","#e2f528","#fff726","#ecdd00","#d4b11d","#de8800","#de4800","#c91515","#9a0000","#7b0429","#580839","#31082b"],this.schemes.spectrum2001=["#2f243f","#3c2c55","#4a3768","#565270","#6b6b7c","#72957f","#86ad6e","#a1bc5e","#b8d954","#d3e04e","#ccad2a","#cc8412","#c1521d","#ad3821","#8a1010","#681717","#531e1e","#3d1818","#320a1b"],this.schemes.classic9=["#423d4f","#4a6860","#848f39","#a2b73c","#ddcb53","#c5a32f","#7d5836","#963b20","#7c2626","#491d37","#2f254a"].reverse(),this.schemes.httpStatus={503:"#ea5029",502:"#d23f14",500:"#bf3613",410:"#efacea",409:"#e291dc",403:"#f457e8",408:"#e121d2",401:"#b92dae",405:"#f47ceb",404:"#a82a9f",400:"#b263c6",301:"#6fa024",302:"#87c32b",307:"#a0d84c",304:"#28b55c",200:"#1a4f74",206:"#27839f",201:"#52adc9",202:"#7c979f",203:"#a5b8bd",204:"#c1cdd1"},this.schemes.colorwheel=["#b5b6a9","#858772","#785f43","#96557e","#4682b4","#65b9ac","#73c03a","#cb513a"].reverse(),this.schemes.cool=["#5e9d2f","#73c03a","#4682b4","#7bc3b8","#a9884e","#c1b266","#a47493","#c09fb5"],this.schemes.munin=["#00cc00","#0066b3","#ff8000","#ffcc00","#330099","#990099","#ccff00","#ff0000","#808080","#008f00","#00487d","#b35a00","#b38f00","#6b006b","#8fb300","#b30000","#bebebe","#80ff80","#80c9ff","#ffc080","#ffe680","#aa80ff","#ee00cc","#ff8080","#666600","#ffbfff","#00ffcc","#cc6699","#999900"]},e.namespace("Rickshaw.Fixtures.RandomData"),e.Fixtures.RandomData=function(t){t=t||1;var e=200,n=Math.floor((new Date).getTime()/1e3);this.addData=function(r){var i=100*Math.random()+15+e,a=r[0].length,o=1;r.forEach(function(e){var r=20*Math.random(),s=i/25+o+++15*(Math.cos(a*o*11/960)+2)+7*(Math.cos(a/7)+2)+1*(Math.cos(a/17)+2);e.push({x:a*t+n,y:s+r})}),e=.85*i},this.removeData=function(e){e.forEach(function(t){t.shift()}),n+=t}},e.namespace("Rickshaw.Fixtures.Time"),e.Fixtures.Time=function(){var e=this;this.months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.units=[{name:"decade",seconds:315576e3,formatter:function(t){return 10*parseInt(t.getUTCFullYear()/10,10)}},{name:"year",seconds:31557600,formatter:function(t){return t.getUTCFullYear()}},{name:"month",seconds:2635200,formatter:function(t){return e.months[t.getUTCMonth()]}},{name:"week",seconds:604800,formatter:function(t){return e.formatDate(t)}},{name:"day",seconds:86400,formatter:function(t){return t.getUTCDate()}},{name:"6 hour",seconds:21600,formatter:function(t){return e.formatTime(t)}},{name:"hour",seconds:3600,formatter:function(t){return e.formatTime(t)}},{name:"15 minute",seconds:900,formatter:function(t){return e.formatTime(t)}},{name:"minute",seconds:60,formatter:function(t){return t.getUTCMinutes()}},{name:"15 second",seconds:15,formatter:function(t){return t.getUTCSeconds()+"s"}},{name:"second",seconds:1,formatter:function(t){return t.getUTCSeconds()+"s"}},{name:"decisecond",seconds:.1,formatter:function(t){return t.getUTCMilliseconds()+"ms"}},{name:"centisecond",seconds:.01,formatter:function(t){return t.getUTCMilliseconds()+"ms"}}],this.unit=function(t){return this.units.filter(function(e){return t==e.name}).shift()},this.formatDate=function(e){return t.time.format("%b %e")(e)},this.formatTime=function(t){return t.toUTCString().match(/(\d+:\d+):/)[1]},this.ceil=function(t,e){var n,r;if("month"==e.name){if(n=new Date(1e3*t),Date.UTC(n.getUTCFullYear(),n.getUTCMonth())/1e3==t)return t;r=n.getUTCFullYear();var i=n.getUTCMonth();return 11==i?(i=0,r+=1):i+=1,Date.UTC(r,i)/1e3}return"year"==e.name?(n=new Date(1e3*t),Date.UTC(n.getUTCFullYear(),0)/1e3==t?t:(r=n.getUTCFullYear()+1,Date.UTC(r,0)/1e3)):Math.ceil(t/e.seconds)*e.seconds}},e.namespace("Rickshaw.Fixtures.Time.Local"),e.Fixtures.Time.Local=function(){var e=this;this.months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.units=[{name:"decade",seconds:315576e3,formatter:function(t){return 10*parseInt(t.getFullYear()/10,10)}},{name:"year",seconds:31557600,formatter:function(t){return t.getFullYear()}},{name:"month",seconds:2635200,formatter:function(t){return e.months[t.getMonth()]}},{name:"week",seconds:604800,formatter:function(t){return e.formatDate(t)}},{name:"day",seconds:86400,formatter:function(t){return t.getDate()}},{name:"6 hour",seconds:21600,formatter:function(t){return e.formatTime(t)}},{name:"hour",seconds:3600,formatter:function(t){return e.formatTime(t)}},{name:"15 minute",seconds:900,formatter:function(t){return e.formatTime(t)}},{name:"minute",seconds:60,formatter:function(t){return t.getMinutes()}},{name:"15 second",seconds:15,formatter:function(t){return t.getSeconds()+"s"}},{name:"second",seconds:1,formatter:function(t){return t.getSeconds()+"s"}},{name:"decisecond",seconds:.1,formatter:function(t){return t.getMilliseconds()+"ms"}},{name:"centisecond",seconds:.01,formatter:function(t){return t.getMilliseconds()+"ms"}}],this.unit=function(t){return this.units.filter(function(e){return t==e.name}).shift()},this.formatDate=function(e){return t.time.format("%b %e")(e)},this.formatTime=function(t){return t.toString().match(/(\d+:\d+):/)[1]},this.ceil=function(t,e){var n,r;if("day"==e.name){var i=new Date(1e3*(t+e.seconds-1)),a=new Date(0);return a.setFullYear(i.getFullYear()),a.setMonth(i.getMonth()),a.setDate(i.getDate()),a.setMilliseconds(0),a.setSeconds(0),a.setMinutes(0),a.setHours(0),a.getTime()/1e3}if("month"==e.name){if(n=new Date(1e3*t),new Date(n.getFullYear(),n.getMonth()).getTime()/1e3==t)return t;r=n.getFullYear();var o=n.getMonth();return 11==o?(o=0,r+=1):o+=1,new Date(r,o).getTime()/1e3}return"year"==e.name?(n=new Date(1e3*t),new Date(n.getUTCFullYear(),0).getTime()/1e3==t?t:(r=n.getFullYear()+1,new Date(r,0).getTime()/1e3)):Math.ceil(t/e.seconds)*e.seconds}},e.namespace("Rickshaw.Fixtures.Number"),e.Fixtures.Number.formatKMBT=function(t){var e=Math.abs(t);return e>=1e12?t/1e12+"T":e>=1e9?t/1e9+"B":e>=1e6?t/1e6+"M":e>=1e3?t/1e3+"K":e<1&&t>0?t.toFixed(2):0===e?"":t},e.Fixtures.Number.formatBase1024KMGTP=function(t){var e=Math.abs(t);return e>=0x4000000000000?t/0x4000000000000+"P":e>=1099511627776?t/1099511627776+"T":e>=1073741824?t/1073741824+"G":e>=1048576?t/1048576+"M":e>=1024?t/1024+"K":e<1&&t>0?t.toFixed(2):0===e?"":t},e.namespace("Rickshaw.Color.Palette"),e.Color.Palette=function(n){var r=new e.Fixtures.Color;if(n=n||{},this.schemes={},this.scheme=r.schemes[n.scheme]||n.scheme||r.schemes.colorwheel,this.runningIndex=0,this.generatorIndex=0,n.interpolatedStopCount){var i,a,o=this.scheme.length-1,s=[];for(i=0;i<o;i++){s.push(this.scheme[i]);var l=t.interpolateHsl(this.scheme[i],this.scheme[i+1]);for(a=1;a<n.interpolatedStopCount;a++)s.push(l(1/n.interpolatedStopCount*a))}s.push(this.scheme[this.scheme.length-1]),this.scheme=s}this.rotateCount=this.scheme.length,this.color=function(t){return this.scheme[t]||this.scheme[this.runningIndex++]||this.interpolateColor()||"#808080"},this.interpolateColor=function(){if(Array.isArray(this.scheme)){var e;return this.generatorIndex==2*this.rotateCount-1?(e=t.interpolateHsl(this.scheme[this.generatorIndex],this.scheme[0])(.5),this.generatorIndex=0,this.rotateCount*=2):(e=t.interpolateHsl(this.scheme[this.generatorIndex],this.scheme[this.generatorIndex+1])(.5),this.generatorIndex++),this.scheme.push(e),e}}},e.namespace("Rickshaw.Graph.Ajax"),e.Graph.Ajax=e.Class.create({initialize:function(t){this.dataURL=t.dataURL,this.onData=t.onData||function(t){return t},this.onComplete=t.onComplete||function(){},this.onError=t.onError||function(){},this.args=t,this.request()},request:function(){r.ajax({url:this.dataURL,dataType:"json",success:this.success.bind(this),error:this.error.bind(this)})},error:function(){console.log("error loading dataURL: "+this.dataURL),this.onError(this)},success:function(t,n){t=this.onData(t),this.args.series=this._splice({data:t,series:this.args.series}),this.graph=this.graph||new e.Graph(this.args),this.graph.render(),this.onComplete(this)},_splice:function(t){var e=t.data,n=t.series;return t.series?(n.forEach(function(t){var n=t.key||t.name;if(!n)throw"series needs a key or a name";e.forEach(function(e){var r=e.key||e.name;if(!r)throw"data needs a key or a name";if(n==r){["color","name","data"].forEach(function(n){e[n]&&(t[n]=e[n])})}})}),n):e}}),e.namespace("Rickshaw.Graph.Annotate"),e.Graph.Annotate=function(t){this.graph=t.graph;this.elements={timeline:t.element};var n=this;this.data={},this.elements.timeline.classList.add("rickshaw_annotation_timeline"),this.add=function(t,e,r){n.data[t]=n.data[t]||{boxes:[]},n.data[t].boxes.push({content:e,end:r})},this.update=function(){e.keys(n.data).forEach(function(t){var e=n.data[t],r=n.graph.x(t);if(r<0||r>n.graph.x.range()[1])return e.element&&(e.line.classList.add("offscreen"),e.element.style.display="none"),void e.boxes.forEach(function(t){t.rangeElement&&t.rangeElement.classList.add("offscreen")});if(!e.element){var i=e.element=document.createElement("div");i.classList.add("annotation"),this.elements.timeline.appendChild(i),i.addEventListener("click",function(t){i.classList.toggle("active"),e.line.classList.toggle("active"),e.boxes.forEach(function(t){t.rangeElement&&t.rangeElement.classList.toggle("active")})},!1)}e.element.style.left=r+"px",e.element.style.display="block",e.boxes.forEach(function(t){var i=t.element;if(i||(i=t.element=document.createElement("div"),i.classList.add("content"),i.innerHTML=t.content,e.element.appendChild(i),e.line=document.createElement("div"),e.line.classList.add("annotation_line"),n.graph.element.appendChild(e.line),t.end&&(t.rangeElement=document.createElement("div"),t.rangeElement.classList.add("annotation_range"),n.graph.element.appendChild(t.rangeElement))),t.end){var a=r,o=Math.min(n.graph.x(t.end),n.graph.x.range()[1]);a>o&&(o=r,a=Math.max(n.graph.x(t.end),n.graph.x.range()[0]));var s=o-a;t.rangeElement.style.left=a+"px",t.rangeElement.style.width=s+"px",t.rangeElement.classList.remove("offscreen")}e.line.classList.remove("offscreen"),e.line.style.left=r+"px"})},this)},this.graph.onUpdate(function(){n.update()})},e.namespace("Rickshaw.Graph.Axis.Time"),e.Graph.Axis.Time=function(t){var n=this;this.graph=t.graph,this.elements=[],this.ticksTreatment=t.ticksTreatment||"plain",this.fixedTimeUnit=t.timeUnit;var r=t.timeFixture||new e.Fixtures.Time;this.appropriateTimeUnit=function(){var t,e=r.units,n=this.graph.x.domain(),i=n[1]-n[0];return e.forEach(function(e){Math.floor(i/e.seconds)>=2&&(t=t||e)}),t||r.units[r.units.length-1]},this.tickOffsets=function(){for(var t=this.graph.x.domain(),e=this.fixedTimeUnit||this.appropriateTimeUnit(),n=Math.ceil((t[1]-t[0])/e.seconds),i=t[0],a=[],o=0;o<n;o++){var s=r.ceil(i,e);i=s+e.seconds/2,a.push({value:s,unit:e})}return a},this.render=function(){this.elements.forEach(function(t){t.parentNode.removeChild(t)}),this.elements=[],this.tickOffsets().forEach(function(t){if(!(n.graph.x(t.value)>n.graph.x.range()[1])){var e=document.createElement("div");e.style.left=n.graph.x(t.value)+"px",e.classList.add("x_tick"),e.classList.add(n.ticksTreatment);var r=document.createElement("div");r.classList.add("title"),r.innerHTML=t.unit.formatter(new Date(1e3*t.value)),e.appendChild(r),n.graph.element.appendChild(e),n.elements.push(e)}})},this.graph.onUpdate(function(){n.render()})},e.namespace("Rickshaw.Graph.Axis.X"),e.Graph.Axis.X=function(e){var n=this,r=.1;this.initialize=function(e){this.graph=e.graph,this.orientation=e.orientation||"top",this.pixelsPerTick=e.pixelsPerTick||75,e.ticks&&(this.staticTicks=e.ticks),e.tickValues&&(this.tickValues=e.tickValues),this.tickSize=e.tickSize||4,this.ticksTreatment=e.ticksTreatment||"plain",e.element?(this.element=e.element,this._discoverSize(e.element,e),this.vis=t.select(e.element).append("svg:svg").attr("height",this.height).attr("width",this.width).attr("class","rickshaw_graph x_axis_d3"),this.element=this.vis[0][0],this.element.style.position="relative",this.setSize({width:e.width,height:e.height})):this.vis=this.graph.vis,this.graph.onUpdate(function(){n.render()})},this.setSize=function(t){if(t=t||{},this.element){this._discoverSize(this.element.parentNode,t),this.vis.attr("height",this.height).attr("width",this.width*(1+r));var e=Math.floor(this.width*r/2);this.element.style.left=-1*e+"px"}},this.render=function(){void 0!==this._renderWidth&&this.graph.width!==this._renderWidth&&this.setSize({auto:!0});var n=t.svg.axis().scale(this.graph.x).orient(this.orientation);n.tickFormat(e.tickFormat||function(t){return t}),this.tickValues&&n.tickValues(this.tickValues),this.ticks=this.staticTicks||Math.floor(this.graph.width/this.pixelsPerTick);var i,a=Math.floor(this.width*r/2)||0;if("top"==this.orientation){i="translate("+a+","+(this.height||this.graph.height)+")"}else i="translate("+a+", 0)";this.element&&this.vis.selectAll("*").remove(),this.vis.append("svg:g").attr("class",["x_ticks_d3",this.ticksTreatment].join(" ")).attr("transform",i).call(n.ticks(this.ticks).tickSubdivide(0).tickSize(this.tickSize));var o=("bottom"==this.orientation?1:-1)*this.graph.height;this.graph.vis.append("svg:g").attr("class","x_grid_d3").call(n.ticks(this.ticks).tickSubdivide(0).tickSize(o)).selectAll("text").each(function(){this.parentNode.setAttribute("data-x-value",this.textContent)}),this._renderHeight=this.graph.height},this._discoverSize=function(t,e){if("undefined"!=typeof window){var n=window.getComputedStyle(t,null),i=parseInt(n.getPropertyValue("height"),10);if(!e.auto)var a=parseInt(n.getPropertyValue("width"),10)}this.width=(e.width||a||this.graph.width)*(1+r),this.height=e.height||i||40},this.initialize(e)},e.namespace("Rickshaw.Graph.Axis.Y"),e.Graph.Axis.Y=e.Class.create({initialize:function(e){this.graph=e.graph,this.orientation=e.orientation||"right",this.pixelsPerTick=e.pixelsPerTick||75,e.ticks&&(this.staticTicks=e.ticks),e.tickValues&&(this.tickValues=e.tickValues),this.tickSize=e.tickSize||4,this.ticksTreatment=e.ticksTreatment||"plain",this.tickFormat=e.tickFormat||function(t){return t},this.berthRate=.1,e.element?(this.element=e.element,this.vis=t.select(e.element).append("svg:svg").attr("class","rickshaw_graph y_axis"),this.element=this.vis[0][0],this.element.style.position="relative",this.setSize({width:e.width,height:e.height})):this.vis=this.graph.vis;var n=this;this.graph.onUpdate(function(){n.render()})},setSize:function(t){if(t=t||{},this.element){if("undefined"!=typeof window){var e=window.getComputedStyle(this.element.parentNode,null),n=parseInt(e.getPropertyValue("width"),10);if(!t.auto)var r=parseInt(e.getPropertyValue("height"),10)}this.width=t.width||n||this.graph.width*this.berthRate,this.height=t.height||r||this.graph.height,this.vis.attr("width",this.width).attr("height",this.height*(1+this.berthRate));var i=this.height*this.berthRate;"left"==this.orientation&&(this.element.style.top=-1*i+"px")}},render:function(){void 0!==this._renderHeight&&this.graph.height!==this._renderHeight&&this.setSize({auto:!0}),this.ticks=this.staticTicks||Math.floor(this.graph.height/this.pixelsPerTick);var t=this._drawAxis(this.graph.y);this._drawGrid(t),this._renderHeight=this.graph.height},_drawAxis:function(e){var n=t.svg.axis().scale(e).orient(this.orientation);if(n.tickFormat(this.tickFormat),this.tickValues&&n.tickValues(this.tickValues),"left"==this.orientation)var r=this.height*this.berthRate,i="translate("+this.width+", "+r+")";return this.element&&this.vis.selectAll("*").remove(),this.vis.append("svg:g").attr("class",["y_ticks",this.ticksTreatment].join(" ")).attr("transform",i).call(n.ticks(this.ticks).tickSubdivide(0).tickSize(this.tickSize)),n},_drawGrid:function(t){var e=("right"==this.orientation?1:-1)*this.graph.width;this.graph.vis.append("svg:g").attr("class","y_grid").call(t.ticks(this.ticks).tickSubdivide(0).tickSize(e)).selectAll("text").each(function(){this.parentNode.setAttribute("data-y-value",this.textContent)})}}),e.namespace("Rickshaw.Graph.Axis.Y.Scaled"),e.Graph.Axis.Y.Scaled=e.Class.create(e.Graph.Axis.Y,{initialize:function($super,t){if(void 0===t.scale)throw new Error("Scaled requires scale");this.scale=t.scale,void 0===t.grid?this.grid=!0:this.grid=t.grid,$super(t)},_drawAxis:function($super,e){var n=this.scale.domain(),r=this.graph.renderer.domain().y,i=[Math.min.apply(Math,n),Math.max.apply(Math,n)],a=t.scale.linear().domain([0,1]).range(i),o=[a(r[0]),a(r[1])],s=t.scale.linear().domain(i).range(o);return $super(this.scale.copy().domain(n.map(s)).range(e.range()))},_drawGrid:function($super,t){this.grid&&$super(t)}}),e.namespace("Rickshaw.Graph.Behavior.Series.Highlight"),e.Graph.Behavior.Series.Highlight=function(e){this.graph=e.graph,this.legend=e.legend;var n=this,r={},i=null,a=e.disabledColor||function(e){return t.interpolateRgb(e,t.rgb("#d8d8d8"))(.8).toString()};this.addHighlightEvents=function(t){t.element.addEventListener("mouseover",function(e){i||(i=t,n.legend.lines.forEach(function(e){if(t!==e)r[e.series.name]=r[e.series.name]||e.series.color,e.series.color=a(e.series.color);else if(n.graph.renderer.unstack&&(!e.series.renderer||e.series.renderer.unstack)){var i=n.graph.series.indexOf(e.series);e.originalIndex=i;var o=n.graph.series.splice(i,1)[0];n.graph.series.push(o)}}),n.graph.update())},!1),t.element.addEventListener("mouseout",function(e){i&&(i=null,n.legend.lines.forEach(function(e){if(t===e&&e.hasOwnProperty("originalIndex")){var i=n.graph.series.pop();n.graph.series.splice(e.originalIndex,0,i),delete e.originalIndex}r[e.series.name]&&(e.series.color=r[e.series.name])}),n.graph.update())},!1)},this.legend&&this.legend.lines.forEach(function(t){n.addHighlightEvents(t)})},e.namespace("Rickshaw.Graph.Behavior.Series.Order"),e.Graph.Behavior.Series.Order=function(t){this.graph=t.graph,this.legend=t.legend;var e=this;if(void 0===i)throw"couldn't find jQuery at window.jQuery";if(void 0===i.ui)throw"couldn't find jQuery UI at window.jQuery.ui";r(function(){r(e.legend.list).sortable({containment:"parent",tolerance:"pointer",update:function(t,n){var i=[];r(e.legend.list).find("li").each(function(t,e){e.series&&i.push(e.series)});for(var a=e.graph.series.length-1;a>=0;a--)e.graph.series[a]=i.shift();e.graph.update()}}),r(e.legend.list).disableSelection()}),this.graph.onUpdate(function(){var t=window.getComputedStyle(e.legend.element).height;e.legend.element.style.height=t})},e.namespace("Rickshaw.Graph.Behavior.Series.Toggle"),e.Graph.Behavior.Series.Toggle=function(t){this.graph=t.graph,this.legend=t.legend;var e=this;if(this.addAnchor=function(t){var n=document.createElement("a");n.innerHTML="&#10004;",n.classList.add("action"),t.element.insertBefore(n,t.element.firstChild),n.onclick=function(n){if(t.series.disabled)t.series.enable(),t.element.classList.remove("disabled");else{if(this.graph.series.filter(function(t){return!t.disabled}).length<=1)return;t.series.disable(),t.element.classList.add("disabled")}e.graph.update()}.bind(this),t.element.getElementsByTagName("span")[0].onclick=function(n){var r=t.series.disabled;if(!r)for(var i=0;i<e.legend.lines.length;i++){var a=e.legend.lines[i];if(t.series===a.series);else if(!a.series.disabled){r=!0;break}}r?(t.series.enable(),t.element.classList.remove("disabled"),e.legend.lines.forEach(function(e){t.series===e.series||(e.series.disable(),e.element.classList.add("disabled"))})):e.legend.lines.forEach(function(t){t.series.enable(),t.element.classList.remove("disabled")}),e.graph.update()}},this.legend){var n=r;void 0!==n&&n(this.legend.list).sortable&&n(this.legend.list).sortable({start:function(t,e){e.item.bind("no.onclick",function(t){t.preventDefault()})},stop:function(t,e){setTimeout(function(){e.item.unbind("no.onclick")},250)}}),this.legend.lines.forEach(function(t){e.addAnchor(t)})}this._addBehavior=function(){this.graph.series.forEach(function(t){t.disable=function(){if(e.graph.series.length<=1)throw"only one series left";t.disabled=!0},t.enable=function(){t.disabled=!1}})},this._addBehavior(),this.updateBehaviour=function(){this._addBehavior()}},e.namespace("Rickshaw.Graph.HoverDetail"),e.Graph.HoverDetail=e.Class.create({initialize:function(t){var e=this.graph=t.graph;this.xFormatter=t.xFormatter||function(t){return new Date(1e3*t).toUTCString()},this.yFormatter=t.yFormatter||function(t){return null===t?t:t.toFixed(2)};var n=this.element=document.createElement("div");n.className="detail",this.visible=!0,e.element.appendChild(n),this.lastEvent=null,this._addListeners(),this.onShow=t.onShow,this.onHide=t.onHide,this.onRender=t.onRender,this.formatter=t.formatter||this.formatter},formatter:function(t,e,n,r,i,a){return t.name+":&nbsp;"+i},update:function(e){if((e=e||this.lastEvent)&&(this.lastEvent=e,e.target.nodeName.match(/^(path|svg|rect|circle)$/))){var n,r=this.graph,i=e.offsetX||e.layerX,a=e.offsetY||e.layerY,o=0,s=[];if(this.graph.series.active().forEach(function(e){var l=this.graph.stackedData[o++];if(l.length){var c=r.x.invert(i),u=t.scale.linear().domain([l[0].x,l.slice(-1)[0].x]).range([0,l.length-1]),d=Math.round(u(c));d==l.length-1&&d--;for(var h=Math.min(d||0,l.length-1),f=d;f<l.length-1&&(l[f]&&l[f+1]);){if(l[f].x<=c&&l[f+1].x>c){h=Math.abs(c-l[f].x)<Math.abs(c-l[f+1].x)?f:f+1;break}l[f+1].x<=c?f++:f--}h<0&&(h=0);var p=l[h],g=Math.sqrt(Math.pow(Math.abs(r.x(p.x)-i),2)+Math.pow(Math.abs(r.y(p.y+p.y0)-a),2)),v=e.xFormatter||this.xFormatter,m=e.yFormatter||this.yFormatter,y={formattedXValue:v(p.x),formattedYValue:m(e.scale?e.scale.invert(p.y):p.y),series:e,value:p,distance:g,order:o,name:e.name};(!n||g<n.distance)&&(n=y),s.push(y)}},this),n){n.active=!0;var l=n.value.x,c=n.formattedXValue;this.element.innerHTML="",this.element.style.left=r.x(l)+"px",this.visible&&this.render({points:s,detail:s,mouseX:i,mouseY:a,formattedXValue:c,domainX:l})}}},hide:function(){this.visible=!1,this.element.classList.add("inactive"),"function"==typeof this.onHide&&this.onHide()},show:function(){this.visible=!0,this.element.classList.remove("inactive"),"function"==typeof this.onShow&&this.onShow()},render:function(t){var e=this.graph,n=t.points,r=n.filter(function(t){return t.active}).shift();if(null!==r.value.y){var i=r.formattedXValue,a=r.formattedYValue;this.element.innerHTML="",this.element.style.left=e.x(r.value.x)+"px";var o=document.createElement("div");o.className="x_label",o.innerHTML=i,this.element.appendChild(o);var s=document.createElement("div");s.className="item";var l=r.series,c=l.scale?l.scale.invert(r.value.y):r.value.y;s.innerHTML=this.formatter(l,r.value.x,c,i,a,r),s.style.top=this.graph.y(r.value.y0+r.value.y)+"px",this.element.appendChild(s);var u=document.createElement("div");u.className="dot",u.style.top=s.style.top,u.style.borderColor=l.color,this.element.appendChild(u),r.active&&(s.classList.add("active"),u.classList.add("active"));var d=[o,s];d.forEach(function(t){t.classList.add("left")}),this.show();var h=this._calcLayoutError(d);if(h>0){d.forEach(function(t){t.classList.remove("left"),t.classList.add("right")});this._calcLayoutError(d)>h&&d.forEach(function(t){t.classList.remove("right"),t.classList.add("left")})}"function"==typeof this.onRender&&this.onRender(t)}},_calcLayoutError:function(t){var e=this.element.parentNode.getBoundingClientRect(),n=0;t.forEach(function(t){var r=t.getBoundingClientRect();r.width&&(r.right>e.right&&(n+=r.right-e.right),r.left<e.left&&(n+=e.left-r.left))});return n},_addListeners:function(){this.graph.element.addEventListener("mousemove",function(t){this.visible=!0,this.update(t)}.bind(this),!1),this.graph.onUpdate(function(){this.update()}.bind(this)),this.graph.element.addEventListener("mouseout",function(t){!t.relatedTarget||t.relatedTarget.compareDocumentPosition(this.graph.element)&Node.DOCUMENT_POSITION_CONTAINS||this.hide()}.bind(this),!1)}}),e.namespace("Rickshaw.Graph.JSONP"),e.Graph.JSONP=e.Class.create(e.Graph.Ajax,{request:function(){r.ajax({url:this.dataURL,dataType:"jsonp",success:this.success.bind(this),error:this.error.bind(this)})}}),e.namespace("Rickshaw.Graph.Legend"),e.Graph.Legend=e.Class.create({className:"rickshaw_legend",initialize:function(t){this.element=t.element,this.graph=t.graph,this.naturalOrder=t.naturalOrder,this.element.classList.add(this.className),this.list=document.createElement("ul"),this.element.appendChild(this.list),this.render(),this.graph.onUpdate(function(){})},render:function(){for(var t=this;this.list.firstChild;)this.list.removeChild(this.list.firstChild);this.lines=[];var e=this.graph.series.map(function(t){return t});this.naturalOrder||(e=e.reverse()),e.forEach(function(e){t.addLine(e)})},addLine:function(e){var n=document.createElement("li");n.className="line",e.disabled&&(n.className+=" disabled"),e.className&&t.select(n).classed(e.className,!0);var r=document.createElement("div");r.className="swatch",r.style.backgroundColor=e.color,n.appendChild(r);var i=document.createElement("span");i.className="label",i.innerHTML=e.name,n.appendChild(i),this.list.appendChild(n),n.series=e,e.noLegend&&(n.style.display="none");var a={element:n,series:e};return this.shelving&&(this.shelving.addAnchor(a),this.shelving.updateBehaviour()),this.highlighter&&this.highlighter.addHighlightEvents(a),this.lines.push(a),n}}),e.namespace("Rickshaw.Graph.RangeSlider"),e.Graph.RangeSlider=e.Class.create({initialize:function(t){var e=(this.element=t.element,this.graph=t.graph);this.slideCallbacks=[],this.build(),e.onUpdate(function(){this.update()}.bind(this))},build:function(){var t=this.element,e=this.graph,n=r,i=e.dataDomain(),a=this;n(function(){n(t).slider({range:!0,min:i[0],max:i[1],values:[i[0],i[1]],slide:function(t,n){if(!(n.values[1]<=n.values[0])){e.window.xMin=n.values[0],e.window.xMax=n.values[1],e.update();var r=e.dataDomain();r[0]==n.values[0]&&(e.window.xMin=void 0),r[1]==n.values[1]&&(e.window.xMax=void 0),a.slideCallbacks.forEach(function(t){t(e,e.window.xMin,e.window.xMax)})}}})}),n(t)[0].style.width=e.width+"px"},update:function(){var t=this.element,e=this.graph,n=r,i=n(t).slider("option","values"),a=e.dataDomain();n(t).slider("option","min",a[0]),n(t).slider("option","max",a[1]),null==e.window.xMin&&(i[0]=a[0]),null==e.window.xMax&&(i[1]=a[1]),n(t).slider("option","values",i)},onSlide:function(t){this.slideCallbacks.push(t)}}),e.namespace("Rickshaw.Graph.RangeSlider.Preview"),e.Graph.RangeSlider.Preview=e.Class.create({initialize:function(e){if(!e.element)throw"Rickshaw.Graph.RangeSlider.Preview needs a reference to an element";if(!e.graph&&!e.graphs)throw"Rickshaw.Graph.RangeSlider.Preview needs a reference to an graph or an array of graphs";this.element=e.element,this.element.style.position="relative",this.graphs=e.graph?[e.graph]:e.graphs,this.defaults={height:75,width:400,gripperColor:void 0,frameTopThickness:3,frameHandleThickness:10,frameColor:"#d4d4d4",frameOpacity:1,minimumFrameWidth:0,heightRatio:.2},this.heightRatio=e.heightRatio||this.defaults.heightRatio,this.defaults.gripperColor=t.rgb(this.defaults.frameColor).darker().toString(),this.configureCallbacks=[],this.slideCallbacks=[],this.previews=[],e.width||(this.widthFromGraph=!0),e.height||(this.heightFromGraph=!0),(this.widthFromGraph||this.heightFromGraph)&&this.graphs[0].onConfigure(function(){this.configure(e),this.render()}.bind(this)),e.width=e.width||this.graphs[0].width||this.defaults.width,e.height=e.height||this.graphs[0].height*this.heightRatio||this.defaults.height,this.configure(e),this.render()},onSlide:function(t){this.slideCallbacks.push(t)},onConfigure:function(t){this.configureCallbacks.push(t)},configure:function(t){this.config=this.config||{},this.configureCallbacks.forEach(function(e){e(t)}),e.keys(this.defaults).forEach(function(e){this.config[e]=e in t?t[e]:e in this.config?this.config[e]:this.defaults[e]},this),("width"in t||"height"in t)&&(this.widthFromGraph&&(this.config.width=this.graphs[0].width),this.heightFromGraph&&(this.config.height=this.graphs[0].height*this.heightRatio,this.previewHeight=this.config.height),this.previews.forEach(function(t){var e=this.previewHeight/this.graphs.length-2*this.config.frameTopThickness,n=this.config.width-2*this.config.frameHandleThickness;if(t.setSize({width:n,height:e}),this.svg){var r=e+2*this.config.frameHandleThickness,i=n+2*this.config.frameHandleThickness;this.svg.style("width",i+"px"),this.svg.style("height",r+"px")}},this))},render:function(){var n=this;this.svg=t.select(this.element).selectAll("svg.rickshaw_range_slider_preview").data([null]),this.previewHeight=this.config.height-2*this.config.frameTopThickness,this.previewWidth=this.config.width-2*this.config.frameHandleThickness,this.currentFrame=[0,this.previewWidth];var r=function(t,r){var i=e.extend({},t.config),a=n.previewHeight/n.graphs.length,o=t.renderer.name;e.extend(i,{element:this.appendChild(document.createElement("div")),height:a,width:n.previewWidth,series:t.series,renderer:o});var s=new e.Graph(i);n.previews.push(s),t.onUpdate(function(){s.render(),n.render()}),t.onConfigure(function(t){delete t.height,t.width=t.width-2*n.config.frameHandleThickness,s.configure(t),s.render()}),s.render()},i=t.select(this.element).selectAll("div.rickshaw_range_slider_preview_container").data(this.graphs),a="translate("+this.config.frameHandleThickness+"px, "+this.config.frameTopThickness+"px)";i.enter().append("div").classed("rickshaw_range_slider_preview_container",!0).style("-webkit-transform",a).style("-moz-transform",a).style("-ms-transform",a).style("transform",a).each(r),i.exit().remove();var o=this.graphs[0],s=t.scale.linear().domain([0,this.previewWidth]).range(o.dataDomain()),l=[o.window.xMin,o.window.xMax];this.currentFrame[0]=void 0===l[0]?0:Math.round(s.invert(l[0])),this.currentFrame[0]<0&&(this.currentFrame[0]=0),this.currentFrame[1]=void 0===l[1]?this.previewWidth:s.invert(l[1]),this.currentFrame[1]-this.currentFrame[0]<n.config.minimumFrameWidth&&(this.currentFrame[1]=(this.currentFrame[0]||0)+n.config.minimumFrameWidth),this.svg.enter().append("svg").classed("rickshaw_range_slider_preview",!0).style("height",this.config.height+"px").style("width",this.config.width+"px").style("position","absolute").style("top",0),this._renderDimming(),this._renderFrame(),this._renderGrippers(),this._renderHandles(),this._renderMiddle(),this._registerMouseEvents()},_renderDimming:function(){var t=this.svg.selectAll("path.dimming").data([null]);t.enter().append("path").attr("fill","white").attr("fill-opacity","0.7").attr("fill-rule","evenodd").classed("dimming",!0);var e="";e+=" M "+this.config.frameHandleThickness+" "+this.config.frameTopThickness,e+=" h "+this.previewWidth,e+=" v "+this.previewHeight,e+=" h "+-this.previewWidth,e+=" z ",e+=" M "+Math.max(this.currentFrame[0],this.config.frameHandleThickness)+" "+this.config.frameTopThickness,e+=" H "+Math.min(this.currentFrame[1]+2*this.config.frameHandleThickness,this.previewWidth+this.config.frameHandleThickness),e+=" v "+this.previewHeight,e+=" H "+Math.max(this.currentFrame[0],this.config.frameHandleThickness),e+=" z",t.attr("d",e)},_renderFrame:function(){var t=this.svg.selectAll("path.frame").data([null]);t.enter().append("path").attr("stroke","white").attr("stroke-width","1px").attr("stroke-linejoin","round").attr("fill",this.config.frameColor).attr("fill-opacity",this.config.frameOpacity).attr("fill-rule","evenodd").classed("frame",!0);var e="";e+=" M "+this.currentFrame[0]+" 0",e+=" H "+(this.currentFrame[1]+2*this.config.frameHandleThickness),e+=" V "+this.config.height,e+=" H "+this.currentFrame[0],e+=" z",e+=" M "+(this.currentFrame[0]+this.config.frameHandleThickness)+" "+this.config.frameTopThickness,e+=" H "+(this.currentFrame[1]+this.config.frameHandleThickness),e+=" v "+this.previewHeight,e+=" H "+(this.currentFrame[0]+this.config.frameHandleThickness),e+=" z",t.attr("d",e)},_renderGrippers:function(){var t=this.svg.selectAll("path.gripper").data([null]);t.enter().append("path").attr("stroke",this.config.gripperColor).classed("gripper",!0);var e="";[.4,.6].forEach(function(t){e+=" M "+Math.round(this.currentFrame[0]+this.config.frameHandleThickness*t)+" "+Math.round(.3*this.config.height),e+=" V "+Math.round(.7*this.config.height),e+=" M "+Math.round(this.currentFrame[1]+this.config.frameHandleThickness*(1+t))+" "+Math.round(.3*this.config.height),e+=" V "+Math.round(.7*this.config.height)}.bind(this)),t.attr("d",e)},_renderHandles:function(){var t=this.svg.selectAll("rect.left_handle").data([null]);t.enter().append("rect").attr("width",this.config.frameHandleThickness).style("cursor","ew-resize").style("fill-opacity","0").classed("left_handle",!0),t.attr("x",this.currentFrame[0]).attr("height",this.config.height);var e=this.svg.selectAll("rect.right_handle").data([null]);e.enter().append("rect").attr("width",this.config.frameHandleThickness).style("cursor","ew-resize").style("fill-opacity","0").classed("right_handle",!0),e.attr("x",this.currentFrame[1]+this.config.frameHandleThickness).attr("height",this.config.height)},_renderMiddle:function(){var t=this.svg.selectAll("rect.middle_handle").data([null]);t.enter().append("rect").style("cursor","move").style("fill-opacity","0").classed("middle_handle",!0),t.attr("width",Math.max(0,this.currentFrame[1]-this.currentFrame[0])).attr("x",this.currentFrame[0]+this.config.frameHandleThickness).attr("height",this.config.height)},_registerMouseEvents:function(){function onMousemove(e,i){n.stop=r._getClientXFromEvent(t.event,n);var a=n.stop-n.start,o=r.frameBeforeDrag.slice(0),s=r.config.minimumFrameWidth;n.rigid&&(s=r.frameBeforeDrag[1]-r.frameBeforeDrag[0]),n.left&&(o[0]=Math.max(o[0]+a,0)),n.right&&(o[1]=Math.min(o[1]+a,r.previewWidth)),o[1]-o[0]<=s&&(n.left&&(o[0]=o[1]-s),n.right&&(o[1]=o[0]+s),o[0]<=0&&(o[1]-=o[0],o[0]=0),o[1]>=r.previewWidth&&(o[0]-=o[1]-r.previewWidth,o[1]=r.previewWidth)),r.graphs.forEach(function(e){var n=t.scale.linear().interpolate(t.interpolateNumber).domain([0,r.previewWidth]).range(e.dataDomain()),i=[n(o[0]),n(o[1])];r.slideCallbacks.forEach(function(t){t(e,i[0],i[1])}),0===o[0]&&(i[0]=void 0),o[1]===r.previewWidth&&(i[1]=void 0),e.window.xMin=i[0],e.window.xMax=i[1],e.update()})}function onMousedown(){n.target=t.event.target,n.start=r._getClientXFromEvent(t.event,n),r.frameBeforeDrag=r.currentFrame.slice(),t.event.preventDefault?t.event.preventDefault():t.event.returnValue=!1,t.select(document).on("mousemove.rickshaw_range_slider_preview",onMousemove),t.select(document).on("mouseup.rickshaw_range_slider_preview",onMouseup),t.select(document).on("touchmove.rickshaw_range_slider_preview",onMousemove),t.select(document).on("touchend.rickshaw_range_slider_preview",onMouseup),t.select(document).on("touchcancel.rickshaw_range_slider_preview",onMouseup)}function onMousedownLeftHandle(t,e){n.left=!0,onMousedown()}function onMousedownRightHandle(t,e){n.right=!0,onMousedown()}function onMousedownMiddleHandle(t,e){n.left=!0,n.right=!0,n.rigid=!0,onMousedown()}function onMouseup(e,i){t.select(document).on("mousemove.rickshaw_range_slider_preview",null),t.select(document).on("mouseup.rickshaw_range_slider_preview",null),t.select(document).on("touchmove.rickshaw_range_slider_preview",null),t.select(document).on("touchend.rickshaw_range_slider_preview",null),t.select(document).on("touchcancel.rickshaw_range_slider_preview",null),delete r.frameBeforeDrag,n.left=!1,n.right=!1,n.rigid=!1}var e=t.select(this.element),n={target:null,start:null,stop:null,left:!1,right:!1,rigid:!1},r=this;e.select("rect.left_handle").on("mousedown",onMousedownLeftHandle),e.select("rect.right_handle").on("mousedown",onMousedownRightHandle),e.select("rect.middle_handle").on("mousedown",onMousedownMiddleHandle),e.select("rect.left_handle").on("touchstart",onMousedownLeftHandle),e.select("rect.right_handle").on("touchstart",onMousedownRightHandle),e.select("rect.middle_handle").on("touchstart",onMousedownMiddleHandle)},_getClientXFromEvent:function(t,e){switch(t.type){case"touchstart":case"touchmove":for(var n=t.changedTouches,r=null,i=0;i<n.length;i++)if(n[i].target===e.target){r=n[i];break}return null!==r?r.clientX:void 0;default:return t.clientX}}}),e.namespace("Rickshaw.Graph.Renderer"),e.Graph.Renderer=e.Class.create({initialize:function(t){this.graph=t.graph,this.tension=t.tension||this.tension,this.configure(t)},seriesPathFactory:function(){},seriesStrokeFactory:function(){},defaults:function(){return{tension:.8,strokeWidth:2,unstack:!0,padding:{top:.01,right:0,bottom:.01,left:0},stroke:!1,fill:!1,opacity:1}},domain:function(t){var e=t||this.graph.stackedData||this.graph.stackData(),n=1/0,r=-1/0,i=1/0,a=-1/0;return e.forEach(function(t){t.forEach(function(t){if(null!=t.y){var e=t.y+t.y0;e<i&&(i=e),e>a&&(a=e)}}),t.length&&(t[0].x<n&&(n=t[0].x),t[t.length-1].x>r&&(r=t[t.length-1].x))}),n-=(r-n)*this.padding.left,r+=(r-n)*this.padding.right,i="auto"===this.graph.min?i:this.graph.min||0,a=void 0===this.graph.max?a:this.graph.max,("auto"===this.graph.min||i<0)&&(i-=(a-i)*this.padding.bottom),void 0===this.graph.max&&(a+=(a-i)*this.padding.top),{x:[n,r],y:[i,a]}},render:function(t){t=t||{};var e=this.graph,n=t.series||e.series,r=t.vis||e.vis;r.selectAll("*").remove();var i=n.filter(function(t){return!t.disabled}).map(function(t){return t.stack}),a=r.selectAll("path.path").data(i).enter().append("svg:path").classed("path",!0).attr("d",this.seriesPathFactory());if(this.stroke)var o=r.selectAll("path.stroke").data(i).enter().append("svg:path").classed("stroke",!0).attr("d",this.seriesStrokeFactory());var s=0;n.forEach(function(t){t.disabled||(t.path=a[0][s],this.stroke&&(t.stroke=o[0][s]),this._styleSeries(t),s++)},this)},_styleSeries:function(e){var n=this.fill?e.color:"none",r=this.stroke?e.color:"none",i=e.strokeWidth?e.strokeWidth:this.strokeWidth,a=e.opacity?e.opacity:this.opacity;e.path.setAttribute("fill",n),e.path.setAttribute("stroke",r),e.path.setAttribute("stroke-width",i),e.path.setAttribute("opacity",a),e.className&&t.select(e.path).classed(e.className,!0),e.className&&this.stroke&&t.select(e.stroke).classed(e.className,!0)},configure:function(t){t=t||{},e.keys(this.defaults()).forEach(function(n){if(!t.hasOwnProperty(n))return void(this[n]=this[n]||this.graph[n]||this.defaults()[n]);"object"==typeof this.defaults()[n]?e.keys(this.defaults()[n]).forEach(function(e){this[n][e]=void 0!==t[n][e]?t[n][e]:void 0!==this[n][e]?this[n][e]:this.defaults()[n][e]},this):this[n]=void 0!==t[n]?t[n]:void 0!==this[n]?this[n]:void 0!==this.graph[n]?this.graph[n]:this.defaults()[n]},this)},setStrokeWidth:function(t){void 0!==t&&(this.strokeWidth=t)},setTension:function(t){void 0!==t&&(this.tension=t)}}),e.namespace("Rickshaw.Graph.Renderer.Line"),e.Graph.Renderer.Line=e.Class.create(e.Graph.Renderer,{name:"line",defaults:function($super){return e.extend($super(),{unstack:!0,fill:!1,stroke:!0})},seriesPathFactory:function(){var e=this.graph,n=t.svg.line().x(function(t){return e.x(t.x)}).y(function(t){return e.y(t.y)}).interpolate(this.graph.interpolation).tension(this.tension);return n.defined&&n.defined(function(t){return null!==t.y}),n}}),e.namespace("Rickshaw.Graph.Renderer.Stack"),e.Graph.Renderer.Stack=e.Class.create(e.Graph.Renderer,{name:"stack",defaults:function($super){return e.extend($super(),{fill:!0,stroke:!1,unstack:!1})},seriesPathFactory:function(){var e=this.graph,n=t.svg.area().x(function(t){return e.x(t.x)}).y0(function(t){return e.y(t.y0)}).y1(function(t){return e.y(t.y+t.y0)}).interpolate(this.graph.interpolation).tension(this.tension);return n.defined&&n.defined(function(t){return null!==t.y}),n}}),e.namespace("Rickshaw.Graph.Renderer.Bar"),e.Graph.Renderer.Bar=e.Class.create(e.Graph.Renderer,{name:"bar",defaults:function($super){var t=e.extend($super(),{gapSize:.05,unstack:!1,opacity:1});return delete t.tension,t},initialize:function($super,t){t=t||{},this.gapSize=t.gapSize||this.gapSize,$super(t)},domain:function($super){var t=$super(),e=this._frequentInterval(this.graph.stackedData.slice(-1).shift());return t.x[1]+=Number(e.magnitude),t},barWidth:function(t){var e=this._frequentInterval(t.stack);return this.graph.x.magnitude(e.magnitude)*(1-this.gapSize)},render:function(t){t=t||{};var e=this.graph,n=t.series||e.series,r=t.vis||e.vis;r.selectAll("*").remove();var i=this.barWidth(n.active()[0]),a=0,o=n.filter(function(t){return!t.disabled}).length,s=this.unstack?i/o:i,l=function(t){return"matrix("+[1,0,0,t.y<0?-1:1,0,t.y<0?2*e.y.magnitude(Math.abs(t.y)):0].join(",")+")"};n.forEach(function(t){if(!t.disabled){var n=(this.barWidth(t),r.selectAll("path").data(t.stack.filter(function(t){return null!==t.y})).enter().append("svg:rect").attr("x",function(t){return e.x(t.x)+a}).attr("y",function(t){return e.y(t.y0+Math.abs(t.y))*(t.y<0?-1:1)}).attr("width",s).attr("height",function(t){return e.y.magnitude(Math.abs(t.y))}).attr("opacity",t.opacity).attr("transform",l));Array.prototype.forEach.call(n[0],function(e){e.setAttribute("fill",t.color)}),this.unstack&&(a+=s)}},this)},_frequentInterval:function(t){for(var n={},r=0;r<t.length-1;r++){var i=t[r+1].x-t[r].x;n[i]=n[i]||0,n[i]++}var a={count:0,magnitude:1};return e.keys(n).forEach(function(t){a.count<n[t]&&(a={count:n[t],magnitude:t})}),a}}),e.namespace("Rickshaw.Graph.Renderer.Area"),e.Graph.Renderer.Area=e.Class.create(e.Graph.Renderer,{name:"area",defaults:function($super){return e.extend($super(),{unstack:!1,fill:!1,stroke:!1})},seriesPathFactory:function(){var e=this.graph,n=t.svg.area().x(function(t){return e.x(t.x)}).y0(function(t){return e.y(t.y0)}).y1(function(t){return e.y(t.y+t.y0)}).interpolate(e.interpolation).tension(this.tension);return n.defined&&n.defined(function(t){return null!==t.y}),n},seriesStrokeFactory:function(){var e=this.graph,n=t.svg.line().x(function(t){return e.x(t.x)}).y(function(t){return e.y(t.y+t.y0)}).interpolate(e.interpolation).tension(this.tension);return n.defined&&n.defined(function(t){return null!==t.y}),n},render:function(t){t=t||{};var e=this.graph,n=t.series||e.series,r=t.vis||e.vis;r.selectAll("*").remove();var i=this.unstack?"append":"insert",a=n.filter(function(t){return!t.disabled}).map(function(t){return t.stack}),o=r.selectAll("path").data(a).enter()[i]("svg:g","g");o.append("svg:path").attr("d",this.seriesPathFactory()).attr("class","area"),this.stroke&&o.append("svg:path").attr("d",this.seriesStrokeFactory()).attr("class","line");var s=0;n.forEach(function(t){t.disabled||(t.path=o[0][s++],this._styleSeries(t))},this)},_styleSeries:function(e){e.path&&(t.select(e.path).select(".area").attr("fill",e.color),this.stroke&&t.select(e.path).select(".line").attr("fill","none").attr("stroke",e.stroke||t.interpolateRgb(e.color,"black")(.125)).attr("stroke-width",this.strokeWidth),e.className&&e.path.setAttribute("class",e.className))}}),e.namespace("Rickshaw.Graph.Renderer.ScatterPlot"),e.Graph.Renderer.ScatterPlot=e.Class.create(e.Graph.Renderer,{name:"scatterplot",defaults:function($super){return e.extend($super(),{unstack:!0,fill:!0,stroke:!1,padding:{top:.01,right:.01,bottom:.01,left:.01},dotSize:4})},initialize:function($super,t){$super(t)},render:function(t){t=t||{};var e=this.graph,n=t.series||e.series,r=t.vis||e.vis,i=this.dotSize;r.selectAll("*").remove(),n.forEach(function(t){if(!t.disabled){var n=t.opacity?t.opacity:1,a=r.selectAll("path").data(t.stack.filter(function(t){return null!==t.y})).enter().append("svg:circle").attr("cx",function(t){return e.x(t.x)}).attr("cy",function(t){return e.y(t.y)}).attr("r",function(t){return"r"in t?t.r:i}).attr("opacity",function(t){return"opacity"in t?t.opacity:n});t.className&&a.classed(t.className,!0),Array.prototype.forEach.call(a[0],function(e){e.setAttribute("fill",t.color)})}},this)}}),e.namespace("Rickshaw.Graph.Renderer.Multi"),e.Graph.Renderer.Multi=e.Class.create(e.Graph.Renderer,{name:"multi",initialize:function($super,t){$super(t)},defaults:function($super){return e.extend($super(),{unstack:!0,fill:!1,stroke:!0})},configure:function($super,t){t=t||{},this.config=t,$super(t)},domain:function($super){this.graph.stackData();var e=[],n=this._groups();return this._stack(n),n.forEach(function(t){var n=t.series.filter(function(t){return!t.disabled}).map(function(t){return t.stack});if(n.length){var r=null;r=t.renderer&&t.renderer.domain?t.renderer.domain(n):$super(n),e.push(r)}}),{x:[t.min(e.map(function(t){return t.x[0]})),t.max(e.map(function(t){return t.x[1]}))],y:[t.min(e.map(function(t){return t.y[0]})),t.max(e.map(function(t){return t.y[1]}))]}},_groups:function(){var n=this.graph,r={};n.series.forEach(function(i){if(!i.disabled){if(!r[i.renderer]){var a="http://www.w3.org/2000/svg",o=document.createElementNS(a,"g");n.vis[0][0].appendChild(o);var s=n._renderers[i.renderer],l={};[this.defaults(),s.defaults(),this.config,this.graph].forEach(function(t){e.extend(l,t)}),s.configure(l),r[i.renderer]={renderer:s,series:[],vis:t.select(o)}}r[i.renderer].series.push(i)}},this);var i=[];return Object.keys(r).forEach(function(t){var e=r[t];i.push(e)}),i},_stack:function(n){return n.forEach(function(n){var r=n.series.filter(function(t){return!t.disabled}),i=r.map(function(t){return t.stack});if(!n.renderer.unstack){var a=t.layout.stack(),o=e.clone(a(i));r.forEach(function(t,n){t._stack=e.clone(o[n])})}},this),n},render:function(){this.graph.series.forEach(function(t){if(!t.renderer)throw new Error("Each series needs a renderer for graph 'multi' renderer")}),this.graph.vis.selectAll("*").remove();var t=this._groups();t=this._stack(t),t.forEach(function(t){var e=t.series.filter(function(t){return!t.disabled});e.active=function(){return e},t.renderer.render({series:e,vis:t.vis}),e.forEach(function(t){t.stack=t._stack||t.stack||t.data})})}}),e.namespace("Rickshaw.Graph.Renderer.LinePlot"),e.Graph.Renderer.LinePlot=e.Class.create(e.Graph.Renderer,{name:"lineplot",defaults:function($super){return e.extend($super(),{unstack:!0,fill:!1,stroke:!0,padding:{top:.01,right:.01,bottom:.01,left:.01},dotSize:3,strokeWidth:2})},seriesPathFactory:function(){var e=this.graph,n=t.svg.line().x(function(t){return e.x(t.x)}).y(function(t){return e.y(t.y)}).interpolate(this.graph.interpolation).tension(this.tension);return n.defined&&n.defined(function(t){return null!==t.y}),n},render:function(t){t=t||{};var e=this.graph,n=t.series||e.series,r=t.vis||e.vis,i=this.dotSize;r.selectAll("*").remove();var a=n.filter(function(t){return!t.disabled}).map(function(t){return t.stack}),o=r.selectAll("path").data(a).enter().append("svg:path").attr("d",this.seriesPathFactory()),s=0;n.forEach(function(t){t.disabled||(t.path=o[0][s++],this._styleSeries(t))},this),n.forEach(function(t){if(!t.disabled){var n=r.selectAll("x").data(t.stack.filter(function(t){return null!==t.y})).enter().append("svg:circle").attr("cx",function(t){return e.x(t.x)}).attr("cy",function(t){return e.y(t.y)}).attr("r",function(t){return"r"in t?t.r:i});Array.prototype.forEach.call(n[0],function(e){e&&(e.setAttribute("data-color",t.color),e.setAttribute("fill","white"),e.setAttribute("stroke",t.color),e.setAttribute("stroke-width",this.strokeWidth))}.bind(this))}},this)}}),e.namespace("Rickshaw.Graph.Smoother"),e.Graph.Smoother=e.Class.create({initialize:function(t){this.graph=t.graph,this.element=t.element,this.aggregationScale=1,this.build(),this.graph.stackData.hooks.data.push({name:"smoother",orderPosition:50,f:this.transformer.bind(this)})},build:function(){var t=this,e=r;this.element&&e(function(){e(t.element).slider({min:1,max:100,slide:function(e,n){t.setScale(n.value)}})})},setScale:function(t){if(t<1)throw"scale out of range: "+t;this.aggregationScale=t,this.graph.update()},transformer:function(t){if(1==this.aggregationScale)return t;var e=[];return t.forEach(function(t){for(var n=[];t.length;){var r=0,i=0,a=t.splice(0,this.aggregationScale);a.forEach(function(t){r+=t.x/a.length,i+=t.y/a.length}),n.push({x:r,y:i})}e.push(n)}.bind(this)),e}}),e.namespace("Rickshaw.Graph.Socketio"),e.Graph.Socketio=e.Class.create(e.Graph.Ajax,{request:function(){var t=this;io.connect(this.dataURL).on("rickshaw",function(e){t.success(e)})}}),e.namespace("Rickshaw.Series"),e.Series=e.Class.create(Array,{initialize:function(t,n,r){r=r||{},this.palette=new e.Color.Palette(n),this.timeBase=void 0===r.timeBase?Math.floor((new Date).getTime()/1e3):r.timeBase;var i=void 0===r.timeInterval?1e3:r.timeInterval;this.setTimeInterval(i),t&&"object"==typeof t&&Array.isArray(t)&&t.forEach(function(t){this.addItem(t)},this)},addItem:function(t){if(void 0===t.name)throw"addItem() needs a name";t.color=t.color||this.palette.color(t.name),t.data=t.data||[],0===t.data.length&&this.length&&this.getIndex()>0?this[0].data.forEach(function(e){t.data.push({x:e.x,y:0})}):0===t.data.length&&t.data.push({x:this.timeBase-(this.timeInterval||0),y:0}),this.push(t),this.legend&&this.legend.addLine(this.itemByName(t.name))},addData:function(t,n){var r=this.getIndex();e.keys(t).forEach(function(t){this.itemByName(t)||this.addItem({name:t})},this),this.forEach(function(e){e.data.push({x:n||(r*this.timeInterval||1)+this.timeBase,y:t[e.name]||0})},this)},getIndex:function(){return this[0]&&this[0].data&&this[0].data.length?this[0].data.length:0},itemByName:function(t){for(var e=0;e<this.length;e++)if(this[e].name==t)return this[e]},setTimeInterval:function(t){this.timeInterval=t/1e3},setTimeBase:function(t){this.timeBase=t},dump:function(){var t={timeBase:this.timeBase,timeInterval:this.timeInterval,items:[]};return this.forEach(function(e){var n={color:e.color,name:e.name,data:[]};e.data.forEach(function(t){n.data.push({x:t.x,y:t.y})}),t.items.push(n)}),t},load:function(t){t.timeInterval&&(this.timeInterval=t.timeInterval),t.timeBase&&(this.timeBase=t.timeBase),t.items&&t.items.forEach(function(t){this.push(t),this.legend&&this.legend.addLine(this.itemByName(t.name))},this)}}),e.Series.zeroFill=function(t){e.Series.fill(t,0)},e.Series.fill=function(t,e){for(var n,r=0,i=t.map(function(t){return t.data});r<Math.max.apply(null,i.map(function(t){return t.length}));)n=Math.min.apply(null,i.filter(function(t){return t[r]}).map(function(t){return t[r].x})),i.forEach(function(t){t[r]&&t[r].x==n||t.splice(r,0,{x:n,y:e})}),r++},e.namespace("Rickshaw.Series.FixedDuration"),e.Series.FixedDuration=e.Class.create(e.Series,{initialize:function(t,n,r){if(r=r||{},void 0===r.timeInterval)throw new Error("FixedDuration series requires timeInterval");if(void 0===r.maxDataPoints)throw new Error("FixedDuration series requires maxDataPoints");if(this.palette=new e.Color.Palette(n),this.timeBase=void 0===r.timeBase?Math.floor((new Date).getTime()/1e3):r.timeBase,this.setTimeInterval(r.timeInterval),this[0]&&this[0].data&&this[0].data.length?(this.currentSize=this[0].data.length,this.currentIndex=this[0].data.length):(this.currentSize=0,this.currentIndex=0),this.maxDataPoints=r.maxDataPoints,t&&"object"==typeof t&&Array.isArray(t)&&(t.forEach(function(t){this.addItem(t)},this),this.currentSize+=1,this.currentIndex+=1),this.timeBase-=(this.maxDataPoints-this.currentSize)*this.timeInterval,void 0!==this.maxDataPoints&&this.currentSize<this.maxDataPoints)for(var i=this.maxDataPoints-this.currentSize-1;i>1;i--)this.currentSize+=1,this.currentIndex+=1,this.forEach(function(t){t.data.unshift({x:((i-1)*this.timeInterval||1)+this.timeBase,y:0,i:i})},this)},addData:function($super,t,e){if($super(t,e),this.currentSize+=1,this.currentIndex+=1,void 0!==this.maxDataPoints)for(;this.currentSize>this.maxDataPoints;)this.dropData()},dropData:function(){this.forEach(function(t){t.data.splice(0,1)}),this.currentSize-=1},getIndex:function(){return this.currentIndex}}),e})}).call(e,n(23),n(23))},375:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r=n(10),i=function(){function Widget(e){this.$el=t(e.nativeElement),t.fn.widgster.Constructor.DEFAULTS.bodySelector=".widget-body",t(document).on("close.widgster",function(e){var n=t(e.target).closest('.content > .row > [class*="col-"]:not(.widget-container)');n.find(".widget").not(e.target).length||n.remove()})}return Widget.prototype.ngOnInit=function(){this.$el.widgster()},Widget}();i=__decorate([r.Directive({selector:"[widget]"}),__metadata("design:paramtypes",[r.ElementRef])],i),e.Widget=i}).call(e,n(23))},376:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(10),i=n(44),a=n(375),o=function(){function WidgetModule(){}return WidgetModule}();o=__decorate([r.NgModule({imports:[i.CommonModule],declarations:[a.Widget],exports:[a.Widget]})],o),e.WidgetModule=o},400:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(10);n(373);var i=function(){function D3Module(){}return D3Module}();i=__decorate([r.NgModule({})],i),e.D3Module=i},403:function(t,e,n){"use strict";(function(t,r){Object.defineProperty(e,"__esModule",{value:!0});var i=n(10),a=function(){function RickshawChart(e){this.$el=t(e.nativeElement)}return RickshawChart.prototype.render=function(){var e=this,n=new r.Graph({element:this.$el[0],height:this.height,renderer:this.renderer||"area",series:this.series}),i=function(){var r=t.extend({height:e.height},e.configureProps);n.configure(r),n.render(),e.$el.find("svg").css({height:e.height,width:"100%"})};t(window).on("sn:resize",i),i();new r.Graph.HoverDetail({graph:n,xFormatter:function(t){return new Date(1e3*t).toString()}});this.realtime&&setInterval(function(){e.random.removeData(e.seriesData),e.random.addData(e.seriesData),n.update()},1e3)},RickshawChart.prototype.ngAfterViewInit=function(){var t=this;setTimeout(function(){t.render()},100)},RickshawChart}();__decorate([i.Input(),__metadata("design:type",String)],a.prototype,"height",void 0),__decorate([i.Input(),__metadata("design:type",Array)],a.prototype,"series",void 0),__decorate([i.Input(),__metadata("design:type",Array)],a.prototype,"seriesData",void 0),__decorate([i.Input(),__metadata("design:type",Object)],a.prototype,"random",void 0),__decorate([i.Input(),__metadata("design:type",Object)],a.prototype,"configureProps",void 0),__decorate([i.Input(),__metadata("design:type",Boolean)],a.prototype,"realtime",void 0),__decorate([i.Input(),__metadata("design:type",String)],a.prototype,"renderer",void 0),a=__decorate([i.Directive({selector:"[rickshaw-chart]"}),__metadata("design:paramtypes",[i.ElementRef])],a),e.RickshawChart=a}).call(e,n(23),n(374))},404:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(10),i=n(400);n(374);var a=n(403),o=function(){function RickshawChartModule(){}return RickshawChartModule}();o=__decorate([r.NgModule({imports:[i.D3Module],declarations:[a.RickshawChart],exports:[a.RickshawChart]})],o),e.RickshawChartModule=o},405:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r=n(10),i=function(){function JqSparkline(e){this.$el=t(e.nativeElement)}return JqSparkline.prototype.render=function(){var e=this,n="string"===t.type(this.data)?this.data.replace(/(^,)|(,$)/g,""):this.data,r=this.options;if("array"===t.type(n)&&"array"===t.type(r))r.forEach(function(r,i){0===i?e.$el.sparkline(n[i],r):e.$el.sparkline(n[i],t.extend({composite:!0},r))});else{var i;i="array"===t.type(n)?n:n.split(","),t(window).on("sn:resize",function(){e.$el.sparkline(i,r)}),this.$el.sparkline(i,r)}},JqSparkline.prototype.ngAfterViewInit=function(){var t=this;setTimeout(function(){t.render()},100)},JqSparkline}();__decorate([r.Input(),__metadata("design:type",Object)],i.prototype,"data",void 0),__decorate([r.Input(),__metadata("design:type",Array)],i.prototype,"options",void 0),i=__decorate([r.Directive({selector:"[jq-sparkline]"}),__metadata("design:paramtypes",[r.ElementRef])],i),e.JqSparkline=i}).call(e,n(23))},406:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(10);n(108);var i=n(405),a=function(){function JqSparklineModule(){}return JqSparklineModule}();a=__decorate([r.NgModule({declarations:[i.JqSparkline],exports:[i.JqSparkline]})],a),e.JqSparklineModule=a},445:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r=n(10),i=function(){function FlotChart(e){this.$el=t(e.nativeElement)}return FlotChart.prototype.render=function(){t.plot(this.$el,this.data,this.options||{series:{lines:{show:!0,lineWidth:1,fill:!1,fillColor:{colors:[{opacity:.001},{opacity:.5}]}},points:{show:!1,fill:!0},shadowSize:0},legend:!1,grid:{show:!1,margin:0,labelMargin:0,axisMargin:0,hoverable:!0,clickable:!0,tickColor:"rgba(255,255,255,1)",borderWidth:0}})},FlotChart.prototype.ngAfterViewInit=function(){this.render()},FlotChart}();__decorate([r.Input(),__metadata("design:type",Object)],i.prototype,"data",void 0),__decorate([r.Input(),__metadata("design:type",String)],i.prototype,"options",void 0),i=__decorate([r.Directive({selector:"[flot-chart]"}),__metadata("design:paramtypes",[r.ElementRef])],i),e.FlotChart=i}).call(e,n(23))},446:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(10);n(459),n(462),n(460);var i=n(445),a=function(){function FlotChartModule(){}return FlotChartModule}();a=__decorate([r.NgModule({declarations:[i.FlotChart],exports:[i.FlotChart]})],a),e.FlotChartModule=a},459:function(t,e,n){(function(t){(function(t){t.color={},t.color.make=function(e,n,r,i){var a={};return a.r=e||0,a.g=n||0,a.b=r||0,a.a=null!=i?i:1,a.add=function(t,e){for(var n=0;n<t.length;++n)a[t.charAt(n)]+=e;return a.normalize()},a.scale=function(t,e){for(var n=0;n<t.length;++n)a[t.charAt(n)]*=e;return a.normalize()},a.toString=function(){return a.a>=1?"rgb("+[a.r,a.g,a.b].join(",")+")":"rgba("+[a.r,a.g,a.b,a.a].join(",")+")"},a.normalize=function(){function clamp(t,e,n){return e<t?t:e>n?n:e}return a.r=clamp(0,parseInt(a.r),255),a.g=clamp(0,parseInt(a.g),255),a.b=clamp(0,parseInt(a.b),255),a.a=clamp(0,a.a,1),a},a.clone=function(){return t.color.make(a.r,a.b,a.g,a.a)},a.normalize()},t.color.extract=function(e,n){var r;do{if(""!=(r=e.css(n).toLowerCase())&&"transparent"!=r)break;e=e.parent()}while(e.length&&!t.nodeName(e.get(0),"body"));return"rgba(0, 0, 0, 0)"==r&&(r="transparent"),t.color.parse(r)},t.color.parse=function(n){var r,i=t.color.make;if(r=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(n))return i(parseInt(r[1],10),parseInt(r[2],10),parseInt(r[3],10));if(r=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(n))return i(parseInt(r[1],10),parseInt(r[2],10),parseInt(r[3],10),parseFloat(r[4]));if(r=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(n))return i(2.55*parseFloat(r[1]),2.55*parseFloat(r[2]),2.55*parseFloat(r[3]));if(r=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(n))return i(2.55*parseFloat(r[1]),2.55*parseFloat(r[2]),2.55*parseFloat(r[3]),parseFloat(r[4]));if(r=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(n))return i(parseInt(r[1],16),parseInt(r[2],16),parseInt(r[3],16));if(r=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(n))return i(parseInt(r[1]+r[1],16),parseInt(r[2]+r[2],16),parseInt(r[3]+r[3],16));var a=t.trim(n).toLowerCase();return"transparent"==a?i(255,255,255,0):(r=e[a]||[0,0,0],i(r[0],r[1],r[2]))};var e={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})(t),function(t){function Canvas(e,n){var r=n.children("."+e)[0];if(null==r&&(r=document.createElement("canvas"),r.className=e,t(r).css({direction:"ltr",position:"absolute",left:0,top:0}).appendTo(n),!r.getContext)){if(!window.G_vmlCanvasManager)throw new Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.");r=window.G_vmlCanvasManager.initElement(r)}this.element=r;var i=this.context=r.getContext("2d"),a=window.devicePixelRatio||1,o=i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1;this.pixelRatio=a/o,this.resize(n.width(),n.height()),this.textContainer=null,this.text={},this._textCache={}}function Plot(e,n,r,i){function executeHooks(t,e){e=[y].concat(e);for(var n=0;n<t.length;++n)t[n].apply(this,e)}function initPlugins(){for(var e={Canvas:Canvas},n=0;n<i.length;++n){var r=i[n];r.init(y,e),r.options&&t.extend(!0,o,r.options)}}function parseOptions(n){t.extend(!0,o,n),n&&n.colors&&(o.colors=n.colors),null==o.xaxis.color&&(o.xaxis.color=t.color.parse(o.grid.color).scale("a",.22).toString()),null==o.yaxis.color&&(o.yaxis.color=t.color.parse(o.grid.color).scale("a",.22).toString()),null==o.xaxis.tickColor&&(o.xaxis.tickColor=o.grid.tickColor||o.xaxis.color),null==o.yaxis.tickColor&&(o.yaxis.tickColor=o.grid.tickColor||o.yaxis.color),null==o.grid.borderColor&&(o.grid.borderColor=o.grid.color),null==o.grid.tickColor&&(o.grid.tickColor=t.color.parse(o.grid.color).scale("a",.22).toString());var r,i,a,s=e.css("font-size"),l=s?+s.replace("px",""):13,c={style:e.css("font-style"),size:Math.round(.8*l),variant:e.css("font-variant"),weight:e.css("font-weight"),family:e.css("font-family")};for(a=o.xaxes.length||1,r=0;r<a;++r)i=o.xaxes[r],i&&!i.tickColor&&(i.tickColor=i.color),i=t.extend(!0,{},o.xaxis,i),o.xaxes[r]=i,i.font&&(i.font=t.extend({},c,i.font),i.font.color||(i.font.color=i.color),i.font.lineHeight||(i.font.lineHeight=Math.round(1.15*i.font.size)));for(a=o.yaxes.length||1,r=0;r<a;++r)i=o.yaxes[r],i&&!i.tickColor&&(i.tickColor=i.color),i=t.extend(!0,{},o.yaxis,i),o.yaxes[r]=i,i.font&&(i.font=t.extend({},c,i.font),i.font.color||(i.font.color=i.color),i.font.lineHeight||(i.font.lineHeight=Math.round(1.15*i.font.size)));for(o.xaxis.noTicks&&null==o.xaxis.ticks&&(o.xaxis.ticks=o.xaxis.noTicks),o.yaxis.noTicks&&null==o.yaxis.ticks&&(o.yaxis.ticks=o.yaxis.noTicks),o.x2axis&&(o.xaxes[1]=t.extend(!0,{},o.xaxis,o.x2axis),o.xaxes[1].position="top",null==o.x2axis.min&&(o.xaxes[1].min=null),null==o.x2axis.max&&(o.xaxes[1].max=null)),o.y2axis&&(o.yaxes[1]=t.extend(!0,{},o.yaxis,o.y2axis),o.yaxes[1].position="right",null==o.y2axis.min&&(o.yaxes[1].min=null),null==o.y2axis.max&&(o.yaxes[1].max=null)),o.grid.coloredAreas&&(o.grid.markings=o.grid.coloredAreas),o.grid.coloredAreasColor&&(o.grid.markingsColor=o.grid.coloredAreasColor),o.lines&&t.extend(!0,o.series.lines,o.lines),o.points&&t.extend(!0,o.series.points,o.points),o.bars&&t.extend(!0,o.series.bars,o.bars),null!=o.shadowSize&&(o.series.shadowSize=o.shadowSize),null!=o.highlightColor&&(o.series.highlightColor=o.highlightColor),r=0;r<o.xaxes.length;++r)getOrCreateAxis(h,r+1).options=o.xaxes[r];for(r=0;r<o.yaxes.length;++r)getOrCreateAxis(f,r+1).options=o.yaxes[r];for(var u in m)o.hooks[u]&&o.hooks[u].length&&(m[u]=m[u].concat(o.hooks[u]));executeHooks(m.processOptions,[o])}function setData(t){a=parseData(t),fillInSeriesOptions(),processData()}function parseData(e){for(var n=[],r=0;r<e.length;++r){var i=t.extend(!0,{},o.series);null!=e[r].data?(i.data=e[r].data,delete e[r].data,t.extend(!0,i,e[r]),e[r].data=i.data):i.data=e[r],n.push(i)}return n}function axisNumber(t,e){var n=t[e+"axis"];return"object"==typeof n&&(n=n.n),"number"!=typeof n&&(n=1),n}function allAxes(){return t.grep(h.concat(f),function(t){return t})}function canvasToAxisCoords(t){var e,n,r={};for(e=0;e<h.length;++e)(n=h[e])&&n.used&&(r["x"+n.n]=n.c2p(t.left));for(e=0;e<f.length;++e)(n=f[e])&&n.used&&(r["y"+n.n]=n.c2p(t.top));return void 0!==r.x1&&(r.x=r.x1),void 0!==r.y1&&(r.y=r.y1),r}function axisToCanvasCoords(t){var e,n,r,i={};for(e=0;e<h.length;++e)if((n=h[e])&&n.used&&(r="x"+n.n,null==t[r]&&1==n.n&&(r="x"),null!=t[r])){i.left=n.p2c(t[r]);break}for(e=0;e<f.length;++e)if((n=f[e])&&n.used&&(r="y"+n.n,null==t[r]&&1==n.n&&(r="y"),null!=t[r])){i.top=n.p2c(t[r]);break}return i}function getOrCreateAxis(e,n){return e[n-1]||(e[n-1]={n:n,direction:e==h?"x":"y",options:t.extend(!0,{},e==h?o.xaxis:o.yaxis)}),e[n-1]}function fillInSeriesOptions(){var e,n=a.length,r=-1;for(e=0;e<a.length;++e){var i=a[e].color;null!=i&&(n--,"number"==typeof i&&i>r&&(r=i))}n<=r&&(n=r+1);var s,l=[],c=o.colors,u=c.length,d=0;for(e=0;e<n;e++)s=t.color.parse(c[e%u]||"#666"),e%u==0&&e&&(d=d>=0?d<.5?-d-.2:0:-d),l[e]=s.scale("rgb",1+d);var p,g=0;for(e=0;e<a.length;++e){if(p=a[e],null==p.color?(p.color=l[g].toString(),++g):"number"==typeof p.color&&(p.color=l[p.color].toString()),null==p.lines.show){var v,m=!0;for(v in p)if(p[v]&&p[v].show){m=!1;break}m&&(p.lines.show=!0)}null==p.lines.zero&&(p.lines.zero=!!p.lines.fill),p.xaxis=getOrCreateAxis(h,axisNumber(p,"x")),p.yaxis=getOrCreateAxis(f,axisNumber(p,"y"))}}function processData(){function updateAxis(t,e,n){e<t.datamin&&e!=-v&&(t.datamin=e),n>t.datamax&&n!=v&&(t.datamax=n)}var e,n,r,i,o,s,l,c,u,d,h,f,p=Number.POSITIVE_INFINITY,g=Number.NEGATIVE_INFINITY,v=Number.MAX_VALUE;for(t.each(allAxes(),function(t,e){e.datamin=p,e.datamax=g,e.used=!1}),e=0;e<a.length;++e)o=a[e],o.datapoints={points:[]},executeHooks(m.processRawData,[o,o.data,o.datapoints]);for(e=0;e<a.length;++e){if(o=a[e],h=o.data,!(f=o.datapoints.format)){if(f=[],f.push({x:!0,number:!0,required:!0}),f.push({y:!0,number:!0,required:!0}),o.bars.show||o.lines.show&&o.lines.fill){var y=!!(o.bars.show&&o.bars.zero||o.lines.show&&o.lines.zero);f.push({y:!0,number:!0,required:!1,defaultValue:0,autoscale:y}),o.bars.horizontal&&(delete f[f.length-1].y,f[f.length-1].x=!0)}o.datapoints.format=f}if(null==o.datapoints.pointsize){o.datapoints.pointsize=f.length,l=o.datapoints.pointsize,s=o.datapoints.points;var _=o.lines.show&&o.lines.steps;for(o.xaxis.used=o.yaxis.used=!0,n=r=0;n<h.length;++n,r+=l){d=h[n];var x=null==d;if(!x)for(i=0;i<l;++i)c=d[i],u=f[i],u&&(u.number&&null!=c&&(c=+c,isNaN(c)?c=null:c==1/0?c=v:c==-1/0&&(c=-v)),null==c&&(u.required&&(x=!0),null!=u.defaultValue&&(c=u.defaultValue))),s[r+i]=c;if(x)for(i=0;i<l;++i)c=s[r+i],null!=c&&(u=f[i],!1!==u.autoscale&&(u.x&&updateAxis(o.xaxis,c,c),u.y&&updateAxis(o.yaxis,c,c))),s[r+i]=null;else if(_&&r>0&&null!=s[r-l]&&s[r-l]!=s[r]&&s[r-l+1]!=s[r+1]){for(i=0;i<l;++i)s[r+l+i]=s[r+i];s[r+1]=s[r-l+1],r+=l}}}}for(e=0;e<a.length;++e)o=a[e],executeHooks(m.processDatapoints,[o,o.datapoints]);for(e=0;e<a.length;++e){o=a[e],s=o.datapoints.points,l=o.datapoints.pointsize,f=o.datapoints.format;var b=p,k=p,w=g,M=g;for(n=0;n<s.length;n+=l)if(null!=s[n])for(i=0;i<l;++i)c=s[n+i],(u=f[i])&&!1!==u.autoscale&&c!=v&&c!=-v&&(u.x&&(c<b&&(b=c),c>w&&(w=c)),u.y&&(c<k&&(k=c),c>M&&(M=c)));if(o.bars.show){var C;switch(o.bars.align){case"left":C=0;break;case"right":C=-o.bars.barWidth;break;default:C=-o.bars.barWidth/2}o.bars.horizontal?(k+=C,M+=C+o.bars.barWidth):(b+=C,w+=C+o.bars.barWidth)}updateAxis(o.xaxis,b,w),updateAxis(o.yaxis,k,M)}t.each(allAxes(),function(t,e){e.datamin==p&&(e.datamin=null),e.datamax==g&&(e.datamax=null)})}function setupCanvases(){e.css("padding",0).children().filter(function(){return!t(this).hasClass("flot-overlay")&&!t(this).hasClass("flot-base")}).remove(),"static"==e.css("position")&&e.css("position","relative"),s=new Canvas("flot-base",e),l=new Canvas("flot-overlay",e),u=s.context,d=l.context,c=t(l.element).unbind();var n=e.data("plot");n&&(n.shutdown(),l.clear()),e.data("plot",y)}function bindEvents(){o.grid.hoverable&&(c.mousemove(onMouseMove),c.bind("mouseleave",onMouseLeave)),o.grid.clickable&&c.click(onClick),executeHooks(m.bindEvents,[c])}function shutdown(){x&&clearTimeout(x),c.unbind("mousemove",onMouseMove),c.unbind("mouseleave",onMouseLeave),c.unbind("click",onClick),executeHooks(m.shutdown,[c])}function setTransformationHelpers(t){function identity(t){return t}var e,n,r=t.options.transform||identity,i=t.options.inverseTransform;"x"==t.direction?(e=t.scale=g/Math.abs(r(t.max)-r(t.min)),n=Math.min(r(t.max),r(t.min))):(e=t.scale=v/Math.abs(r(t.max)-r(t.min)),e=-e,n=Math.max(r(t.max),r(t.min))),t.p2c=r==identity?function(t){return(t-n)*e}:function(t){return(r(t)-n)*e},t.c2p=i?function(t){return i(n+t/e)}:function(t){return n+t/e}}function measureTickLabels(t){for(var e=t.options,n=t.ticks||[],r=e.labelWidth||0,i=e.labelHeight||0,a=r||("x"==t.direction?Math.floor(s.width/(n.length||1)):null),o=t.direction+"Axis "+t.direction+t.n+"Axis",l="flot-"+t.direction+"-axis flot-"+t.direction+t.n+"-axis "+o,c=e.font||"flot-tick-label tickLabel",u=0;u<n.length;++u){var d=n[u];if(d.label){var h=s.getTextInfo(l,d.label,c,null,a);r=Math.max(r,h.width),i=Math.max(i,h.height)}}t.labelWidth=e.labelWidth||r,t.labelHeight=e.labelHeight||i}function allocateAxisBoxFirstPhase(e){var n=e.labelWidth,r=e.labelHeight,i=e.options.position,a="x"===e.direction,l=e.options.tickLength,c=o.grid.axisMargin,u=o.grid.labelMargin,d=!0,g=!0,v=!0,m=!1;t.each(a?h:f,function(t,n){n&&(n.show||n.reserveSpace)&&(n===e?m=!0:n.options.position===i&&(m?g=!1:d=!1),m||(v=!1))}),g&&(c=0),null==l&&(l=v?"full":5),isNaN(+l)||(u+=+l),a?(r+=u,"bottom"==i?(p.bottom+=r+c,e.box={top:s.height-p.bottom,height:r}):(e.box={top:p.top+c,height:r},p.top+=r+c)):(n+=u,"left"==i?(e.box={left:p.left+c,width:n},p.left+=n+c):(p.right+=n+c,e.box={left:s.width-p.right,width:n})),e.position=i,e.tickLength=l,e.box.padding=u,e.innermost=d}function allocateAxisBoxSecondPhase(t){"x"==t.direction?(t.box.left=p.left-t.labelWidth/2,t.box.width=s.width-p.left-p.right+t.labelWidth):(t.box.top=p.top-t.labelHeight/2,t.box.height=s.height-p.bottom-p.top+t.labelHeight)}function adjustLayoutForThingsStickingOut(){var e,n=o.grid.minBorderMargin;if(null==n)for(n=0,e=0;e<a.length;++e)n=Math.max(n,2*(a[e].points.radius+a[e].points.lineWidth/2));var r={left:n,right:n,top:n,bottom:n};t.each(allAxes(),function(t,e){e.reserveSpace&&e.ticks&&e.ticks.length&&("x"===e.direction?(r.left=Math.max(r.left,e.labelWidth/2),r.right=Math.max(r.right,e.labelWidth/2)):(r.bottom=Math.max(r.bottom,e.labelHeight/2),r.top=Math.max(r.top,e.labelHeight/2)))}),p.left=Math.ceil(Math.max(r.left,p.left)),p.right=Math.ceil(Math.max(r.right,p.right)),p.top=Math.ceil(Math.max(r.top,p.top)),p.bottom=Math.ceil(Math.max(r.bottom,p.bottom))}function setupGrid(){var e,n=allAxes(),r=o.grid.show;for(var i in p){var a=o.grid.margin||0;p[i]="number"==typeof a?a:a[i]||0}executeHooks(m.processOffset,[p]);for(var i in p)"object"==typeof o.grid.borderWidth?p[i]+=r?o.grid.borderWidth[i]:0:p[i]+=r?o.grid.borderWidth:0;if(t.each(n,function(t,e){var n=e.options;e.show=null==n.show?e.used:n.show,e.reserveSpace=null==n.reserveSpace?e.show:n.reserveSpace,setRange(e)}),r){var l=t.grep(n,function(t){return t.show||t.reserveSpace});for(t.each(l,function(t,e){setupTickGeneration(e),setTicks(e),snapRangeToTicks(e,e.ticks),measureTickLabels(e)}),e=l.length-1;e>=0;--e)allocateAxisBoxFirstPhase(l[e]);adjustLayoutForThingsStickingOut(),t.each(l,function(t,e){allocateAxisBoxSecondPhase(e)})}g=s.width-p.left-p.right,v=s.height-p.bottom-p.top,t.each(n,function(t,e){setTransformationHelpers(e)}),r&&drawAxisLabels(),insertLegend()}function setRange(t){var e=t.options,n=+(null!=e.min?e.min:t.datamin),r=+(null!=e.max?e.max:t.datamax),i=r-n;if(0==i){var a=0==r?1:.01;null==e.min&&(n-=a),null!=e.max&&null==e.min||(r+=a)}else{var o=e.autoscaleMargin;null!=o&&(null==e.min&&(n-=i*o)<0&&null!=t.datamin&&t.datamin>=0&&(n=0),null==e.max&&(r+=i*o)>0&&null!=t.datamax&&t.datamax<=0&&(r=0))}t.min=n,t.max=r}function setupTickGeneration(e){var n,r=e.options;n="number"==typeof r.ticks&&r.ticks>0?r.ticks:.3*Math.sqrt("x"==e.direction?s.width:s.height);var i=(e.max-e.min)/n,a=-Math.floor(Math.log(i)/Math.LN10),o=r.tickDecimals;null!=o&&a>o&&(a=o);var l,c=Math.pow(10,-a),u=i/c;if(u<1.5?l=1:u<3?(l=2,u>2.25&&(null==o||a+1<=o)&&(l=2.5,++a)):l=u<7.5?5:10,l*=c,null!=r.minTickSize&&l<r.minTickSize&&(l=r.minTickSize),e.delta=i,e.tickDecimals=Math.max(0,null!=o?o:a),e.tickSize=r.tickSize||l,"time"==r.mode&&!e.tickGenerator)throw new Error("Time mode requires the flot.time plugin.");if(e.tickGenerator||(e.tickGenerator=function(t){var e,n=[],r=floorInBase(t.min,t.tickSize),i=0,a=Number.NaN;do{e=a,a=r+i*t.tickSize,n.push(a),++i}while(a<t.max&&a!=e);return n},e.tickFormatter=function(t,e){var n=e.tickDecimals?Math.pow(10,e.tickDecimals):1,r=""+Math.round(t*n)/n;if(null!=e.tickDecimals){var i=r.indexOf("."),a=-1==i?0:r.length-i-1;if(a<e.tickDecimals)return(a?r:r+".")+(""+n).substr(1,e.tickDecimals-a)}return r}),t.isFunction(r.tickFormatter)&&(e.tickFormatter=function(t,e){return""+r.tickFormatter(t,e)}),null!=r.alignTicksWithAxis){var d=("x"==e.direction?h:f)[r.alignTicksWithAxis-1];if(d&&d.used&&d!=e){var p=e.tickGenerator(e);if(p.length>0&&(null==r.min&&(e.min=Math.min(e.min,p[0])),null==r.max&&p.length>1&&(e.max=Math.max(e.max,p[p.length-1]))),e.tickGenerator=function(t){var e,n,r=[];for(n=0;n<d.ticks.length;++n)e=(d.ticks[n].v-d.min)/(d.max-d.min),e=t.min+e*(t.max-t.min),r.push(e);return r},!e.mode&&null==r.tickDecimals){var g=Math.max(0,1-Math.floor(Math.log(e.delta)/Math.LN10)),v=e.tickGenerator(e);v.length>1&&/\..*0$/.test((v[1]-v[0]).toFixed(g))||(e.tickDecimals=g)}}}}function setTicks(e){var n=e.options.ticks,r=[];null==n||"number"==typeof n&&n>0?r=e.tickGenerator(e):n&&(r=t.isFunction(n)?n(e):n);var i,a;for(e.ticks=[],i=0;i<r.length;++i){var o=null,s=r[i];"object"==typeof s?(a=+s[0],s.length>1&&(o=s[1])):a=+s,null==o&&(o=e.tickFormatter(a,e)),isNaN(a)||e.ticks.push({v:a,label:o})}}function snapRangeToTicks(t,e){t.options.autoscaleMargin&&e.length>0&&(null==t.options.min&&(t.min=Math.min(t.min,e[0].v)),null==t.options.max&&e.length>1&&(t.max=Math.max(t.max,e[e.length-1].v)))}function draw(){s.clear(),executeHooks(m.drawBackground,[u]);var t=o.grid;t.show&&t.backgroundColor&&drawBackground(),t.show&&!t.aboveData&&drawGrid();for(var e=0;e<a.length;++e)executeHooks(m.drawSeries,[u,a[e]]),drawSeries(a[e]);executeHooks(m.draw,[u]),t.show&&t.aboveData&&drawGrid(),s.render(),triggerRedrawOverlay()}function extractRange(t,e){for(var n,r,i,a,o=allAxes(),s=0;s<o.length;++s)if(n=o[s],n.direction==e&&(a=e+n.n+"axis",t[a]||1!=n.n||(a=e+"axis"),t[a])){r=t[a].from,i=t[a].to;break}if(t[a]||(n="x"==e?h[0]:f[0],r=t[e+"1"],i=t[e+"2"]),null!=r&&null!=i&&r>i){var l=r;r=i,i=l}return{from:r,to:i,axis:n}}function drawBackground(){u.save(),u.translate(p.left,p.top),u.fillStyle=getColorOrGradient(o.grid.backgroundColor,v,0,"rgba(255, 255, 255, 0)"),u.fillRect(0,0,g,v),u.restore()}function drawGrid(){var e,n,r,i;u.save(),u.translate(p.left,p.top);var a=o.grid.markings;if(a)for(t.isFunction(a)&&(n=y.getAxes(),n.xmin=n.xaxis.min,n.xmax=n.xaxis.max,n.ymin=n.yaxis.min,n.ymax=n.yaxis.max,a=a(n)),e=0;e<a.length;++e){var s=a[e],l=extractRange(s,"x"),c=extractRange(s,"y");if(null==l.from&&(l.from=l.axis.min),null==l.to&&(l.to=l.axis.max),null==c.from&&(c.from=c.axis.min),null==c.to&&(c.to=c.axis.max),!(l.to<l.axis.min||l.from>l.axis.max||c.to<c.axis.min||c.from>c.axis.max)){l.from=Math.max(l.from,l.axis.min),l.to=Math.min(l.to,l.axis.max),c.from=Math.max(c.from,c.axis.min),c.to=Math.min(c.to,c.axis.max);var d=l.from===l.to,h=c.from===c.to;if(!d||!h)if(l.from=Math.floor(l.axis.p2c(l.from)),l.to=Math.floor(l.axis.p2c(l.to)),c.from=Math.floor(c.axis.p2c(c.from)),c.to=Math.floor(c.axis.p2c(c.to)),d||h){var f=s.lineWidth||o.grid.markingsLineWidth,m=f%2?.5:0;u.beginPath(),u.strokeStyle=s.color||o.grid.markingsColor,u.lineWidth=f,d?(u.moveTo(l.to+m,c.from),u.lineTo(l.to+m,c.to)):(u.moveTo(l.from,c.to+m),u.lineTo(l.to,c.to+m)),u.stroke()}else u.fillStyle=s.color||o.grid.markingsColor,u.fillRect(l.from,c.to,l.to-l.from,c.from-c.to)}}n=allAxes(),r=o.grid.borderWidth;for(var _=0;_<n.length;++_){var x,b,k,w,M=n[_],C=M.box,S=M.tickLength;if(M.show&&0!=M.ticks.length){for(u.lineWidth=1,"x"==M.direction?(x=0,b="full"==S?"top"==M.position?0:v:C.top-p.top+("top"==M.position?C.height:0)):(b=0,x="full"==S?"left"==M.position?0:g:C.left-p.left+("left"==M.position?C.width:0)),M.innermost||(u.strokeStyle=M.options.color,u.beginPath(),k=w=0,"x"==M.direction?k=g+1:w=v+1,1==u.lineWidth&&("x"==M.direction?b=Math.floor(b)+.5:x=Math.floor(x)+.5),u.moveTo(x,b),u.lineTo(x+k,b+w),u.stroke()),u.strokeStyle=M.options.tickColor,u.beginPath(),e=0;e<M.ticks.length;++e){var A=M.ticks[e].v;k=w=0,isNaN(A)||A<M.min||A>M.max||"full"==S&&("object"==typeof r&&r[M.position]>0||r>0)&&(A==M.min||A==M.max)||("x"==M.direction?(x=M.p2c(A),w="full"==S?-v:S,"top"==M.position&&(w=-w)):(b=M.p2c(A),k="full"==S?-g:S,"left"==M.position&&(k=-k)),1==u.lineWidth&&("x"==M.direction?x=Math.floor(x)+.5:b=Math.floor(b)+.5),u.moveTo(x,b),u.lineTo(x+k,b+w))}u.stroke()}}r&&(i=o.grid.borderColor,"object"==typeof r||"object"==typeof i?("object"!=typeof r&&(r={top:r,right:r,bottom:r,left:r}),"object"!=typeof i&&(i={top:i,right:i,bottom:i,left:i}),r.top>0&&(u.strokeStyle=i.top,u.lineWidth=r.top,u.beginPath(),u.moveTo(0-r.left,0-r.top/2),u.lineTo(g,0-r.top/2),u.stroke()),r.right>0&&(u.strokeStyle=i.right,u.lineWidth=r.right,u.beginPath(),u.moveTo(g+r.right/2,0-r.top),u.lineTo(g+r.right/2,v),u.stroke()),r.bottom>0&&(u.strokeStyle=i.bottom,u.lineWidth=r.bottom,u.beginPath(),u.moveTo(g+r.right,v+r.bottom/2),u.lineTo(0,v+r.bottom/2),u.stroke()),r.left>0&&(u.strokeStyle=i.left,u.lineWidth=r.left,u.beginPath(),u.moveTo(0-r.left/2,v+r.bottom),u.lineTo(0-r.left/2,0),u.stroke())):(u.lineWidth=r,u.strokeStyle=o.grid.borderColor,u.strokeRect(-r/2,-r/2,g+r,v+r))),u.restore()}function drawAxisLabels(){t.each(allAxes(),function(t,e){var n,r,i,a,o,l=e.box,c=e.direction+"Axis "+e.direction+e.n+"Axis",u="flot-"+e.direction+"-axis flot-"+e.direction+e.n+"-axis "+c,d=e.options.font||"flot-tick-label tickLabel";if(s.removeText(u),e.show&&0!=e.ticks.length)for(var h=0;h<e.ticks.length;++h)n=e.ticks[h],!n.label||n.v<e.min||n.v>e.max||("x"==e.direction?(a="center",r=p.left+e.p2c(n.v),"bottom"==e.position?i=l.top+l.padding:(i=l.top+l.height-l.padding,o="bottom")):(o="middle",i=p.top+e.p2c(n.v),"left"==e.position?(r=l.left+l.width-l.padding,a="right"):r=l.left+l.padding),s.addText(u,r,i,n.label,d,null,null,a,o))})}function drawSeries(t){t.lines.show&&drawSeriesLines(t),t.bars.show&&drawSeriesBars(t),t.points.show&&drawSeriesPoints(t)}function drawSeriesLines(t){function plotLine(t,e,n,r,i){var a=t.points,o=t.pointsize,s=null,l=null;u.beginPath();for(var c=o;c<a.length;c+=o){var d=a[c-o],h=a[c-o+1],f=a[c],p=a[c+1];if(null!=d&&null!=f){if(h<=p&&h<i.min){if(p<i.min)continue;d=(i.min-h)/(p-h)*(f-d)+d,h=i.min}else if(p<=h&&p<i.min){if(h<i.min)continue;f=(i.min-h)/(p-h)*(f-d)+d,p=i.min}if(h>=p&&h>i.max){if(p>i.max)continue;d=(i.max-h)/(p-h)*(f-d)+d,h=i.max}else if(p>=h&&p>i.max){if(h>i.max)continue;f=(i.max-h)/(p-h)*(f-d)+d,p=i.max}if(d<=f&&d<r.min){if(f<r.min)continue;h=(r.min-d)/(f-d)*(p-h)+h,d=r.min}else if(f<=d&&f<r.min){if(d<r.min)continue;p=(r.min-d)/(f-d)*(p-h)+h,f=r.min}if(d>=f&&d>r.max){if(f>r.max)continue;h=(r.max-d)/(f-d)*(p-h)+h,d=r.max}else if(f>=d&&f>r.max){if(d>r.max)continue;p=(r.max-d)/(f-d)*(p-h)+h,f=r.max}d==s&&h==l||u.moveTo(r.p2c(d)+e,i.p2c(h)+n),s=f,l=p,u.lineTo(r.p2c(f)+e,i.p2c(p)+n)}}u.stroke()}function plotLineArea(t,e,n){for(var r=t.points,i=t.pointsize,a=Math.min(Math.max(0,n.min),n.max),o=0,s=!1,l=1,c=0,d=0;;){if(i>0&&o>r.length+i)break;o+=i;var h=r[o-i],f=r[o-i+l],p=r[o],g=r[o+l];if(s){if(i>0&&null!=h&&null==p){d=o,i=-i,l=2;continue}if(i<0&&o==c+i){u.fill(),s=!1,i=-i,l=1,o=c=d+i;continue}}if(null!=h&&null!=p){if(h<=p&&h<e.min){if(p<e.min)continue;f=(e.min-h)/(p-h)*(g-f)+f,h=e.min}else if(p<=h&&p<e.min){if(h<e.min)continue;g=(e.min-h)/(p-h)*(g-f)+f,p=e.min}if(h>=p&&h>e.max){if(p>e.max)continue;f=(e.max-h)/(p-h)*(g-f)+f,h=e.max}else if(p>=h&&p>e.max){if(h>e.max)continue;g=(e.max-h)/(p-h)*(g-f)+f,p=e.max}if(s||(u.beginPath(),u.moveTo(e.p2c(h),n.p2c(a)),s=!0),f>=n.max&&g>=n.max)u.lineTo(e.p2c(h),n.p2c(n.max)),u.lineTo(e.p2c(p),n.p2c(n.max));else if(f<=n.min&&g<=n.min)u.lineTo(e.p2c(h),n.p2c(n.min)),u.lineTo(e.p2c(p),n.p2c(n.min));else{var v=h,m=p;f<=g&&f<n.min&&g>=n.min?(h=(n.min-f)/(g-f)*(p-h)+h,f=n.min):g<=f&&g<n.min&&f>=n.min&&(p=(n.min-f)/(g-f)*(p-h)+h,g=n.min),f>=g&&f>n.max&&g<=n.max?(h=(n.max-f)/(g-f)*(p-h)+h,f=n.max):g>=f&&g>n.max&&f<=n.max&&(p=(n.max-f)/(g-f)*(p-h)+h,g=n.max),h!=v&&u.lineTo(e.p2c(v),n.p2c(f)),u.lineTo(e.p2c(h),n.p2c(f)),u.lineTo(e.p2c(p),n.p2c(g)),p!=m&&(u.lineTo(e.p2c(p),n.p2c(g)),u.lineTo(e.p2c(m),n.p2c(g)))}}}}u.save(),u.translate(p.left,p.top),u.lineJoin="round";var e=t.lines.lineWidth,n=t.shadowSize;if(e>0&&n>0){u.lineWidth=n,u.strokeStyle="rgba(0,0,0,0.1)";var r=Math.PI/18;plotLine(t.datapoints,Math.sin(r)*(e/2+n/2),Math.cos(r)*(e/2+n/2),t.xaxis,t.yaxis),u.lineWidth=n/2,plotLine(t.datapoints,Math.sin(r)*(e/2+n/4),Math.cos(r)*(e/2+n/4),t.xaxis,t.yaxis)}u.lineWidth=e,u.strokeStyle=t.color;var i=getFillStyle(t.lines,t.color,0,v);i&&(u.fillStyle=i,plotLineArea(t.datapoints,t.xaxis,t.yaxis)),e>0&&plotLine(t.datapoints,0,0,t.xaxis,t.yaxis),u.restore()}function drawSeriesPoints(t){function plotPoints(t,e,n,r,i,a,o,s){for(var l=t.points,c=t.pointsize,d=0;d<l.length;d+=c){var h=l[d],f=l[d+1];null==h||h<a.min||h>a.max||f<o.min||f>o.max||(u.beginPath(),h=a.p2c(h),f=o.p2c(f)+r,"circle"==s?u.arc(h,f,e,0,i?Math.PI:2*Math.PI,!1):s(u,h,f,e,i),u.closePath(),n&&(u.fillStyle=n,u.fill()),u.stroke())}}u.save(),u.translate(p.left,p.top);var e=t.points.lineWidth,n=t.shadowSize,r=t.points.radius,i=t.points.symbol;if(0==e&&(e=1e-4),e>0&&n>0){var a=n/2;u.lineWidth=a,u.strokeStyle="rgba(0,0,0,0.1)",plotPoints(t.datapoints,r,null,a+a/2,!0,t.xaxis,t.yaxis,i),u.strokeStyle="rgba(0,0,0,0.2)",plotPoints(t.datapoints,r,null,a/2,!0,t.xaxis,t.yaxis,i)}u.lineWidth=e,u.strokeStyle=t.color,plotPoints(t.datapoints,r,getFillStyle(t.points,t.color),0,!1,t.xaxis,t.yaxis,i),u.restore()}function drawBar(t,e,n,r,i,a,o,s,l,c,u){var d,h,f,p,g,v,m,y,_;c?(y=v=m=!0,g=!1,d=n,h=t,p=e+r,f=e+i,h<d&&(_=h,h=d,d=_,g=!0,v=!1)):(g=v=m=!0,y=!1,d=t+r,h=t+i,f=n,(p=e)<f&&(_=p,p=f,f=_,y=!0,m=!1)),h<o.min||d>o.max||p<s.min||f>s.max||(d<o.min&&(d=o.min,g=!1),h>o.max&&(h=o.max,v=!1),f<s.min&&(f=s.min,y=!1),p>s.max&&(p=s.max,m=!1),d=o.p2c(d),f=s.p2c(f),h=o.p2c(h),p=s.p2c(p),a&&(l.fillStyle=a(f,p),l.fillRect(d,p,h-d,f-p)),u>0&&(g||v||m||y)&&(l.beginPath(),l.moveTo(d,f),g?l.lineTo(d,p):l.moveTo(d,p),m?l.lineTo(h,p):l.moveTo(h,p),v?l.lineTo(h,f):l.moveTo(h,f),y?l.lineTo(d,f):l.moveTo(d,f),l.stroke()))}function drawSeriesBars(t){function plotBars(e,n,r,i,a,o){for(var s=e.points,l=e.pointsize,c=0;c<s.length;c+=l)null!=s[c]&&drawBar(s[c],s[c+1],s[c+2],n,r,i,a,o,u,t.bars.horizontal,t.bars.lineWidth)}u.save(),u.translate(p.left,p.top),u.lineWidth=t.bars.lineWidth,u.strokeStyle=t.color;var e;switch(t.bars.align){case"left":e=0;break;case"right":e=-t.bars.barWidth;break;default:e=-t.bars.barWidth/2}var n=t.bars.fill?function(e,n){return getFillStyle(t.bars,t.color,e,n)}:null;plotBars(t.datapoints,e,e+t.bars.barWidth,n,t.xaxis,t.yaxis),u.restore()}function getFillStyle(e,n,r,i){var a=e.fill;if(!a)return null;if(e.fillColor)return getColorOrGradient(e.fillColor,r,i,n);var o=t.color.parse(n);return o.a="number"==typeof a?a:.4,o.normalize(),o.toString()}function insertLegend(){if(null!=o.legend.container?t(o.legend.container).html(""):e.find(".legend").remove(),o.legend.show){for(var n,r,i=[],s=[],l=!1,c=o.legend.labelFormatter,u=0;u<a.length;++u)n=a[u],n.label&&(r=c?c(n.label,n):n.label)&&s.push({label:r,color:n.color});if(o.legend.sorted)if(t.isFunction(o.legend.sorted))s.sort(o.legend.sorted);else if("reverse"==o.legend.sorted)s.reverse();else{var d="descending"!=o.legend.sorted;s.sort(function(t,e){return t.label==e.label?0:t.label<e.label!=d?1:-1})}for(var u=0;u<s.length;++u){var h=s[u];u%o.legend.noColumns==0&&(l&&i.push("</tr>"),i.push("<tr>"),l=!0),i.push('<td class="legendColorBox"><div style="border:1px solid '+o.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+h.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+h.label+"</td>")}if(l&&i.push("</tr>"),0!=i.length){var f='<table style="font-size:smaller;color:'+o.grid.color+'">'+i.join("")+"</table>";if(null!=o.legend.container)t(o.legend.container).html(f);else{var g="",v=o.legend.position,m=o.legend.margin;null==m[0]&&(m=[m,m]),"n"==v.charAt(0)?g+="top:"+(m[1]+p.top)+"px;":"s"==v.charAt(0)&&(g+="bottom:"+(m[1]+p.bottom)+"px;"),"e"==v.charAt(1)?g+="right:"+(m[0]+p.right)+"px;":"w"==v.charAt(1)&&(g+="left:"+(m[0]+p.left)+"px;");var y=t('<div class="legend">'+f.replace('style="','style="position:absolute;'+g+";")+"</div>").appendTo(e);if(0!=o.legend.backgroundOpacity){var _=o.legend.backgroundColor;null==_&&(_=o.grid.backgroundColor,_=_&&"string"==typeof _?t.color.parse(_):t.color.extract(y,"background-color"),_.a=1,_=_.toString());var x=y.children();t('<div style="position:absolute;width:'+x.width()+"px;height:"+x.height()+"px;"+g+"background-color:"+_+';"> </div>').prependTo(y).css("opacity",o.legend.backgroundOpacity)}}}}}function findNearbyItem(t,e,n){var r,i,s,l=o.grid.mouseActiveRadius,c=l*l+1,u=null;for(r=a.length-1;r>=0;--r)if(n(a[r])){var d=a[r],h=d.xaxis,f=d.yaxis,p=d.datapoints.points,g=h.c2p(t),v=f.c2p(e),m=l/h.scale,y=l/f.scale;if(s=d.datapoints.pointsize,h.options.inverseTransform&&(m=Number.MAX_VALUE),f.options.inverseTransform&&(y=Number.MAX_VALUE),d.lines.show||d.points.show)for(i=0;i<p.length;i+=s){var _=p[i],x=p[i+1];if(null!=_&&!(_-g>m||_-g<-m||x-v>y||x-v<-y)){var b=Math.abs(h.p2c(_)-t),k=Math.abs(f.p2c(x)-e),w=b*b+k*k;w<c&&(c=w,u=[r,i/s])}}if(d.bars.show&&!u){var M,C;switch(d.bars.align){case"left":M=0;break;case"right":M=-d.bars.barWidth;break;default:M=-d.bars.barWidth/2}for(C=M+d.bars.barWidth,i=0;i<p.length;i+=s){var _=p[i],x=p[i+1],S=p[i+2];null!=_&&((a[r].bars.horizontal?g<=Math.max(S,_)&&g>=Math.min(S,_)&&v>=x+M&&v<=x+C:g>=_+M&&g<=_+C&&v>=Math.min(S,x)&&v<=Math.max(S,x))&&(u=[r,i/s]))}}}return u?(r=u[0],i=u[1],s=a[r].datapoints.pointsize,{datapoint:a[r].datapoints.points.slice(i*s,(i+1)*s),dataIndex:i,series:a[r],seriesIndex:r}):null}function onMouseMove(t){o.grid.hoverable&&triggerClickHoverEvent("plothover",t,function(t){return 0!=t.hoverable})}function onMouseLeave(t){o.grid.hoverable&&triggerClickHoverEvent("plothover",t,function(t){return!1})}function onClick(t){triggerClickHoverEvent("plotclick",t,function(t){return 0!=t.clickable})}function triggerClickHoverEvent(t,n,r){var i=c.offset(),a=n.pageX-i.left-p.left,s=n.pageY-i.top-p.top,l=canvasToAxisCoords({left:a,top:s});l.pageX=n.pageX,l.pageY=n.pageY;var u=findNearbyItem(a,s,r);if(u&&(u.pageX=parseInt(u.series.xaxis.p2c(u.datapoint[0])+i.left+p.left,10),u.pageY=parseInt(u.series.yaxis.p2c(u.datapoint[1])+i.top+p.top,10)),o.grid.autoHighlight){for(var d=0;d<_.length;++d){var h=_[d];h.auto!=t||u&&h.series==u.series&&h.point[0]==u.datapoint[0]&&h.point[1]==u.datapoint[1]||unhighlight(h.series,h.point)}u&&highlight(u.series,u.datapoint,t)}e.trigger(t,[l,u])}function triggerRedrawOverlay(){var t=o.interaction.redrawOverlayInterval;if(-1==t)return void drawOverlay();x||(x=setTimeout(drawOverlay,t))}function drawOverlay(){x=null,d.save(),l.clear(),d.translate(p.left,p.top);var t,e;for(t=0;t<_.length;++t)e=_[t],e.series.bars.show?drawBarHighlight(e.series,e.point):drawPointHighlight(e.series,e.point);d.restore(),executeHooks(m.drawOverlay,[d])}function highlight(t,e,n){if("number"==typeof t&&(t=a[t]),"number"==typeof e){var r=t.datapoints.pointsize;e=t.datapoints.points.slice(r*e,r*(e+1))}var i=indexOfHighlight(t,e);-1==i?(_.push({series:t,point:e,auto:n}),triggerRedrawOverlay()):n||(_[i].auto=!1)}function unhighlight(t,e){if(null==t&&null==e)return _=[],void triggerRedrawOverlay();if("number"==typeof t&&(t=a[t]),"number"==typeof e){var n=t.datapoints.pointsize;e=t.datapoints.points.slice(n*e,n*(e+1))}var r=indexOfHighlight(t,e);-1!=r&&(_.splice(r,1),triggerRedrawOverlay())}function indexOfHighlight(t,e){for(var n=0;n<_.length;++n){var r=_[n];if(r.series==t&&r.point[0]==e[0]&&r.point[1]==e[1])return n}return-1}function drawPointHighlight(e,n){var r=n[0],i=n[1],a=e.xaxis,o=e.yaxis,s="string"==typeof e.highlightColor?e.highlightColor:t.color.parse(e.color).scale("a",.5).toString();if(!(r<a.min||r>a.max||i<o.min||i>o.max)){var l=e.points.radius+e.points.lineWidth/2;d.lineWidth=l,d.strokeStyle=s;var c=1.5*l;r=a.p2c(r),i=o.p2c(i),d.beginPath(),"circle"==e.points.symbol?d.arc(r,i,c,0,2*Math.PI,!1):e.points.symbol(d,r,i,c,!1),d.closePath(),d.stroke()}}function drawBarHighlight(e,n){var r,i="string"==typeof e.highlightColor?e.highlightColor:t.color.parse(e.color).scale("a",.5).toString(),a=i;switch(e.bars.align){case"left":r=0;break;case"right":r=-e.bars.barWidth;break;default:r=-e.bars.barWidth/2}d.lineWidth=e.bars.lineWidth,d.strokeStyle=i,drawBar(n[0],n[1],n[2]||0,r,r+e.bars.barWidth,function(){return a},e.xaxis,e.yaxis,d,e.bars.horizontal,e.bars.lineWidth)}function getColorOrGradient(e,n,r,i){if("string"==typeof e)return e;for(var a=u.createLinearGradient(0,r,0,n),o=0,s=e.colors.length;o<s;++o){var l=e.colors[o];if("string"!=typeof l){var c=t.color.parse(i);null!=l.brightness&&(c=c.scale("rgb",l.brightness)),null!=l.opacity&&(c.a*=l.opacity),l=c.toString()}a.addColorStop(o/(s-1),l)}return a}var a=[],o={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:.85,sorted:null},xaxis:{show:null,position:"bottom",mode:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null},yaxis:{autoscaleMargin:.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1,zero:!0},shadowSize:3,highlightColor:null},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},interaction:{redrawOverlayInterval:1e3/60},hooks:{}},s=null,l=null,c=null,u=null,d=null,h=[],f=[],p={left:0,right:0,top:0,bottom:0},g=0,v=0,m={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],drawBackground:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},y=this;y.setData=setData,y.setupGrid=setupGrid,y.draw=draw,y.getPlaceholder=function(){return e},y.getCanvas=function(){return s.element},y.getPlotOffset=function(){return p},y.width=function(){return g},y.height=function(){return v},y.offset=function(){var t=c.offset();return t.left+=p.left,t.top+=p.top,t},y.getData=function(){return a},y.getAxes=function(){var e={};return t.each(h.concat(f),function(t,n){n&&(e[n.direction+(1!=n.n?n.n:"")+"axis"]=n)}),e},y.getXAxes=function(){return h},y.getYAxes=function(){return f},y.c2p=canvasToAxisCoords,y.p2c=axisToCanvasCoords,y.getOptions=function(){return o},y.highlight=highlight,y.unhighlight=unhighlight,y.triggerRedrawOverlay=triggerRedrawOverlay,y.pointOffset=function(t){return{left:parseInt(h[axisNumber(t,"x")-1].p2c(+t.x)+p.left,10),top:parseInt(f[axisNumber(t,"y")-1].p2c(+t.y)+p.top,10)}},y.shutdown=shutdown,y.destroy=function(){shutdown(),e.removeData("plot").empty(),a=[],o=null,s=null,l=null,c=null,u=null,d=null,h=[],f=[],m=null,_=[],y=null},y.resize=function(){var t=e.width(),n=e.height();s.resize(t,n),l.resize(t,n)},y.hooks=m,initPlugins(y),parseOptions(r),setupCanvases(),setData(n),setupGrid(),draw(),bindEvents();var _=[],x=null}function floorInBase(t,e){return e*Math.floor(t/e)}var e=Object.prototype.hasOwnProperty;t.fn.detach||(t.fn.detach=function(){return this.each(function(){this.parentNode&&this.parentNode.removeChild(this)})}),Canvas.prototype.resize=function(t,e){if(t<=0||e<=0)throw new Error("Invalid dimensions for plot, width = "+t+", height = "+e);var n=this.element,r=this.context,i=this.pixelRatio;this.width!=t&&(n.width=t*i,n.style.width=t+"px",this.width=t),this.height!=e&&(n.height=e*i,n.style.height=e+"px",this.height=e),r.restore(),r.save(),r.scale(i,i)},Canvas.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},Canvas.prototype.render=function(){var t=this._textCache;for(var n in t)if(e.call(t,n)){var r=this.getTextLayer(n),i=t[n];r.hide();for(var a in i)if(e.call(i,a)){var o=i[a];for(var s in o)if(e.call(o,s)){for(var l,c=o[s].positions,u=0;l=c[u];u++)l.active?l.rendered||(r.append(l.element),l.rendered=!0):(c.splice(u--,1),l.rendered&&l.element.detach());0==c.length&&delete o[s]}}r.show()}},Canvas.prototype.getTextLayer=function(e){var n=this.text[e];return null==n&&(null==this.textContainer&&(this.textContainer=t("<div class='flot-text'></div>").css({position:"absolute",top:0,left:0,bottom:0,right:0,"font-size":"smaller",color:"#545454"}).insertAfter(this.element)),n=this.text[e]=t("<div></div>").addClass(e).css({position:"absolute",top:0,left:0,bottom:0,right:0}).appendTo(this.textContainer)),n},Canvas.prototype.getTextInfo=function(e,n,r,i,a){var o,s,l,c;if(n=""+n,o="object"==typeof r?r.style+" "+r.variant+" "+r.weight+" "+r.size+"px/"+r.lineHeight+"px "+r.family:r,s=this._textCache[e],null==s&&(s=this._textCache[e]={}),l=s[o],null==l&&(l=s[o]={}),null==(c=l[n])){var u=t("<div></div>").html(n).css({position:"absolute","max-width":a,top:-9999}).appendTo(this.getTextLayer(e));"object"==typeof r?u.css({font:o,color:r.color}):"string"==typeof r&&u.addClass(r),c=l[n]={width:u.outerWidth(!0),height:u.outerHeight(!0),element:u,positions:[]},u.detach()}return c},Canvas.prototype.addText=function(t,e,n,r,i,a,o,s,l){var c=this.getTextInfo(t,r,i,a,o),u=c.positions;"center"==s?e-=c.width/2:"right"==s&&(e-=c.width),"middle"==l?n-=c.height/2:"bottom"==l&&(n-=c.height);for(var d,h=0;d=u[h];h++)if(d.x==e&&d.y==n)return void(d.active=!0);d={active:!0,rendered:!1,element:u.length?c.element.clone():c.element,x:e,y:n},u.push(d),d.element.css({top:Math.round(n),left:Math.round(e),"text-align":s})},Canvas.prototype.removeText=function(t,n,r,i,a,o){if(null==i){var s=this._textCache[t];if(null!=s)for(var l in s)if(e.call(s,l)){var c=s[l];for(var u in c)if(e.call(c,u))for(var d,h=c[u].positions,f=0;d=h[f];f++)d.active=!1}}else for(var d,h=this.getTextInfo(t,i,a,o).positions,f=0;d=h[f];f++)d.x==n&&d.y==r&&(d.active=!1)},t.plot=function(e,n,r){return new Plot(t(e),n,r,t.plot.plugins)},t.plot.version="0.8.3",t.plot.plugins=[],t.fn.plot=function(e,n){return this.each(function(){t.plot(this,e,n)})}}(t)}).call(e,n(23))},460:function(t,e,n){(function(t){(function(t){function floorInBase(t,e){return e*Math.floor(t/e)}function formatDate(t,e,n,r){if("function"==typeof t.strftime)return t.strftime(e);var i=function(t,e){return t=""+t,e=""+(null==e?"0":e),1==t.length?e+t:t},a=[],o=!1,s=t.getHours(),l=s<12;null==n&&(n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),null==r&&(r=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]);var c;c=s>12?s-12:0==s?12:s;for(var u=0;u<e.length;++u){var d=e.charAt(u);if(o){switch(d){case"a":d=""+r[t.getDay()];break;case"b":d=""+n[t.getMonth()];break;case"d":d=i(t.getDate());break;case"e":d=i(t.getDate()," ");break;case"h":case"H":d=i(s);break;case"I":d=i(c);break;case"l":d=i(c," ");break;case"m":d=i(t.getMonth()+1);break;case"M":d=i(t.getMinutes());break;case"q":d=""+(Math.floor(t.getMonth()/3)+1);break;case"S":d=i(t.getSeconds());break;case"y":d=i(t.getFullYear()%100);break;case"Y":d=""+t.getFullYear();break;case"p":d=l?"am":"pm";break;case"P":d=l?"AM":"PM";break;case"w":d=""+t.getDay()}a.push(d),o=!1}else"%"==d?o=!0:a.push(d)}return a.join("")}function makeUtcWrapper(t){function addProxyMethod(t,e,n,r){t[e]=function(){return n[r].apply(n,arguments)}}var e={date:t};void 0!=t.strftime&&addProxyMethod(e,"strftime",t,"strftime"),addProxyMethod(e,"getTime",t,"getTime"),addProxyMethod(e,"setTime",t,"setTime");for(var n=["Date","Day","FullYear","Hours","Milliseconds","Minutes","Month","Seconds"],r=0;r<n.length;r++)addProxyMethod(e,"get"+n[r],t,"getUTC"+n[r]),addProxyMethod(e,"set"+n[r],t,"setUTC"+n[r]);return e}function dateGenerator(t,e){if("browser"==e.timezone)return new Date(t);if(e.timezone&&"utc"!=e.timezone){if("undefined"!=typeof timezoneJS&&void 0!==timezoneJS.Date){var n=new timezoneJS.Date;return n.setTimezone(e.timezone),n.setTime(t),n}return makeUtcWrapper(new Date(t))}return makeUtcWrapper(new Date(t))}function init(e){e.hooks.processOptions.push(function(e,r){t.each(e.getAxes(),function(t,e){var r=e.options;"time"==r.mode&&(e.tickGenerator=function(t){var e=[],o=dateGenerator(t.min,r),s=0,l=r.tickSize&&"quarter"===r.tickSize[1]||r.minTickSize&&"quarter"===r.minTickSize[1]?a:i;null!=r.minTickSize&&(s="number"==typeof r.tickSize?r.tickSize:r.minTickSize[0]*n[r.minTickSize[1]]);for(var c=0;c<l.length-1&&!(t.delta<(l[c][0]*n[l[c][1]]+l[c+1][0]*n[l[c+1][1]])/2&&l[c][0]*n[l[c][1]]>=s);++c);var u=l[c][0],d=l[c][1];if("year"==d){if(null!=r.minTickSize&&"year"==r.minTickSize[1])u=Math.floor(r.minTickSize[0]);else{var h=Math.pow(10,Math.floor(Math.log(t.delta/n.year)/Math.LN10)),f=t.delta/n.year/h;u=f<1.5?1:f<3?2:f<7.5?5:10,u*=h}u<1&&(u=1)}t.tickSize=r.tickSize||[u,d];var p=t.tickSize[0];d=t.tickSize[1];var g=p*n[d];"second"==d?o.setSeconds(floorInBase(o.getSeconds(),p)):"minute"==d?o.setMinutes(floorInBase(o.getMinutes(),p)):"hour"==d?o.setHours(floorInBase(o.getHours(),p)):"month"==d?o.setMonth(floorInBase(o.getMonth(),p)):"quarter"==d?o.setMonth(3*floorInBase(o.getMonth()/3,p)):"year"==d&&o.setFullYear(floorInBase(o.getFullYear(),p)),o.setMilliseconds(0),g>=n.minute&&o.setSeconds(0),g>=n.hour&&o.setMinutes(0),g>=n.day&&o.setHours(0),g>=4*n.day&&o.setDate(1),g>=2*n.month&&o.setMonth(floorInBase(o.getMonth(),3)),g>=2*n.quarter&&o.setMonth(floorInBase(o.getMonth(),6)),g>=n.year&&o.setMonth(0);var v,m=0,y=Number.NaN;do{if(v=y,y=o.getTime(),e.push(y),"month"==d||"quarter"==d)if(p<1){o.setDate(1);var _=o.getTime();o.setMonth(o.getMonth()+("quarter"==d?3:1));var x=o.getTime();o.setTime(y+m*n.hour+(x-_)*p),m=o.getHours(),o.setHours(0)}else o.setMonth(o.getMonth()+p*("quarter"==d?3:1));else"year"==d?o.setFullYear(o.getFullYear()+p):o.setTime(y+g)}while(y<t.max&&y!=v);return e},e.tickFormatter=function(t,e){var i=dateGenerator(t,e.options);if(null!=r.timeformat)return formatDate(i,r.timeformat,r.monthNames,r.dayNames);var a,o=e.options.tickSize&&"quarter"==e.options.tickSize[1]||e.options.minTickSize&&"quarter"==e.options.minTickSize[1],s=e.tickSize[0]*n[e.tickSize[1]],l=e.max-e.min,c=r.twelveHourClock?" %p":"",u=r.twelveHourClock?"%I":"%H";return a=s<n.minute?u+":%M:%S"+c:s<n.day?l<2*n.day?u+":%M"+c:"%b %d "+u+":%M"+c:s<n.month?"%b %d":o&&s<n.quarter||!o&&s<n.year?l<n.year?"%b":"%b %Y":o&&s<n.year?l<n.year?"Q%q":"Q%q %Y":"%Y",formatDate(i,a,r.monthNames,r.dayNames)})})})}var e={xaxis:{timezone:null,timeformat:null,twelveHourClock:!1,monthNames:null}},n={second:1e3,minute:6e4,hour:36e5,day:864e5,month:2592e6,quarter:7776e6,year:525949.2*60*1e3},r=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"]],i=r.concat([[3,"month"],[6,"month"],[1,"year"]]),a=r.concat([[1,"quarter"],[2,"quarter"],[1,"year"]]);t.plot.plugins.push({init:init,options:e,name:"time",version:"1.0"}),t.plot.formatDate=formatDate,t.plot.dateGenerator=dateGenerator})(t)}).call(e,n(23))},462:function(t,e,n){(function(t){t.extend({plotAnimator:function(e,n,r){function pInit(a){var o=[];o.push([a[0][0],Math.max.apply(Math,a.map(function(t){return t[1]}))]),o.push([a[0][0],null]),o.push([a[0][0],Math.min.apply(Math,a.map(function(t){return t[1]}))]);for(var s=0;s<a.length;s++)o.push([a[s][0],null]);return n[i].data=o,t.plot(e,n,r)}function stepData(){var e=s[0][0],n=s[s.length-1][0],r=(n-e)/u,i=[];i.push(s[0]);var a=1;lPoint=s[0],nPoint=s[a];for(var o=e+r;o<n+r;o+=r){for(o>n&&(o=n),t("#m2").html(o);o>nPoint[0];)lPoint=nPoint,nPoint=s[a++];if(o==nPoint[0])i.push([o,nPoint[1]]),lPoint=nPoint,nPoint=s[a++];else{var l=(nPoint[1]-lPoint[1])/(nPoint[0]-lPoint[0]);curV=l*o+(lPoint[1]-l*lPoint[0]),i.push([o,curV])}}return i}function plotData(){var t=[];switch(p++,f){case"right":t=g.slice(0,p);break;case"left":t=g.slice(-1*p);break;case"center":t=g.slice(g.length/2-p/2,g.length/2+p/2)}if(!c){inV=t[0][0],laV=t[t.length-1][0],t=[];for(var r=0;r<s.length;r++)s[r][0]>=inV&&s[r][0]<=laV&&t.push(s[r])}n[i].data=p<u?t:s,l.setData(n),l.draw(),p<u?setTimeout(plotData,d/u):e.trigger("animatorComplete")}for(var i=0,a=0;a<n.length;a++)n[a].animator&&(i=a);var o=n[i],s=o.data,l=pInit(s),c=!!n[i].lines,u=n[i].animator&&n[i].animator.steps||135,d=n[i].animator&&n[i].animator.duration||1e3,h=n[i].animator&&n[i].animator.start||0,f=n[i].animator&&n[i].animator.direction||"right",p=0,g=stepData();return setTimeout(plotData,h),l}})}).call(e,n(23))},484:function(t,e,n){(function(r){(function(){var i={};i.dev=!1,i.tooltip=i.tooltip||{},i.utils=i.utils||{},i.models=i.models||{},i.charts={},i.logs={},i.dom={},void 0!==t&&void 0!==e&&void 0===r&&(r=n(373)),i.dispatch=r.dispatch("render_start","render_end"),Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),n=this,r=function(){},i=function(){return n.apply(this instanceof r&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,i.prototype=new r,i}),i.dev&&(i.dispatch.on("render_start",function(t){i.logs.startTime=+new Date}),i.dispatch.on("render_end",function(t){i.logs.endTime=+new Date,i.logs.totalTime=i.logs.endTime-i.logs.startTime,i.log("total",i.logs.totalTime)})),i.log=function(){if(i.dev&&window.console&&console.log&&console.log.apply)console.log.apply(console,arguments);else if(i.dev&&window.console&&"function"==typeof console.log&&Function.prototype.bind){var t=Function.prototype.bind.call(console.log,console);t.apply(console,arguments)}return arguments[arguments.length-1]},i.deprecated=function(t,e){console&&console.warn&&console.warn("nvd3 warning: `"+t+"` has been deprecated. ",e||"")},i.render=function(t){t=t||1,i.render.active=!0,i.dispatch.render_start();var e=function(){for(var n,r,a=0;a<t&&(r=i.render.queue[a]);a++)n=r.generate(),typeof r.callback==typeof Function&&r.callback(n);i.render.queue.splice(0,a),i.render.queue.length?setTimeout(e):(i.dispatch.render_end(),i.render.active=!1)};setTimeout(e)},i.render.active=!1,i.render.queue=[],i.addGraph=function(t){typeof arguments[0]==typeof Function&&(t={generate:arguments[0],callback:arguments[1]}),i.render.queue.push(t),i.render.active||i.render()},t.exports=i,"undefined"!=typeof window&&(window.nv=i),i.dom.write=function(t){return void 0!==window.fastdom?fastdom.mutate(t):t()},i.dom.read=function(t){return void 0!==window.fastdom?fastdom.measure(t):t()},i.interactiveGuideline=function(){"use strict";function layer(d){d.each(function(d){function mouseHandler(){var e=r.mouse(this),n=e[0],i=e[1],s=!0,l=!1;if(u&&(n=r.event.offsetX,i=r.event.offsetY,"svg"!==r.event.target.tagName&&(s=!1),r.event.target.className.baseVal.match("nv-legend")&&(l=!0)),s&&(n-=t.left,i-=t.top),"mouseout"===r.event.type||n<0||i<0||n>f||i>p||r.event.relatedTarget&&void 0===r.event.relatedTarget.ownerSVGElement||l){if(u&&r.event.relatedTarget&&void 0===r.event.relatedTarget.ownerSVGElement&&(void 0===r.event.relatedTarget.className||r.event.relatedTarget.className.match(c.nvPointerEventsClass)))return;return o.elementMouseout({mouseX:n,mouseY:i}),layer.renderGuideLine(null),void c.hidden(!0)}c.hidden(!1);var d="function"==typeof a.rangeBands,h=void 0;if(d){var g=r.bisect(a.range(),n)-1;if(!(a.range()[g]+a.rangeBand()>=n))return o.elementMouseout({mouseX:n,mouseY:i}),layer.renderGuideLine(null),void c.hidden(!0);h=a.domain()[r.bisect(a.range(),n)-1]}else h=a.invert(n);o.elementMousemove({mouseX:n,mouseY:i,pointXValue:h}),"dblclick"===r.event.type&&o.elementDblclick({mouseX:n,mouseY:i,pointXValue:h}),"click"===r.event.type&&o.elementClick({mouseX:n,mouseY:i,pointXValue:h}),"mousedown"===r.event.type&&o.elementMouseDown({mouseX:n,mouseY:i,pointXValue:h}),"mouseup"===r.event.type&&o.elementMouseUp({mouseX:n,mouseY:i,pointXValue:h})}var h=r.select(this),f=e||960,p=n||400,g=h.selectAll("g.nv-wrap.nv-interactiveLineLayer").data([d]);g.enter().append("g").attr("class"," nv-wrap nv-interactiveLineLayer").append("g").attr("class","nv-interactiveGuideLine"),l&&(l.on("touchmove",mouseHandler).on("mousemove",mouseHandler,!0).on("mouseout",mouseHandler,!0).on("mousedown",mouseHandler,!0).on("mouseup",mouseHandler,!0).on("dblclick",mouseHandler).on("click",mouseHandler),layer.guideLine=null,layer.renderGuideLine=function(t){s&&(layer.guideLine&&layer.guideLine.attr("x1")===t||i.dom.write(function(){var e=g.select(".nv-interactiveGuideLine").selectAll("line").data(null!=t?[i.utils.NaNtoZero(t)]:[],String);e.enter().append("line").attr("class","nv-guideline").attr("x1",function(t){return t}).attr("x2",function(t){return t}).attr("y1",p).attr("y2",0),e.exit().remove()}))})})}var t={left:0,top:0},e=null,n=null,a=r.scale.linear(),o=r.dispatch("elementMousemove","elementMouseout","elementClick","elementDblclick","elementMouseDown","elementMouseUp"),s=!0,l=null,c=i.models.tooltip(),u=window.ActiveXObject;return c.duration(0).hideDelay(0).hidden(!1),layer.dispatch=o,layer.tooltip=c,layer.margin=function(e){return arguments.length?(t.top=void 0!==e.top?e.top:t.top,t.left=void 0!==e.left?e.left:t.left,layer):t},layer.width=function(t){return arguments.length?(e=t,layer):e},layer.height=function(t){return arguments.length?(n=t,layer):n},layer.xScale=function(t){return arguments.length?(a=t,layer):a},layer.showGuideLine=function(t){return arguments.length?(s=t,layer):s},layer.svgContainer=function(t){return arguments.length?(l=t,layer):l},layer},i.interactiveBisect=function(t,e,n){"use strict";if(!(t instanceof Array))return null;var i;i="function"!=typeof n?function(t){return t.x}:n;var a=function(t,e){return i(t)-e},o=r.bisector(a).left,s=r.max([0,o(t,e)-1]),l=i(t[s]);if(void 0===l&&(l=s),l===e)return s;var c=r.min([s+1,t.length-1]),u=i(t[c]);return void 0===u&&(u=c),Math.abs(u-e)>=Math.abs(l-e)?s:c},i.nearestValueIndex=function(t,e,n){"use strict";var r=1/0,i=null;return t.forEach(function(t,a){var o=Math.abs(e-t);null!=t&&o<=r&&o<n&&(r=o,i=a)}),i},i.models.tooltip=function(){"use strict";function initTooltip(){if(!u||!u.node()){var e=[1];u=r.select(document.body).selectAll(".nvtooltip").data(e),u.enter().append("div").attr("class","nvtooltip "+(s||"xy-tooltip")).attr("id",t).style("top",0).style("left",0).style("opacity",0).style("position","fixed").selectAll("div, table, td, tr").classed(g,!0).classed(g,!0),u.exit().remove()}}function nvtooltip(){if(h&&b(e))return i.dom.write(function(){initTooltip();var t=_(e);t&&(u.node().innerHTML=t),w()}),nvtooltip}var t="nvtooltip-"+Math.floor(1e5*Math.random()),e=null,n="w",a=25,o=0,s=null,l=!0,c=200,u=null,d={left:null,top:null},h=!0,f=100,p=!0,g="nv-pointer-events-none",v=function(t,e){return t},m=function(t){return t},y=function(t,e){return t},_=function(t){if(null===t)return"";var e=r.select(document.createElement("table"));if(p){e.selectAll("thead").data([t]).enter().append("thead").append("tr").append("td").attr("colspan",3).append("strong").classed("x-value",!0).html(m(t.value))}var n=e.selectAll("tbody").data([t]).enter().append("tbody"),i=n.selectAll("tr").data(function(t){return t.series}).enter().append("tr").classed("highlight",function(t){return t.highlight});i.append("td").classed("legend-color-guide",!0).append("div").style("background-color",function(t){return t.color}),i.append("td").classed("key",!0).classed("total",function(t){return!!t.total}).html(function(t,e){return y(t.key,e)}),i.append("td").classed("value",!0).html(function(t,e){return v(t.value,e)}),i.filter(function(t,e){return void 0!==t.percent}).append("td").classed("percent",!0).html(function(t,e){return"("+r.format("%")(t.percent)+")"}),i.selectAll("td").each(function(t){if(t.highlight){var e=r.scale.linear().domain([0,1]).range(["#fff",t.color]),n=.6;r.select(this).style("border-bottom-color",e(n)).style("border-top-color",e(n))}});var a=e.node().outerHTML;return void 0!==t.footer&&(a+="<div class='footer'>"+t.footer+"</div>"),a},x=function(){var t={left:null!==r.event?r.event.clientX:0,top:null!==r.event?r.event.clientY:0};if("none"!=getComputedStyle(document.body).transform){var e=document.body.getBoundingClientRect();t.left-=e.left,t.top-=e.top}return t},b=function(t){if(t&&t.series){if(i.utils.isArray(t.series))return!0;if(i.utils.isObject(t.series))return t.series=[t.series],!0}return!1},k=function(t){var e,r,i,o=u.node().offsetHeight,s=u.node().offsetWidth,l=document.documentElement.clientWidth,c=document.documentElement.clientHeight;switch(n){case"e":e=-s-a,r=-o/2,t.left+e<0&&(e=a),(i=t.top+r)<0&&(r-=i),(i=t.top+r+o)>c&&(r-=i-c);break;case"w":e=a,r=-o/2,t.left+e+s>l&&(e=-s-a),(i=t.top+r)<0&&(r-=i),(i=t.top+r+o)>c&&(r-=i-c);break;case"n":e=-s/2-5,r=a,t.top+r+o>c&&(r=-o-a),(i=t.left+e)<0&&(e-=i),(i=t.left+e+s)>l&&(e-=i-l);break;case"s":e=-s/2,r=-o-a,t.top+r<0&&(r=a),(i=t.left+e)<0&&(e-=i),(i=t.left+e+s)>l&&(e-=i-l);break;case"center":e=-s/2,r=-o/2;break;default:e=0,r=0}return{left:e,top:r}},w=function(){i.dom.read(function(){var t=x(),e=k(t),n=t.left+e.left,i=t.top+e.top;if(l)u.interrupt().transition().delay(c).duration(0).style("opacity",0);else{var a="translate("+d.left+"px, "+d.top+"px)",o="translate("+Math.round(n)+"px, "+Math.round(i)+"px)",s=r.interpolateString(a,o),h=u.style("opacity")<.1;u.interrupt().transition().duration(h?0:f).styleTween("transform",function(t){return s},"important").styleTween("-webkit-transform",function(t){return s}).style("-ms-transform",o).style("opacity",1)}d.left=n,d.top=i})};return nvtooltip.nvPointerEventsClass=g,nvtooltip.options=i.utils.optionsFunc.bind(nvtooltip),nvtooltip._options=Object.create({},{duration:{get:function(){return f},set:function(t){f=t}},gravity:{get:function(){return n},set:function(t){n=t}},distance:{get:function(){return a},set:function(t){a=t}},snapDistance:{get:function(){return o},set:function(t){o=t}},classes:{get:function(){return s},set:function(t){s=t}},enabled:{get:function(){return h},set:function(t){h=t}},hideDelay:{get:function(){return c},set:function(t){c=t}},contentGenerator:{get:function(){return _},set:function(t){_=t}},valueFormatter:{get:function(){return v},set:function(t){v=t}},headerFormatter:{get:function(){return m},set:function(t){m=t}},keyFormatter:{get:function(){return y},set:function(t){y=t}},headerEnabled:{get:function(){return p},set:function(t){p=t}},position:{get:function(){return x},set:function(t){x=t}},chartContainer:{get:function(){return document.body},set:function(t){i.deprecated("chartContainer","feature removed after 1.8.3")}},fixedTop:{get:function(){return null},set:function(t){i.deprecated("fixedTop","feature removed after 1.8.1")}},offset:{get:function(){return{left:0,top:0}},set:function(t){i.deprecated("offset","use chart.tooltip.distance() instead")}},hidden:{get:function(){return l},set:function(t){l!=t&&(l=!!t,nvtooltip())}},data:{get:function(){return e},set:function(t){t.point&&(t.value=t.point.x,t.series=t.series||{},t.series.value=t.point.y,t.series.color=t.point.color||t.series.color),e=t}},node:{get:function(){return u.node()},set:function(t){}},id:{get:function(){return t},set:function(t){}}}),i.utils.initOptions(nvtooltip),nvtooltip},i.utils.windowSize=function(){var t={width:640,height:480};return window.innerWidth&&window.innerHeight?(t.width=window.innerWidth,t.height=window.innerHeight,t):"CSS1Compat"==document.compatMode&&document.documentElement&&document.documentElement.offsetWidth?(t.width=document.documentElement.offsetWidth,t.height=document.documentElement.offsetHeight,t):document.body&&document.body.offsetWidth?(t.width=document.body.offsetWidth,t.height=document.body.offsetHeight,t):t},i.utils.isArray=Array.isArray,i.utils.isObject=function(t){return null!==t&&"object"==typeof t},i.utils.isFunction=function(t){return"function"==typeof t},i.utils.isDate=function(t){return"[object Date]"===toString.call(t)},i.utils.isNumber=function(t){return!isNaN(t)&&"number"==typeof t},i.utils.windowResize=function(t){return window.addEventListener?window.addEventListener("resize",t):i.log("ERROR: Failed to bind to window.resize with: ",t),{callback:t,clear:function(){window.removeEventListener("resize",t)}}},i.utils.getColor=function(t){if(void 0===t)return i.utils.defaultColor();if(i.utils.isArray(t)){var e=r.scale.ordinal().range(t);return function(t,n){var r=void 0===n?t:n;return t.color||e(r)}}return t},i.utils.defaultColor=function(){return i.utils.getColor(r.scale.category20().range())},i.utils.customTheme=function(t,e,n){e=e||function(t){return t.key},n=n||r.scale.category20().range();var a=n.length;return function(r,o){var s=e(r);return i.utils.isFunction(t[s])?t[s]():void 0!==t[s]?t[s]:(a||(a=n.length),a-=1,n[a])}},i.utils.pjax=function(t,e){var n=function(n){r.html(n,function(n){var a=r.select(e).node();a.parentNode.replaceChild(r.select(n).select(e).node(),a),i.utils.pjax(t,e)})};r.selectAll(t).on("click",function(){history.pushState(this.href,this.textContent,this.href),n(this.href),r.event.preventDefault()}),r.select(window).on("popstate",function(){r.event.state&&n(r.event.state)})},i.utils.calcApproxTextWidth=function(t){if(i.utils.isFunction(t.style)&&i.utils.isFunction(t.text)){var e=parseInt(t.style("font-size").replace("px",""),10),n=t.text().length;return i.utils.NaNtoZero(n*e*.5)}return 0},i.utils.NaNtoZero=function(t){return!i.utils.isNumber(t)||isNaN(t)||null===t||t===1/0||t===-1/0?0:t},r.selection.prototype.watchTransition=function(t){var e=[this].concat([].slice.call(arguments,1));return t.transition.apply(t,e)},i.utils.renderWatch=function(t,e){if(!(this instanceof i.utils.renderWatch))return new i.utils.renderWatch(t,e);var n=void 0!==e?e:250,r=[],a=this;this.models=function(t){return t=[].slice.call(arguments,0),t.forEach(function(t){t.__rendered=!1,function(t){t.dispatch.on("renderEnd",function(e){t.__rendered=!0,a.renderEnd("model")})}(t),r.indexOf(t)<0&&r.push(t)}),this},this.reset=function(t){void 0!==t&&(n=t),r=[]},this.transition=function(t,e,i){if(e=arguments.length>1?[].slice.call(arguments,1):[],i=e.length>1?e.pop():void 0!==n?n:250,t.__rendered=!1,r.indexOf(t)<0&&r.push(t),0===i)return t.__rendered=!0,t.delay=function(){return this},t.duration=function(){return this},t;0===t.length?t.__rendered=!0:t.every(function(t){return!t.length})?t.__rendered=!0:t.__rendered=!1;var o=0;return t.transition().duration(i).each(function(){++o}).each("end",function(n,r){0==--o&&(t.__rendered=!0,a.renderEnd.apply(this,e))})},this.renderEnd=function(){r.every(function(t){return t.__rendered})&&(r.forEach(function(t){t.__rendered=!1}),t.renderEnd.apply(this,arguments))}},i.utils.deepExtend=function(t){(arguments.length>1?[].slice.call(arguments,1):[]).forEach(function(e){for(var n in e){var r=i.utils.isArray(t[n]),a=i.utils.isObject(t[n]),o=i.utils.isObject(e[n]);a&&!r&&o?i.utils.deepExtend(t[n],e[n]):t[n]=e[n]}})},i.utils.state=function(){if(!(this instanceof i.utils.state))return new i.utils.state;var t={},e=function(){},n=function(){return{}},a=null,o=null;this.dispatch=r.dispatch("change","set"),this.dispatch.on("set",function(t){e(t,!0)}),this.getter=function(t){return n=t,this},this.setter=function(t,n){return n||(n=function(){}),e=function(e,r){t(e),r&&n()},this},this.init=function(t){a=a||{},i.utils.deepExtend(a,t)};var s=function(){var e=n();if(JSON.stringify(e)===JSON.stringify(t))return!1;for(var r in e)void 0===t[r]&&(t[r]={}),t[r]=e[r],o=!0;return!0};this.update=function(){a&&(e(a,!1),a=null),s.call(this)&&this.dispatch.change(t)}},i.utils.optionsFunc=function(t){return t&&r.map(t).forEach(function(t,e){i.utils.isFunction(this[t])&&this[t](e)}.bind(this)),this},i.utils.calcTicksX=function(t,e){var n=1,r=0;for(r;r<e.length;r+=1){var a=e[r]&&e[r].values?e[r].values.length:0;n=a>n?a:n}return i.log("Requested number of ticks: ",t),i.log("Calculated max values to be: ",n),t=t>n?t=n-1:t,t=t<1?1:t,t=Math.floor(t),i.log("Calculating tick count as: ",t),t},i.utils.calcTicksY=function(t,e){return i.utils.calcTicksX(t,e)},i.utils.initOption=function(t,e){t._calls&&t._calls[e]?t[e]=t._calls[e]:(t[e]=function(n){return arguments.length?(t._overrides[e]=!0,t._options[e]=n,t):t._options[e]},t["_"+e]=function(n){return arguments.length?(t._overrides[e]||(t._options[e]=n),t):t._options[e]})},i.utils.initOptions=function(t){t._overrides=t._overrides||{};var e=Object.getOwnPropertyNames(t._options||{}),n=Object.getOwnPropertyNames(t._calls||{});e=e.concat(n);for(var r in e)i.utils.initOption(t,e[r])},i.utils.inheritOptionsD3=function(t,e,n){t._d3options=n.concat(t._d3options||[]),n.unshift(e),n.unshift(t),r.rebind.apply(this,n)},i.utils.arrayUnique=function(t){return t.sort().filter(function(e,n){return!n||e!=t[n-1]})},i.utils.symbolMap=r.map(),i.utils.symbol=function(){function symbol(n,a){var o=t.call(this,n,a),s=e.call(this,n,a);return-1!==r.svg.symbolTypes.indexOf(o)?r.svg.symbol().type(o).size(s)():i.utils.symbolMap.get(o)(s)}var t,e=64;return symbol.type=function(e){return arguments.length?(t=r.functor(e),symbol):t},symbol.size=function(t){return arguments.length?(e=r.functor(t),symbol):e},symbol},i.utils.inheritOptions=function(t,e){var n=Object.getOwnPropertyNames(e._options||{}),a=Object.getOwnPropertyNames(e._calls||{}),o=e._inherited||[],s=e._d3options||[],l=n.concat(a).concat(o).concat(s);l.unshift(e),l.unshift(t),r.rebind.apply(this,l),t._inherited=i.utils.arrayUnique(n.concat(a).concat(o).concat(n).concat(t._inherited||[])),t._d3options=i.utils.arrayUnique(s.concat(t._d3options||[]))},i.utils.initSVG=function(t){t.classed({"nvd3-svg":!0})},i.utils.sanitizeHeight=function(t,e){return t||parseInt(e.style("height"),10)||400},i.utils.sanitizeWidth=function(t,e){return t||parseInt(e.style("width"),10)||960},i.utils.availableHeight=function(t,e,n){return Math.max(0,i.utils.sanitizeHeight(t,e)-n.top-n.bottom)},i.utils.availableWidth=function(t,e,n){return Math.max(0,i.utils.sanitizeWidth(t,e)-n.left-n.right)},i.utils.noData=function(t,e){var n=t.options(),r=n.margin(),a=n.noData(),o=null==a?["No Data Available."]:[a],s=i.utils.availableHeight(null,e,r),l=i.utils.availableWidth(null,e,r),c=r.left+l/2,u=r.top+s/2;e.selectAll("g").remove();var d=e.selectAll(".nv-noData").data(o);d.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),d.attr("x",c).attr("y",u).text(function(t){return t})},i.utils.wrapTicks=function(t,e){t.each(function(){for(var t,n=r.select(this),i=n.text().split(/\s+/).reverse(),a=[],o=0,s=1.1,l=n.attr("y"),c=parseFloat(n.attr("dy")),u=n.text(null).append("tspan").attr("x",0).attr("y",l).attr("dy",c+"em");t=i.pop();)a.push(t),u.text(a.join(" ")),u.node().getComputedTextLength()>e&&(a.pop(),u.text(a.join(" ")),a=[t],u=n.append("tspan").attr("x",0).attr("y",l).attr("dy",++o*s+c+"em").text(t))})},i.utils.arrayEquals=function(t,e){if(t===e)return!0;if(!t||!e)return!1;if(t.length!=e.length)return!1;for(var n=0,r=t.length;n<r;n++)if(t[n]instanceof Array&&e[n]instanceof Array){if(!i.arrayEquals(t[n],e[n]))return!1}else if(t[n]!=e[n])return!1;return!0},i.models.axis=function(){"use strict";function chart(o){return _.reset(),o.each(function(o){var v=r.select(this);i.utils.initSVG(v);var m=v.selectAll("g.nv-wrap.nv-axis").data([o]),x=m.enter().append("g").attr("class","nvd3 nv-wrap nv-axis"),b=(x.append("g"),m.select("g"));null!==f?t.ticks(f):"top"!=t.orient()&&"bottom"!=t.orient()||t.ticks(Math.abs(e.range()[1]-e.range()[0])/100),b.watchTransition(_,"axis").call(t),y=y||t.scale();var k=t.tickFormat();null==k&&(k=y.tickFormat());var w=b.selectAll("text.nv-axislabel").data([s||null]);w.exit().remove(),void 0!==g&&b.selectAll("g").select("text").style("font-size",g);var M,C,S;switch(t.orient()){case"top":w.enter().append("text").attr("class","nv-axislabel"),S=0,1===e.range().length?S=h?2*e.range()[0]+e.rangeBand():0:2===e.range().length?S=h?e.range()[0]+e.range()[1]+e.rangeBand():e.range()[1]:e.range().length>2&&(S=e.range()[e.range().length-1]+(e.range()[1]-e.range()[0])),w.attr("text-anchor","middle").attr("y",0).attr("x",S/2),l&&(C=m.selectAll("g.nv-axisMaxMin").data(e.domain()),C.enter().append("g").attr("class",function(t,e){return["nv-axisMaxMin","nv-axisMaxMin-x",0==e?"nv-axisMin-x":"nv-axisMax-x"].join(" ")}).append("text"),C.exit().remove(),C.attr("transform",function(t,n){return"translate("+i.utils.NaNtoZero(e(t))+",0)"}).select("text").attr("dy","-0.5em").attr("y",-t.tickPadding()).attr("text-anchor","middle").text(function(t,e){var n=k(t);return(""+n).match("NaN")?"":n}),C.watchTransition(_,"min-max top").attr("transform",function(t,n){return"translate("+i.utils.NaNtoZero(e.range()[n])+",0)"}));break;case"bottom":M=p+36;var A=30,E=0,T=b.selectAll("g").select("text"),L="";if(c%360){T.attr("transform",""),T.each(function(t,e){var n=this.getBoundingClientRect(),r=n.width;E=n.height,r>A&&(A=r)}),L="rotate("+c+" 0,"+(E/2+t.tickPadding())+")";var D=Math.abs(Math.sin(c*Math.PI/180));M=(D?D*A:A)+30,T.attr("transform",L).style("text-anchor",c%360>0?"start":"end")}else d?T.attr("transform",function(t,e){return"translate(0,"+(e%2==0?"0":"12")+")"}):T.attr("transform","translate(0,0)");w.enter().append("text").attr("class","nv-axislabel"),S=0,1===e.range().length?S=h?2*e.range()[0]+e.rangeBand():0:2===e.range().length?S=h?e.range()[0]+e.range()[1]+e.rangeBand():e.range()[1]:e.range().length>2&&(S=e.range()[e.range().length-1]+(e.range()[1]-e.range()[0])),w.attr("text-anchor","middle").attr("y",M).attr("x",S/2),l&&(C=m.selectAll("g.nv-axisMaxMin").data([e.domain()[0],e.domain()[e.domain().length-1]]),C.enter().append("g").attr("class",function(t,e){return["nv-axisMaxMin","nv-axisMaxMin-x",0==e?"nv-axisMin-x":"nv-axisMax-x"].join(" ")}).append("text"),C.exit().remove(),C.attr("transform",function(t,n){return"translate("+i.utils.NaNtoZero(e(t)+(h?e.rangeBand()/2:0))+",0)"}).select("text").attr("dy",".71em").attr("y",t.tickPadding()).attr("transform",L).style("text-anchor",c?c%360>0?"start":"end":"middle").text(function(t,e){var n=k(t);return(""+n).match("NaN")?"":n}),C.watchTransition(_,"min-max bottom").attr("transform",function(t,n){return"translate("+i.utils.NaNtoZero(e(t)+(h?e.rangeBand()/2:0))+",0)"}));break;case"right":w.enter().append("text").attr("class","nv-axislabel"),w.style("text-anchor",u?"middle":"begin").attr("transform",u?"rotate(90)":"").attr("y",u?12-Math.max(n.right,a)-(p||0):-10).attr("x",u?r.max(e.range())/2:t.tickPadding()),l&&(C=m.selectAll("g.nv-axisMaxMin").data(e.domain()),C.enter().append("g").attr("class",function(t,e){return["nv-axisMaxMin","nv-axisMaxMin-y",0==e?"nv-axisMin-y":"nv-axisMax-y"].join(" ")}).append("text").style("opacity",0),C.exit().remove(),C.attr("transform",function(t,n){return"translate(0,"+i.utils.NaNtoZero(e(t))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",t.tickPadding()).style("text-anchor","start").text(function(t,e){var n=k(t);return(""+n).match("NaN")?"":n}),C.watchTransition(_,"min-max right").attr("transform",function(t,n){return"translate(0,"+i.utils.NaNtoZero(e.range()[n])+")"}).select("text").style("opacity",1));break;case"left":w.enter().append("text").attr("class","nv-axislabel"),w.style("text-anchor",u?"middle":"end").attr("transform",u?"rotate(-90)":"").attr("y",u?25-Math.max(n.left,a)-(p||0):-10).attr("x",u?-r.max(e.range())/2:-t.tickPadding()),l&&(C=m.selectAll("g.nv-axisMaxMin").data(e.domain()),C.enter().append("g").attr("class",function(t,e){return["nv-axisMaxMin","nv-axisMaxMin-y",0==e?"nv-axisMin-y":"nv-axisMax-y"].join(" ")}).append("text").style("opacity",0),C.exit().remove(),C.attr("transform",function(t,e){return"translate(0,"+i.utils.NaNtoZero(y(t))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",-t.tickPadding()).attr("text-anchor","end").text(function(t,e){var n=k(t);return(""+n).match("NaN")?"":n}),C.watchTransition(_,"min-max right").attr("transform",function(t,n){return"translate(0,"+i.utils.NaNtoZero(e.range()[n])+")"}).select("text").style("opacity",1))}if(w.text(function(t){return t}),!l||"left"!==t.orient()&&"right"!==t.orient()||(b.selectAll("g").each(function(t,n){r.select(this).select("text").attr("opacity",1),(e(t)<e.range()[1]+10||e(t)>e.range()[0]-10)&&((t>1e-10||t<-1e-10)&&r.select(this).attr("opacity",0),r.select(this).select("text").attr("opacity",0))}),e.domain()[0]==e.domain()[1]&&0==e.domain()[0]&&m.selectAll("g.nv-axisMaxMin").style("opacity",function(t,e){return e?0:1})),l&&("top"===t.orient()||"bottom"===t.orient())){var F=[];m.selectAll("g.nv-axisMaxMin").each(function(t,n){try{n?F.push(e(t)-this.getBoundingClientRect().width-4):F.push(e(t)+this.getBoundingClientRect().width+4)}catch(r){n?F.push(e(t)-4):F.push(e(t)+4)}}),b.selectAll("g").each(function(t,n){(e(t)<F[0]||e(t)>F[1])&&(t>1e-10||t<-1e-10?r.select(this).remove():r.select(this).select("text").remove())})}b.selectAll(".tick").filter(function(t){return!parseFloat(Math.round(1e5*t)/1e6)&&void 0!==t}).classed("zero",!0),y=e.copy()}),_.renderEnd("axis immediate"),chart}var t=r.svg.axis(),e=r.scale.linear(),n={top:0,right:0,bottom:0,left:0},a=75,o=60,s=null,l=!0,c=0,u=!0,d=!1,h=!1,f=null,p=0,g=void 0,v=250,m=r.dispatch("renderEnd");t.scale(e).orient("bottom").tickFormat(function(t){return t});var y,_=i.utils.renderWatch(m,v);return chart.axis=t,chart.dispatch=m,chart.options=i.utils.optionsFunc.bind(chart),chart._options=Object.create({},{axisLabelDistance:{get:function(){return p},set:function(t){p=t}},staggerLabels:{get:function(){return d},set:function(t){d=t}},rotateLabels:{get:function(){return c},set:function(t){c=t}},rotateYLabel:{get:function(){return u},set:function(t){u=t}},showMaxMin:{get:function(){return l},set:function(t){l=t}},axisLabel:{get:function(){return s},set:function(t){s=t}},height:{get:function(){return o},set:function(t){o=t}},ticks:{get:function(){return f},set:function(t){f=t}},width:{get:function(){return a},set:function(t){a=t}},fontSize:{get:function(){return g},set:function(t){g=t}},margin:{get:function(){return n},set:function(t){n.top=void 0!==t.top?t.top:n.top,n.right=void 0!==t.right?t.right:n.right,n.bottom=void 0!==t.bottom?t.bottom:n.bottom,n.left=void 0!==t.left?t.left:n.left}},duration:{get:function(){return v},set:function(t){v=t,_.reset(v)}},scale:{get:function(){return e},set:function(n){e=n,t.scale(e),h="function"==typeof e.rangeBands,i.utils.inheritOptionsD3(chart,e,["domain","range","rangeBand","rangeBands"])}}}),i.utils.initOptions(chart),i.utils.inheritOptionsD3(chart,t,["orient","tickValues","tickSubdivide","tickSize","tickPadding","tickFormat"]),i.utils.inheritOptionsD3(chart,e,["domain","range","rangeBand","rangeBands"]),chart},i.models.boxPlot=function(){"use strict";function chart(d){return L.reset(),d.each(function(d){var D=c-l.left-l.right,F=u-l.top-l.bottom;S=r.select(this),i.utils.initSVG(S),h.domain(t||d.map(function(t,e){return p(t,e)})).rangeBands(e||[0,D],.1);var N=[];if(!n){var P,z,R=[];d.forEach(function(t,e){var n=g(t),r=m(t),i=y(t),a=_(t),o=b(t);o&&o.forEach(function(t,e){R.push(k(t,e,void 0))}),i&&R.push(i),n&&R.push(n),r&&R.push(r),a&&R.push(a)}),P=r.min(R),z=r.max(R),N=[P,z]}f.domain(n||N),f.range(a||[F,0]),o=o||h,s=s||f.copy().range([f(0),f(0)]);var B=S.selectAll("g.nv-wrap").data([d]);B.enter().append("g").attr("class","nvd3 nv-wrap");B.attr("transform","translate("+l.left+","+l.top+")");var I=B.selectAll(".nv-boxplot").data(function(t){return t}),W=I.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);I.attr("class","nv-boxplot").attr("transform",function(t,e,n){return"translate("+(h(p(t,e))+.05*h.rangeBand())+", 0)"}).classed("hover",function(t){return t.hover}),I.watchTransition(L,"nv-boxplot: boxplots").style("stroke-opacity",1).style("fill-opacity",.75).delay(function(t,e){return e*E/d.length}).attr("transform",function(t,e){return"translate("+(h(p(t,e))+.05*h.rangeBand())+", 0)"}),I.exit().remove(),W.each(function(t,e){var n=r.select(this);[y,_].forEach(function(r){if(r(t)){var i=r===y?"low":"high";n.append("line").style("stroke",x(t)||C(t,e)).attr("class","nv-boxplot-whisker nv-boxplot-"+i),n.append("line").style("stroke",x(t)||C(t,e)).attr("class","nv-boxplot-tick nv-boxplot-"+i)}})});var O=function(){return null===T?.9*h.rangeBand():Math.min(75,.9*h.rangeBand())},H=function(){return.45*h.rangeBand()-O()/2},G=function(){return.45*h.rangeBand()+O()/2};[y,_].forEach(function(t){var e=t===y?"low":"high",n=t===y?g:m;I.select("line.nv-boxplot-whisker.nv-boxplot-"+e).watchTransition(L,"nv-boxplot: boxplots").attr("x1",.45*h.rangeBand()).attr("y1",function(e,n){return f(t(e))}).attr("x2",.45*h.rangeBand()).attr("y2",function(t,e){return f(n(t))}),I.select("line.nv-boxplot-tick.nv-boxplot-"+e).watchTransition(L,"nv-boxplot: boxplots").attr("x1",H).attr("y1",function(e,n){return f(t(e))}).attr("x2",G).attr("y2",function(e,n){return f(t(e))})}),[y,_].forEach(function(t){var e=t===y?"low":"high";W.selectAll(".nv-boxplot-"+e).on("mouseover",function(e,n,i){r.select(this).classed("hover",!0),A.elementMouseover({series:{key:t(e),color:x(e)||C(e,i)},e:r.event})}).on("mouseout",function(e,n,i){r.select(this).classed("hover",!1),A.elementMouseout({series:{key:t(e),color:x(e)||C(e,i)},e:r.event})}).on("mousemove",function(t,e){A.elementMousemove({e:r.event})})}),W.append("rect").attr("class","nv-boxplot-box").on("mouseover",function(t,e){r.select(this).classed("hover",!0),A.elementMouseover({key:p(t),value:p(t),series:[{key:"Q3",value:m(t),color:x(t)||C(t,e)},{key:"Q2",value:v(t),color:x(t)||C(t,e)},{key:"Q1",value:g(t),color:x(t)||C(t,e)}],data:t,index:e,e:r.event})}).on("mouseout",function(t,e){r.select(this).classed("hover",!1),A.elementMouseout({key:p(t),value:p(t),series:[{key:"Q3",value:m(t),color:x(t)||C(t,e)},{key:"Q2",value:v(t),color:x(t)||C(t,e)},{key:"Q1",value:g(t),color:x(t)||C(t,e)}],data:t,index:e,e:r.event})}).on("mousemove",function(t,e){A.elementMousemove({e:r.event})}),I.select("rect.nv-boxplot-box").watchTransition(L,"nv-boxplot: boxes").attr("y",function(t,e){return f(m(t))}).attr("width",O).attr("x",H).attr("height",function(t,e){return Math.abs(f(m(t))-f(g(t)))||1}).style("fill",function(t,e){return x(t)||C(t,e)}).style("stroke",function(t,e){return x(t)||C(t,e)}),W.append("line").attr("class","nv-boxplot-median"),I.select("line.nv-boxplot-median").watchTransition(L,"nv-boxplot: boxplots line").attr("x1",H).attr("y1",function(t,e){return f(v(t))}).attr("x2",G).attr("y2",function(t,e){return f(v(t))});var j=I.selectAll(".nv-boxplot-outlier").data(function(t){return b(t)||[]});j.enter().append("circle").style("fill",function(t,e,n){return M(t,e,n)||C(t,n)}).style("stroke",function(t,e,n){return M(t,e,n)||C(t,n)}).style("z-index",9e3).on("mouseover",function(t,e,n){r.select(this).classed("hover",!0),A.elementMouseover({series:{key:w(t,e,n),color:M(t,e,n)||C(t,n)},e:r.event})}).on("mouseout",function(t,e,n){r.select(this).classed("hover",!1),A.elementMouseout({series:{key:w(t,e,n),color:M(t,e,n)||C(t,n)},e:r.event})}).on("mousemove",function(t,e){A.elementMousemove({e:r.event})}),j.attr("class","nv-boxplot-outlier"),j.watchTransition(L,"nv-boxplot: nv-boxplot-outlier").attr("cx",.45*h.rangeBand()).attr("cy",function(t,e,n){return f(k(t,e,n))}).attr("r","3"),j.exit().remove(),o=h.copy(),s=f.copy()}),L.renderEnd("nv-boxplot immediate"),chart}var t,e,n,a,o,s,l={top:0,right:0,bottom:0,left:0},c=960,u=500,d=Math.floor(1e4*Math.random()),h=r.scale.ordinal(),f=r.scale.linear(),p=function(t){return t.label},g=function(t){return t.values.Q1},v=function(t){return t.values.Q2},m=function(t){return t.values.Q3},y=function(t){return t.values.whisker_low},_=function(t){return t.values.whisker_high},x=function(t){return t.color},b=function(t){return t.values.outliers},k=function(t,e,n){return t},w=function(t,e,n){return t},M=function(t,e,n){},C=i.utils.defaultColor(),S=null,A=r.dispatch("elementMouseover","elementMouseout","elementMousemove","renderEnd"),E=250,T=null,L=i.utils.renderWatch(A,E);return chart.dispatch=A,chart.options=i.utils.optionsFunc.bind(chart),chart._options=Object.create({},{width:{get:function(){return c},set:function(t){c=t}},height:{get:function(){return u},set:function(t){u=t}},maxBoxWidth:{get:function(){return T},set:function(t){T=t}},x:{get:function(){return p},set:function(t){p=t}},q1:{get:function(){return g},set:function(t){g=t}},q2:{get:function(){return v},set:function(t){v=t}},q3:{get:function(){return m},set:function(t){m=t}},wl:{get:function(){return y},set:function(t){y=t}},wh:{get:function(){return _},set:function(t){_=t}},itemColor:{get:function(){return x},set:function(t){x=t}},outliers:{get:function(){return b},set:function(t){b=t}},outlierValue:{get:function(){return k},set:function(t){k=t}},outlierLabel:{get:function(){return w},set:function(t){w=t}},outlierColor:{get:function(){return M},set:function(t){M=t}},xScale:{get:function(){return h},set:function(t){h=t}},yScale:{get:function(){return f},set:function(t){f=t}},xDomain:{get:function(){return t},set:function(e){t=e}},yDomain:{get:function(){return n},set:function(t){n=t}},xRange:{get:function(){return e},set:function(t){e=t}},yRange:{get:function(){return a},set:function(t){a=t}},id:{get:function(){return d},set:function(t){d=t}},y:{get:function(){return console.warn("BoxPlot 'y' chart option is deprecated. Please use model overrides instead."),{}},set:function(t){console.warn("BoxPlot 'y' chart option is deprecated. Please use model overrides instead.")}},margin:{get:function(){return l},set:function(t){l.top=void 0!==t.top?t.top:l.top,l.right=void 0!==t.right?t.right:l.right,l.bottom=void 0!==t.bottom?t.bottom:l.bottom,l.left=void 0!==t.left?t.left:l.left}},color:{get:function(){return C},set:function(t){C=i.utils.getColor(t)}},duration:{get:function(){return E},set:function(t){E=t,L.reset(E)}}}),i.utils.initOptions(chart),chart},i.models.boxPlotChart=function(){"use strict";function chart(u){return _.reset(),_.models(n),d&&_.models(a),h&&_.models(o),u.each(function(u){var g=r.select(this);i.utils.initSVG(g);var _=(l||parseInt(g.style("width"))||960)-s.left-s.right,x=(c||parseInt(g.style("height"))||400)-s.top-s.bottom;if(chart.update=function(){m.beforeUpdate(),g.transition().duration(y).call(chart)},chart.container=this,!u||!u.length){var b=g.selectAll(".nv-noData").data([v]);return b.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),b.attr("x",s.left+_/2).attr("y",s.top+x/2).text(function(t){return t}),chart}g.selectAll(".nv-noData").remove(),t=n.xScale(),e=n.yScale().clamp(!0);var k=g.selectAll("g.nv-wrap.nv-boxPlotWithAxes").data([u]),w=k.enter().append("g").attr("class","nvd3 nv-wrap nv-boxPlotWithAxes").append("g"),M=w.append("defs"),C=k.select("g");if(w.append("g").attr("class","nv-x nv-axis"),w.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),w.append("g").attr("class","nv-barsWrap"),C.attr("transform","translate("+s.left+","+s.top+")"),f&&C.select(".nv-y.nv-axis").attr("transform","translate("+_+",0)"),n.width(_).height(x),C.select(".nv-barsWrap").datum(u.filter(function(t){return!t.disabled})).transition().call(n),M.append("clipPath").attr("id","nv-x-label-clip-"+n.id()).append("rect"),C.select("#nv-x-label-clip-"+n.id()+" rect").attr("width",t.rangeBand()*(p?2:1)).attr("height",16).attr("x",-t.rangeBand()/(p?1:2)),d){a.scale(t).ticks(i.utils.calcTicksX(_/100,u)).tickSize(-x,0),C.select(".nv-x.nv-axis").attr("transform","translate(0,"+e.range()[0]+")"),C.select(".nv-x.nv-axis").call(a);var S=C.select(".nv-x.nv-axis").selectAll("g");p&&S.selectAll("text").attr("transform",function(t,e,n){return"translate(0,"+(n%2==0?"5":"17")+")"})}h&&(o.scale(e).ticks(Math.floor(x/36)).tickSize(-_,0),C.select(".nv-y.nv-axis").call(o)),C.select(".nv-zeroLine line").attr("x1",0).attr("x2",_).attr("y1",e(0)).attr("y2",e(0))}),_.renderEnd("nv-boxplot chart immediate"),chart}var t,e,n=i.models.boxPlot(),a=i.models.axis(),o=i.models.axis(),s={top:15,right:10,bottom:50,left:60},l=null,c=null,u=i.utils.getColor(),d=!0,h=!0,f=!1,p=!1,g=i.models.tooltip(),v="No Data Available.",m=r.dispatch("beforeUpdate","renderEnd"),y=250;a.orient("bottom").showMaxMin(!1).tickFormat(function(t){return t}),o.orient(f?"right":"left").tickFormat(r.format(",.1f")),g.duration(0);var _=i.utils.renderWatch(m,y);return n.dispatch.on("elementMouseover.tooltip",function(t){g.data(t).hidden(!1)}),n.dispatch.on("elementMouseout.tooltip",function(t){g.data(t).hidden(!0)}),n.dispatch.on("elementMousemove.tooltip",function(t){g()}),chart.dispatch=m,chart.boxplot=n,chart.xAxis=a,chart.yAxis=o,chart.tooltip=g,chart.options=i.utils.optionsFunc.bind(chart),chart._options=Object.create({},{width:{get:function(){return l},set:function(t){l=t}},height:{get:function(){return c},set:function(t){c=t}},staggerLabels:{get:function(){return p},set:function(t){p=t}},showXAxis:{get:function(){return d},set:function(t){d=t}},showYAxis:{get:function(){return h},set:function(t){h=t}},tooltipContent:{get:function(){return g},set:function(t){g=t}},noData:{get:function(){return v},set:function(t){v=t}},margin:{get:function(){return s},set:function(t){s.top=void 0!==t.top?t.top:s.top,s.right=void 0!==t.right?t.right:s.right,s.bottom=void 0!==t.bottom?t.bottom:s.bottom,s.left=void 0!==t.left?t.left:s.left}},duration:{get:function(){return y},set:function(t){y=t,_.reset(y),n.duration(y),a.duration(y),o.duration(y)}},color:{get:function(){return u},set:function(t){u=i.utils.getColor(t),n.color(u)}},rightAlignYAxis:{get:function(){return f},set:function(t){f=t,o.orient(t?"right":"left")}}}),i.utils.inheritOptions(chart,n),i.utils.initOptions(chart),chart},i.models.bullet=function(){"use strict";function sortLabels(t,e){var n=t.slice();t.sort(function(t,i){var a=n.indexOf(t),o=n.indexOf(i);return r.descending(e[a],e[o])})}function chart(e){return e.each(function(e,m){var k=p-t.left-t.right,w=g-t.top-t.bottom;v=r.select(this),i.utils.initSVG(v);var M=a.call(this,e,m).slice(),C=o.call(this,e,m).slice(),S=s.call(this,e,m).slice().sort(r.descending),A=l.call(this,e,m).slice(),E=c.call(this,e,m).slice(),T=u.call(this,e,m).slice(),L=d.call(this,e,m).slice(),D=h.call(this,e,m).slice();sortLabels(E,M),sortLabels(T,C),sortLabels(L,S),sortLabels(D,A),M.sort(r.descending),C.sort(r.descending),A.sort(r.descending);var F=r.scale.linear().domain(r.extent(r.merge([f,M]))).range(n?[k,0]:[0,k]);this.__chart__||r.scale.linear().domain([0,1/0]).range(F.range());this.__chart__=F;for(var N=(r.min(M),r.max(M),M[1],v.selectAll("g.nv-wrap.nv-bullet").data([e])),P=N.enter().append("g").attr("class","nvd3 nv-wrap nv-bullet"),z=P.append("g"),R=N.select("g"),m=0,B=M.length;m<B;m++){var I="nv-range nv-range"+m;m<=2&&(I=I+" nv-range"+b[m]),z.append("rect").attr("class",I)}z.append("rect").attr("class","nv-measure"),N.attr("transform","translate("+t.left+","+t.top+")");for(var W=function(t){return Math.abs(F(t)-F(0))},O=function(t){return F(t<0?t:0)},m=0,B=M.length;m<B;m++){var H=M[m];R.select("rect.nv-range"+m).attr("height",w).attr("width",W(H)).attr("x",O(H)).datum(H)}R.select("rect.nv-measure").style("fill",y).attr("height",w/3).attr("y",w/3).attr("width",A<0?F(0)-F(A[0]):F(A[0])-F(0)).attr("x",O(A)).on("mouseover",function(){_.elementMouseover({value:A[0],label:D[0]||"Current",color:r.select(this).style("fill")})}).on("mousemove",function(){_.elementMousemove({value:A[0],label:D[0]||"Current",color:r.select(this).style("fill")})}).on("mouseout",function(){_.elementMouseout({value:A[0],label:D[0]||"Current",color:r.select(this).style("fill")})});var G=w/6,j=C.map(function(t,e){return{value:t,label:T[e]}});z.selectAll("path.nv-markerTriangle").data(j).enter().append("path").attr("class","nv-markerTriangle").attr("d","M0,"+G+"L"+G+","+-G+" "+-G+","+-G+"Z").on("mouseover",function(t){_.elementMouseover({value:t.value,label:t.label||"Previous",color:r.select(this).style("fill"),pos:[F(t.value),w/2]})}).on("mousemove",function(t){_.elementMousemove({value:t.value,label:t.label||"Previous",color:r.select(this).style("fill")})}).on("mouseout",function(t,e){_.elementMouseout({value:t.value,label:t.label||"Previous",color:r.select(this).style("fill")})}),R.selectAll("path.nv-markerTriangle").data(j).attr("transform",function(t){return"translate("+F(t.value)+","+w/2+")"});var V=S.map(function(t,e){return{value:t,label:L[e]}});z.selectAll("path.nv-markerLine").data(V).enter().append("line").attr("cursor","").attr("class","nv-markerLine").attr("x1",function(t){return F(t.value)}).attr("y1","2").attr("x2",function(t){return F(t.value)}).attr("y2",w-2).on("mouseover",function(t){_.elementMouseover({value:t.value,label:t.label||"Previous",color:r.select(this).style("fill"),pos:[F(t.value),w/2]})}).on("mousemove",function(t){_.elementMousemove({value:t.value,label:t.label||"Previous",color:r.select(this).style("fill")})}).on("mouseout",function(t,e){_.elementMouseout({value:t.value,label:t.label||"Previous",color:r.select(this).style("fill")})}),R.selectAll("path.nv-markerLines").data(V).attr("transform",function(t){return"translate("+F(t.value)+","+w/2+")"}),N.selectAll(".nv-range").on("mouseover",function(t,e){var n=E[e]||x[e];_.elementMouseover({value:t,label:n,color:r.select(this).style("fill")})}).on("mousemove",function(){_.elementMousemove({value:A[0],label:D[0]||"Previous",color:r.select(this).style("fill")})}).on("mouseout",function(t,e){var n=E[e]||x[e];_.elementMouseout({value:t,label:n,color:r.select(this).style("fill")})})}),chart}var t={top:0,right:0,bottom:0,left:0},e="left",n=!1,a=function(t){return t.ranges},o=function(t){return t.markers?t.markers:[]},s=function(t){return t.markerLines?t.markerLines:[0]},l=function(t){return t.measures},c=function(t){return t.rangeLabels?t.rangeLabels:[]},u=function(t){return t.markerLabels?t.markerLabels:[]},d=function(t){return t.markerLineLabels?t.markerLineLabels:[]},h=function(t){return t.measureLabels?t.measureLabels:[]},f=[0],p=380,g=30,v=null,m=null,y=i.utils.getColor(["#1f77b4"]),_=r.dispatch("elementMouseover","elementMouseout","elementMousemove"),x=["Maximum","Mean","Minimum"],b=["Max","Avg","Min"];return chart.dispatch=_,chart.options=i.utils.optionsFunc.bind(chart),chart._options=Object.create({},{ranges:{get:function(){return a},set:function(t){a=t}},markers:{get:function(){return o},set:function(t){o=t}},measures:{get:function(){return l},set:function(t){l=t}},forceX:{get:function(){return f},set:function(t){f=t}},width:{get:function(){return p},set:function(t){p=t}},height:{get:function(){return g},set:function(t){g=t}},tickFormat:{get:function(){return m},set:function(t){m=t}},margin:{get:function(){return t},set:function(e){t.top=void 0!==e.top?e.top:t.top,t.right=void 0!==e.right?e.right:t.right,t.bottom=void 0!==e.bottom?e.bottom:t.bottom,t.left=void 0!==e.left?e.left:t.left}},orient:{get:function(){return e},set:function(t){e=t,n="right"==e||"bottom"==e}},color:{get:function(){return y},set:function(t){y=i.utils.getColor(t)}}}),i.utils.initOptions(chart),chart},i.models.bulletChart=function(){"use strict";function chart(e){return e.each(function(n,p){var g=r.select(this);i.utils.initSVG(g);var v=i.utils.availableWidth(u,g,o),m=d-o.top-o.bottom;if(chart.update=function(){chart(e)},chart.container=this,!n||!s.call(this,n,p))return i.utils.noData(chart,g),chart;g.selectAll(".nv-noData").remove();var y=s.call(this,n,p).slice().sort(r.descending),_=l.call(this,n,p).slice().sort(r.descending),x=c.call(this,n,p).slice().sort(r.descending),b=g.selectAll("g.nv-wrap.nv-bulletChart").data([n]),k=b.enter().append("g").attr("class","nvd3 nv-wrap nv-bulletChart"),w=k.append("g"),M=b.select("g");w.append("g").attr("class","nv-bulletWrap"),w.append("g").attr("class","nv-titles"),b.attr("transform","translate("+o.left+","+o.top+")");var C=r.scale.linear().domain([0,Math.max(y[0],_[0]||0,x[0])]).range(a?[v,0]:[0,v]),S=this.__chart__||r.scale.linear().domain([0,1/0]).range(C.range());this.__chart__=C;var A=w.select(".nv-titles").append("g").attr("text-anchor","end").attr("transform","translate(-6,"+(d-o.top-o.bottom)/2+")");A.append("text").attr("class","nv-title").text(function(t){return t.title}),A.append("text").attr("class","nv-subtitle").attr("dy","1em").text(function(t){return t.subtitle}),t.width(v).height(m);var E=M.select(".nv-bulletWrap");r.transition(E).call(t);var T=h||C.tickFormat(v/100),L=M.selectAll("g.nv-tick").data(C.ticks(f||v/50),function(t){return this.textContent||T(t)}),D=L.enter().append("g").attr("class","nv-tick").attr("transform",function(t){return"translate("+S(t)+",0)"}).style("opacity",1e-6);D.append("line").attr("y1",m).attr("y2",7*m/6),D.append("text").attr("text-anchor","middle").attr("dy","1em").attr("y",7*m/6).text(T);var F=r.transition(L).attr("transform",function(t){return"translate("+C(t)+",0)"}).style("opacity",1);F.select("line").attr("y1",m).attr("y2",7*m/6),F.select("text").attr("y",7*m/6),r.transition(L.exit()).attr("transform",function(t){return"translate("+C(t)+",0)"}).style("opacity",1e-6).remove()}),r.timer.flush(),chart}var t=i.models.bullet(),e=i.models.tooltip(),n="left",a=!1,o={top:5,right:40,bottom:20,left:120},s=function(t){return t.ranges},l=function(t){return t.markers?t.markers:[]},c=function(t){return t.measures},u=null,d=55,h=null,f=null,p=null,g=r.dispatch();return e.duration(0).headerEnabled(!1),t.dispatch.on("elementMouseover.tooltip",function(t){t.series={key:t.label,value:t.value,color:t.color},e.data(t).hidden(!1)}),t.dispatch.on("elementMouseout.tooltip",function(t){e.hidden(!0)}),t.dispatch.on("elementMousemove.tooltip",function(t){e()}),chart.bullet=t,chart.dispatch=g,chart.tooltip=e,chart.options=i.utils.optionsFunc.bind(chart),chart._options=Object.create({},{ranges:{get:function(){return s},set:function(t){s=t}},markers:{get:function(){return l},set:function(t){l=t}},measures:{get:function(){return c},set:function(t){c=t}},width:{get:function(){return u},set:function(t){u=t}},height:{get:function(){return d},set:function(t){d=t}},tickFormat:{get:function(){return h},set:function(t){h=t}},ticks:{get:function(){return f},set:function(t){f=t}},noData:{get:function(){return p},set:function(t){p=t}},margin:{get:function(){return o},set:function(t){o.top=void 0!==t.top?t.top:o.top,o.right=void 0!==t.right?t.right:o.right,o.bottom=void 0!==t.bottom?t.bottom:o.bottom,o.left=void 0!==t.left?t.left:o.left}},orient:{get:function(){return n},set:function(t){n=t,a="right"==n||"bottom"==n}}}),i.utils.inheritOptions(chart,t),i.utils.initOptions(chart),chart},i.models.candlestickBar=function(){"use strict";function chart(w){return w.each(function(w){t=r.select(this);var M=i.utils.availableWidth(l,t,s),S=i.utils.availableHeight(c,t,s);i.utils.initSVG(t);var A=M/w[0].values.length*.45;d.domain(e||r.extent(w[0].values.map(f).concat(_))),b?d.range(a||[.5*M/w[0].values.length,M*(w[0].values.length-.5)/w[0].values.length]):d.range(a||[5+A/2,M-A/2-5]),h.domain(n||[r.min(w[0].values.map(y).concat(x)),r.max(w[0].values.map(m).concat(x))]).range(o||[S,0]),d.domain()[0]===d.domain()[1]&&(d.domain()[0]?d.domain([d.domain()[0]-.01*d.domain()[0],d.domain()[1]+.01*d.domain()[1]]):d.domain([-1,1])),h.domain()[0]===h.domain()[1]&&(h.domain()[0]?h.domain([h.domain()[0]+.01*h.domain()[0],h.domain()[1]-.01*h.domain()[1]]):h.domain([-1,1]));var E=r.select(this).selectAll("g.nv-wrap.nv-candlestickBar").data([w[0].values]),T=E.enter().append("g").attr("class","nvd3 nv-wrap nv-candlestickBar"),L=T.append("defs"),D=T.append("g"),F=E.select("g");D.append("g").attr("class","nv-ticks"),E.attr("transform","translate("+s.left+","+s.top+")"),t.on("click",function(t,e){C.chartClick({data:t,index:e,pos:r.event,id:u})}),L.append("clipPath").attr("id","nv-chart-clip-path-"+u).append("rect"),E.select("#nv-chart-clip-path-"+u+" rect").attr("width",M).attr("height",S),F.attr("clip-path",k?"url(#nv-chart-clip-path-"+u+")":"");var N=E.select(".nv-ticks").selectAll(".nv-tick").data(function(t){return t});N.exit().remove();var P=N.enter().append("g");N.attr("class",function(t,e,n){return(g(t,e)>v(t,e)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+e});P.append("line").attr("class","nv-candlestick-lines").attr("transform",function(t,e){return"translate("+d(f(t,e))+",0)"}).attr("x1",0).attr("y1",function(t,e){return h(m(t,e))}).attr("x2",0).attr("y2",function(t,e){return h(y(t,e))}),P.append("rect").attr("class","nv-candlestick-rects nv-bars").attr("transform",function(t,e){return"translate("+(d(f(t,e))-A/2)+","+(h(p(t,e))-(g(t,e)>v(t,e)?h(v(t,e))-h(g(t,e)):0))+")"}).attr("x",0).attr("y",0).attr("width",A).attr("height",function(t,e){var n=g(t,e),r=v(t,e);return n>r?h(r)-h(n):h(n)-h(r)});N.select(".nv-candlestick-lines").transition().attr("transform",function(t,e){return"translate("+d(f(t,e))+",0)"}).attr("x1",0).attr("y1",function(t,e){return h(m(t,e))}).attr("x2",0).attr("y2",function(t,e){return h(y(t,e))}),N.select(".nv-candlestick-rects").transition().attr("transform",function(t,e){return"translate("+(d(f(t,e))-A/2)+","+(h(p(t,e))-(g(t,e)>v(t,e)?h(v(t,e))-h(g(t,e)):0))+")"}).attr("x",0).attr("y",0).attr("width",A).attr("height",function(t,e){var n=g(t,e),r=v(t,e);return n>r?h(r)-h(n):h(n)-h(r)})}),chart}var t,e,n,a,o,s={top:0,right:0,bottom:0,left:0},l=null,c=null,u=Math.floor(1e4*Math.random()),d=r.scale.linear(),h=r.scale.linear(),f=function(t){return t.x},p=function(t){return t.y},g=function(t){return t.open},v=function(t){return t.close},m=function(t){return t.high},y=function(t){return t.low},_=[],x=[],b=!1,k=!0,w=i.utils.defaultColor(),M=!1,C=r.dispatch("stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");return chart.highlightPoint=function(e,n){chart.clearHighlights(),t.select(".nv-candlestickBar .nv-tick-0-"+e).classed("hover",n)},chart.clearHighlights=function(){t.select(".nv-candlestickBar .nv-tick.hover").classed("hover",!1)},chart.dispatch=C,chart.options=i.utils.optionsFunc.bind(chart),chart._options=Object.create({},{width:{get:function(){return l},set:function(t){l=t}},height:{get:function(){return c},set:function(t){c=t}},xScale:{get:function(){return d},set:function(t){d=t}},yScale:{get:function(){return h},set:function(t){h=t}},xDomain:{get:function(){return e},set:function(t){e=t}},yDomain:{get:function(){return n},set:function(t){n=t}},xRange:{get:function(){return a},set:function(t){a=t}},yRange:{get:function(){return o},set:function(t){o=t}},forceX:{get:function(){return _},set:function(t){_=t}},forceY:{get:function(){return x},set:function(t){x=t}},padData:{get:function(){return b},set:function(t){b=t}},clipEdge:{get:function(){return k},set:function(t){k=t}},id:{get:function(){return u},set:function(t){u=t}},interactive:{get:function(){return M},set:function(t){M=t}},x:{get:function(){return f},set:function(t){f=t}},y:{get:function(){return p},set:function(t){p=t}},open:{get:function(){return g()},set:function(t){g=t}},close:{get:function(){return v()},set:function(t){v=t}},high:{get:function(){return m},set:function(t){m=t}},low:{get:function(){return y},set:function(t){y=t}},margin:{get:function(){return s},set:function(t){s.top=void 0!=t.top?t.top:s.top,s.right=void 0!=t.right?t.right:s.right,s.bottom=void 0!=t.bottom?t.bottom:s.bottom,s.left=void 0!=t.left?t.left:s.left}},color:{get:function(){return w},set:function(t){w=i.utils.getColor(t)}}}),i.utils.initOptions(chart),chart},i.models.cumulativeLineChart=function(){"use strict";function chart(u){return F.reset(),F.models(n),v&&F.models(a),m&&F.models(o),u.each(function(u){function dragStart(t,e){r.select(chart.container).style("cursor","ew-resize")}function dragMove(t,e){D.x=r.event.x,D.i=Math.round(L.invert(D.x)),updateZero()}function dragEnd(t,e){r.select(chart.container).style("cursor","auto"),w.index=D.i,A.stateChange(w)}function updateZero(){Z.data([D]);var t=chart.duration();chart.duration(0),chart.update(),chart.duration(t)}var C=r.select(this);i.utils.initSVG(C),C.classed("nv-chart-"+k,!0);var T=i.utils.availableWidth(f,C,d),F=i.utils.availableHeight(p,C,d);if(chart.update=function(){0===E?C.call(chart):C.transition().duration(E).call(chart)},chart.container=this,w.setter(P(u),chart.update).getter(N(u)).update(),w.disabled=u.map(function(t){return!!t.disabled}),!M){var z;M={};for(z in w)w[z]instanceof Array?M[z]=w[z].slice(0):M[z]=w[z]}var R=r.behavior.drag().on("dragstart",dragStart).on("drag",dragMove).on("dragend",dragEnd);if(!(u&&u.length&&u.filter(function(t){return t.values.length}).length))return i.utils.noData(chart,C),chart;if(C.selectAll(".nv-noData").remove(),t=n.xScale(),e=n.yScale(),b)n.yDomain(null);else{var B=u.filter(function(t){return!t.disabled}).map(function(t,e){var i=r.extent(t.values,n.y());return i[0]<-.95&&(i[0]=-.95),[(i[0]-i[1])/(1+i[1]),(i[1]-i[0])/(1+i[0])]}),I=[r.min(B,function(t){return t[0]}),r.max(B,function(t){return t[1]})];n.yDomain(I)}L.domain([0,u[0].values.length-1]).range([0,T]).clamp(!0);var u=indexify(D.i,u),W=x?"none":"all",O=C.selectAll("g.nv-wrap.nv-cumulativeLine").data([u]),H=O.enter().append("g").attr("class","nvd3 nv-wrap nv-cumulativeLine").append("g"),G=O.select("g");if(H.append("g").attr("class","nv-interactive"),H.append("g").attr("class","nv-x nv-axis").style("pointer-events","none"),H.append("g").attr("class","nv-y nv-axis"),H.append("g").attr("class","nv-background"),H.append("g").attr("class","nv-linesWrap").style("pointer-events",W),H.append("g").attr("class","nv-avgLinesWrap").style("pointer-events","none"),H.append("g").attr("class","nv-legendWrap"),H.append("g").attr("class","nv-controlsWrap"),g?(s.width(T),G.select(".nv-legendWrap").datum(u).call(s),s.height()>d.top&&(d.top=s.height(),F=i.utils.availableHeight(p,C,d)),G.select(".nv-legendWrap").attr("transform","translate(0,"+-d.top+")")):G.select(".nv-legendWrap").selectAll("*").remove(),_){var j=[{key:"Re-scale y-axis",disabled:!b}];l.width(140).color(["#444","#444","#444"]).rightAlign(!1).margin({top:5,right:0,bottom:5,left:20}),G.select(".nv-controlsWrap").datum(j).attr("transform","translate(0,"+-d.top+")").call(l)}else G.select(".nv-controlsWrap").selectAll("*").remove();O.attr("transform","translate("+d.left+","+d.top+")"),y&&G.select(".nv-y.nv-axis").attr("transform","translate("+T+",0)");var V=u.filter(function(t){return t.tempDisabled});O.select(".tempDisabled").remove(),V.length&&O.append("text").attr("class","tempDisabled").attr("x",T/2).attr("y","-.71em").style("text-anchor","end").text(V.map(function(t){return t.key}).join(", ")+" values cannot be calculated for this time period."),x&&(c.width(T).height(F).margin({left:d.left,top:d.top}).svgContainer(C).xScale(t),O.select(".nv-interactive").call(c)),H.select(".nv-background").append("rect"),G.select(".nv-background rect").attr("width",T).attr("height",F),n.y(function(t){return t.display.y}).width(T).height(F).color(u.map(function(t,e){return t.color||h(t,e)}).filter(function(t,e){return!u[e].disabled&&!u[e].tempDisabled}));var Y=G.select(".nv-linesWrap").datum(u.filter(function(t){return!t.disabled&&!t.tempDisabled}));Y.call(n),u.forEach(function(t,e){t.seriesIndex=e});var q=u.filter(function(t){return!t.disabled&&!!S(t)}),U=G.select(".nv-avgLinesWrap").selectAll("line").data(q,function(t){return t.key}),X=function(t){var n=e(S(t));return n<0?0:n>F?F:n};U.enter().append("line").style("stroke-width",2).style("stroke-dasharray","10,10").style("stroke",function(t,e){return n.color()(t,t.seriesIndex)}).attr("x1",0).attr("x2",T).attr("y1",X).attr("y2",X),U.style("stroke-opacity",function(t){var n=e(S(t));return n<0||n>F?0:1}).attr("x1",0).attr("x2",T).attr("y1",X).attr("y2",X),U.exit().remove();var Z=Y.selectAll(".nv-indexLine").data([D]);Z.enter().append("rect").attr("class","nv-indexLine").attr("width",3).attr("x",-2).attr("fill","red").attr("fill-opacity",.5).style("pointer-events","all").call(R),Z.attr("transform",function(t){return"translate("+L(t.i)+",0)"}).attr("height",F),v&&(a.scale(t)._ticks(i.utils.calcTicksX(T/70,u)).tickSize(-F,0),G.select(".nv-x.nv-axis").attr("transform","translate(0,"+e.range()[0]+")"),G.select(".nv-x.nv-axis").call(a)),m&&(o.scale(e)._ticks(i.utils.calcTicksY(F/36,u)).tickSize(-T,0),G.select(".nv-y.nv-axis").call(o)),G.select(".nv-background rect").on("click",function(){D.x=r.mouse(this)[0],D.i=Math.round(L.invert(D.x)),w.index=D.i,A.stateChange(w),updateZero()}),n.dispatch.on("elementClick",function(t){D.i=t.pointIndex,D.x=L(D.i),w.index=D.i,A.stateChange(w),updateZero()}),l.dispatch.on("legendClick",function(t,e){t.disabled=!t.disabled,b=!t.disabled,w.rescaleY=b,A.stateChange(w),chart.update()}),s.dispatch.on("stateChange",function(t){for(var e in t)w[e]=t[e];A.stateChange(w),chart.update()}),c.dispatch.on("elementMousemove",function(t){n.clearHighlights();var e,r,s,l=[];if(u.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(a,o){r=i.interactiveBisect(a.values,t.pointXValue,chart.x()),n.highlightPoint(o,r,!0);var c=a.values[r];void 0!==c&&(void 0===e&&(e=c),void 0===s&&(s=chart.xScale()(chart.x()(c,r))),l.push({key:a.key,value:chart.y()(c,r),color:h(a,a.seriesIndex)}))}),l.length>2){var d=chart.yScale().invert(t.mouseY),f=Math.abs(chart.yScale().domain()[0]-chart.yScale().domain()[1]),p=.03*f,g=i.nearestValueIndex(l.map(function(t){return t.value}),d,p);null!==g&&(l[g].highlight=!0)}var v=a.tickFormat()(chart.x()(e,r),r);c.tooltip.valueFormatter(function(t,e){return o.tickFormat()(t)}).data({value:v,series:l})(),c.renderGuideLine(s)}),c.dispatch.on("elementMouseout",function(t){n.clearHighlights()}),A.on("changeState",function(t){void 0!==t.disabled&&(u.forEach(function(e,n){e.disabled=t.disabled[n]}),w.disabled=t.disabled),void 0!==t.index&&(D.i=t.index,D.x=L(D.i),w.index=t.index,Z.data([D])),void 0!==t.rescaleY&&(b=t.rescaleY),chart.update()})}),F.renderEnd("cumulativeLineChart immediate"),chart}function indexify(t,e){return z||(z=n.y()),e.map(function(e,n){if(!e.values)return e;var r=e.values[t];if(null==r)return e;var i=z(r,t);return i<-.95&&!T?(e.tempDisabled=!0,e):(e.tempDisabled=!1,e.values=e.values.map(function(t,e){return t.display={y:(z(t,e)-i)/(1+i)},t}),e)})}var t,e,n=i.models.line(),a=i.models.axis(),o=i.models.axis(),s=i.models.legend(),l=i.models.legend(),c=i.interactiveGuideline(),u=i.models.tooltip(),d={top:30,right:30,bottom:50,left:60},h=i.utils.defaultColor(),f=null,p=null,g=!0,v=!0,m=!0,y=!1,_=!0,x=!1,b=!0,k=n.id(),w=i.utils.state(),M=null,C=null,S=function(t){return t.average},A=r.dispatch("stateChange","changeState","renderEnd"),E=250,T=!1;w.index=0,w.rescaleY=b,a.orient("bottom").tickPadding(7),o.orient(y?"right":"left"),u.valueFormatter(function(t,e){return o.tickFormat()(t,e)}).headerFormatter(function(t,e){return a.tickFormat()(t,e)}),l.updateState(!1);var L=r.scale.linear(),D={i:0,x:0},F=i.utils.renderWatch(A,E),N=function(t){return function(){return{active:t.map(function(t){return!t.disabled}),index:D.i,rescaleY:b}}},P=function(t){return function(e){void 0!==e.index&&(D.i=e.index),void 0!==e.rescaleY&&(b=e.rescaleY),void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};n.dispatch.on("elementMouseover.tooltip",function(t){var e={x:chart.x()(t.point),y:chart.y()(t.point),color:t.point.color};t.point=e,u.data(t).hidden(!1)}),n.dispatch.on("elementMouseout.tooltip",function(t){u.hidden(!0)});var z=null;return chart.dispatch=A,chart.lines=n,chart.legend=s,chart.controls=l,chart.xAxis=a,chart.yAxis=o,chart.interactiveLayer=c,chart.state=w,chart.tooltip=u,chart.options=i.utils.optionsFunc.bind(chart),chart._options=Object.create({},{width:{get:function(){return f},set:function(t){f=t}},height:{get:function(){return p},set:function(t){p=t}},rescaleY:{get:function(){return b},set:function(t){b=t}},showControls:{get:function(){return _},set:function(t){_=t}},showLegend:{get:function(){return g},set:function(t){g=t}},average:{get:function(){return S},set:function(t){S=t}},defaultState:{get:function(){return M},set:function(t){M=t}},noData:{get:function(){return C},set:function(t){C=t}},showXAxis:{get:function(){return v},set:function(t){v=t}},showYAxis:{get:function(){return m},set:function(t){m=t}},noErrorCheck:{get:function(){return T},set:function(t){T=t}},margin:{get:function(){return d},set:function(t){d.top=void 0!==t.top?t.top:d.top,d.right=void 0!==t.right?t.right:d.right,d.bottom=void 0!==t.bottom?t.bottom:d.bottom,d.left=void 0!==t.left?t.left:d.left}},color:{get:function(){return h},set:function(t){h=i.utils.getColor(t),s.color(h)}},useInteractiveGuideline:{get:function(){return x},set:function(t){x=t,!0===t&&(chart.interactive(!1),chart.useVoronoi(!1))}},rightAlignYAxis:{get:function(){return y},set:function(t){y=t,o.orient(t?"right":"left")}},duration:{get:function(){return E},set:function(t){E=t,n.duration(E),a.duration(E),o.duration(E),F.reset(E)}}}),i.utils.inheritOptions(chart,n),i.utils.initOptions(chart),chart},i.models.discreteBar=function(){"use strict";function chart(h){return M.reset(),h.each(function(h){var w=u-c.left-c.right,C=d-c.top-c.bottom;t=r.select(this),i.utils.initSVG(t),h.forEach(function(t,e){t.values.forEach(function(t){t.series=e})});var S=e&&n?[]:h.map(function(t){return t.values.map(function(t,e){return{x:g(t,e),y:v(t,e),y0:t.y0}})});f.domain(e||r.merge(S).map(function(t){return t.x})).rangeBands(a||[0,w],.1),p.domain(n||r.extent(r.merge(S).map(function(t){return t.y}).concat(m))),_?p.range(o||[C-(p.domain()[0]<0?12:0),p.domain()[1]>0?12:0]):p.range(o||[C,0]),s=s||f,l=l||p.copy().range([p(0),p(0)]);var A=t.selectAll("g.nv-wrap.nv-discretebar").data([h]),E=A.enter().append("g").attr("class","nvd3 nv-wrap nv-discretebar"),T=E.append("g");A.select("g");T.append("g").attr("class","nv-groups"),A.attr("transform","translate("+c.left+","+c.top+")");var L=A.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});L.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),L.exit().watchTransition(M,"discreteBar: exit groups").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),L.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}),L.watchTransition(M,"discreteBar: groups").style("stroke-opacity",1).style("fill-opacity",.75);var D=L.selectAll("g.nv-bar").data(function(t){return t.values});D.exit().remove();var F=D.enter().append("g").attr("transform",function(t,e,n){return"translate("+(f(g(t,e))+.05*f.rangeBand())+", "+p(0)+")"}).on("mouseover",function(t,e){r.select(this).classed("hover",!0),b.elementMouseover({data:t,index:e,color:r.select(this).style("fill")})}).on("mouseout",function(t,e){r.select(this).classed("hover",!1),b.elementMouseout({data:t,index:e,color:r.select(this).style("fill")})}).on("mousemove",function(t,e){b.elementMousemove({data:t,index:e,color:r.select(this).style("fill")})}).on("click",function(t,e){var n=this;b.elementClick({data:t,index:e,color:r.select(this).style("fill"),event:r.event,element:n}),r.event.stopPropagation()}).on("dblclick",function(t,e){b.elementDblClick({data:t,index:e,color:r.select(this).style("fill")}),r.event.stopPropagation()});F.append("rect").attr("height",0).attr("width",.9*f.rangeBand()/h.length),_?(F.append("text").attr("text-anchor","middle"),D.select("text").text(function(t,e){return x(v(t,e))}).watchTransition(M,"discreteBar: bars text").attr("x",.9*f.rangeBand()/2).attr("y",function(t,e){return v(t,e)<0?p(v(t,e))-p(0)+12:-4})):D.selectAll("text").remove(),D.attr("class",function(t,e){return v(t,e)<0?"nv-bar negative":"nv-bar positive"}).style("fill",function(t,e){return t.color||y(t,e)}).style("stroke",function(t,e){return t.color||y(t,e)}).select("rect").attr("class",k).watchTransition(M,"discreteBar: bars rect").attr("width",.9*f.rangeBand()/h.length),D.watchTransition(M,"discreteBar: bars").attr("transform",function(t,e){return"translate("+(f(g(t,e))+.05*f.rangeBand())+", "+(v(t,e)<0?p(0):p(0)-p(v(t,e))<1?p(0)-1:p(v(t,e)))+")"}).select("rect").attr("height",function(t,e){return Math.max(Math.abs(p(v(t,e))-p(0)),1)}),s=f.copy(),l=p.copy()}),M.renderEnd("discreteBar immediate"),chart}var t,e,n,a,o,s,l,c={top:0,right:0,bottom:0,left:0},u=960,d=500,h=Math.floor(1e4*Math.random()),f=r.scale.ordinal(),p=r.scale.linear(),g=function(t){return t.x},v=function(t){return t.y},m=[0],y=i.utils.defaultColor(),_=!1,x=r.format(",.2f"),b=r.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),k="discreteBar",w=250,M=i.utils.renderWatch(b,w);return chart.dispatch=b,chart.options=i.utils.optionsFunc.bind(chart),chart._options=Object.create({},{width:{get:function(){return u},set:function(t){u=t}},height:{get:function(){return d},set:function(t){d=t}},forceY:{get:function(){return m},set:function(t){m=t}},showValues:{get:function(){return _},set:function(t){_=t}},x:{get:function(){return g},set:function(t){g=t}},y:{get:function(){return v},set:function(t){v=t}},xScale:{get:function(){return f},set:function(t){f=t}},yScale:{get:function(){return p},set:function(t){p=t}},xDomain:{get:function(){return e},set:function(t){e=t}},yDomain:{get:function(){return n},set:function(t){n=t}},xRange:{get:function(){return a},set:function(t){a=t}},yRange:{get:function(){return o},set:function(t){o=t}},valueFormat:{get:function(){return x},set:function(t){x=t}},id:{get:function(){return h},set:function(t){h=t}},rectClass:{get:function(){return k},set:function(t){k=t}},margin:{get:function(){return c},set:function(t){c.top=void 0!==t.top?t.top:c.top,c.right=void 0!==t.right?t.right:c.right,c.bottom=void 0!==t.bottom?t.bottom:c.bottom,c.left=void 0!==t.left?t.left:c.left}},color:{get:function(){return y},set:function(t){y=i.utils.getColor(t)}},duration:{get:function(){return w},set:function(t){w=t,M.reset(w)}}}),i.utils.initOptions(chart),chart},i.models.discreteBarChart=function(){"use strict";function chart(l){return w.reset(),w.models(n),p&&w.models(a),g&&w.models(o),l.each(function(l){var h=r.select(this);i.utils.initSVG(h);var x=i.utils.availableWidth(u,h,c),w=i.utils.availableHeight(d,h,c);if(chart.update=function(){b.beforeUpdate(),h.transition().duration(k).call(chart)},chart.container=this,!(l&&l.length&&l.filter(function(t){return t.values.length}).length))return i.utils.noData(chart,h),chart;h.selectAll(".nv-noData").remove(),t=n.xScale(),e=n.yScale().clamp(!0);var M=h.selectAll("g.nv-wrap.nv-discreteBarWithAxes").data([l]),C=M.enter().append("g").attr("class","nvd3 nv-wrap nv-discreteBarWithAxes").append("g"),S=C.append("defs"),A=M.select("g");if(C.append("g").attr("class","nv-x nv-axis"),C.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),C.append("g").attr("class","nv-barsWrap"),C.append("g").attr("class","nv-legendWrap"),A.attr("transform","translate("+c.left+","+c.top+")"),f?(s.width(x),A.select(".nv-legendWrap").datum(l).call(s),s.height()>c.top&&(c.top=s.height(),w=i.utils.availableHeight(d,h,c)),M.select(".nv-legendWrap").attr("transform","translate(0,"+-c.top+")")):A.select(".nv-legendWrap").selectAll("*").remove(),v&&A.select(".nv-y.nv-axis").attr("transform","translate("+x+",0)"),n.width(x).height(w),A.select(".nv-barsWrap").datum(l.filter(function(t){return!t.disabled})).transition().call(n),S.append("clipPath").attr("id","nv-x-label-clip-"+n.id()).append("rect"),A.select("#nv-x-label-clip-"+n.id()+" rect").attr("width",t.rangeBand()*(m?2:1)).attr("height",16).attr("x",-t.rangeBand()/(m?1:2)),p){a.scale(t)._ticks(i.utils.calcTicksX(x/100,l)).tickSize(-w,0),A.select(".nv-x.nv-axis").attr("transform","translate(0,"+(e.range()[0]+(n.showValues()&&e.domain()[0]<0?16:0))+")"),A.select(".nv-x.nv-axis").call(a);var E=A.select(".nv-x.nv-axis").selectAll("g");m&&E.selectAll("text").attr("transform",function(t,e,n){return"translate(0,"+(n%2==0?"5":"17")+")"}),_&&E.selectAll(".tick text").attr("transform","rotate("+_+" 0,0)").style("text-anchor",_>0?"start":"end"),y&&A.selectAll(".tick text").call(i.utils.wrapTicks,chart.xAxis.rangeBand())}g&&(o.scale(e)._ticks(i.utils.calcTicksY(w/36,l)).tickSize(-x,0),A.select(".nv-y.nv-axis").call(o)),A.select(".nv-zeroLine line").attr("x1",0).attr("x2",v?-x:x).attr("y1",e(0)).attr("y2",e(0))}),w.renderEnd("discreteBar chart immediate"),chart}var t,e,n=i.models.discreteBar(),a=i.models.axis(),o=i.models.axis(),s=i.models.legend(),l=i.models.tooltip(),c={top:15,right:10,bottom:50,left:60},u=null,d=null,h=i.utils.getColor(),f=!1,p=!0,g=!0,v=!1,m=!1,y=!1,_=0,x=null,b=r.dispatch("beforeUpdate","renderEnd"),k=250;a.orient("bottom").showMaxMin(!1).tickFormat(function(t){return t}),o.orient(v?"right":"left").tickFormat(r.format(",.1f")),l.duration(0).headerEnabled(!1).valueFormatter(function(t,e){return o.tickFormat()(t,e)}).keyFormatter(function(t,e){return a.tickFormat()(t,e)});var w=i.utils.renderWatch(b,k);return n.dispatch.on("elementMouseover.tooltip",function(t){t.series={key:chart.x()(t.data),value:chart.y()(t.data),color:t.color},l.data(t).hidden(!1)}),n.dispatch.on("elementMouseout.tooltip",function(t){l.hidden(!0)}),n.dispatch.on("elementMousemove.tooltip",function(t){l()}),chart.dispatch=b,chart.discretebar=n,chart.legend=s,chart.xAxis=a,chart.yAxis=o,chart.tooltip=l,chart.options=i.utils.optionsFunc.bind(chart),chart._options=Object.create({},{width:{get:function(){return u},set:function(t){u=t}},height:{get:function(){return d},set:function(t){d=t}},showLegend:{get:function(){return f},set:function(t){f=t}},staggerLabels:{get:function(){return m},set:function(t){m=t}},rotateLabels:{get:function(){return _},set:function(t){_=t}},wrapLabels:{get:function(){return y},set:function(t){y=!!t}},showXAxis:{get:function(){return p},set:function(t){p=t}},showYAxis:{get:function(){return g},set:function(t){g=t}},noData:{get:function(){return x},set:function(t){x=t}},margin:{get:function(){return c},set:function(t){c.top=void 0!==t.top?t.top:c.top,c.right=void 0!==t.right?t.right:c.right,c.bottom=void 0!==t.bottom?t.bottom:c.bottom,c.left=void 0!==t.left?t.left:c.left}},duration:{get:function(){return k},set:function(t){k=t,w.reset(k),n.duration(k),a.duration(k),o.duration(k)}},color:{get:function(){return h},set:function(t){h=i.utils.getColor(t),n.color(h),s.color(h)}},rightAlignYAxis:{get:function(){return v},set:function(t){v=t,o.orient(t?"right":"left")}}}),i.utils.inheritOptions(chart,n),i.utils.initOptions(chart),chart},i.models.distribution=function(){"use strict";function chart(n){return h.reset(),n.each(function(n){var u=("x"===o?(e.left,e.right):(e.top,e.bottom),"x"==o?"y":"x"),d=r.select(this);i.utils.initSVG(d),t=t||c;var f=d.selectAll("g.nv-distribution").data([n]),p=f.enter().append("g").attr("class","nvd3 nv-distribution"),g=(p.append("g"),f.select("g"));f.attr("transform","translate("+e.left+","+e.top+")");var v=g.selectAll("g.nv-dist").data(function(t){return t},function(t){return t.key});v.enter().append("g"),v.attr("class",function(t,e){return"nv-dist nv-series-"+e}).style("stroke",function(t,e){return l(t,e)});var m=v.selectAll("line.nv-dist"+o).data(function(t){return t.values});m.enter().append("line").attr(o+"1",function(e,n){return t(s(e,n))}).attr(o+"2",function(e,n){return t(s(e,n))}),h.transition(v.exit().selectAll("line.nv-dist"+o),"dist exit").attr(o+"1",function(t,e){return c(s(t,e))}).attr(o+"2",function(t,e){return c(s(t,e))}).style("stroke-opacity",0).remove(),m.attr("class",function(t,e){return"nv-dist"+o+" nv-dist"+o+"-"+e}).attr(u+"1",0).attr(u+"2",a),h.transition(m,"dist").attr(o+"1",function(t,e){return c(s(t,e))}).attr(o+"2",function(t,e){return c(s(t,e))}),t=c.copy()}),h.renderEnd("distribution immediate"),chart}var t,e={top:0,right:0,bottom:0,left:0},n=400,a=8,o="x",s=function(t){return t[o]},l=i.utils.defaultColor(),c=r.scale.linear(),u=250,d=r.dispatch("renderEnd"),h=i.utils.renderWatch(d,u);return chart.options=i.utils.optionsFunc.bind(chart),chart.dispatch=d,chart.margin=function(t){return arguments.length?(e.top=void 0!==t.top?t.top:e.top,e.right=void 0!==t.right?t.right:e.right,e.bottom=void 0!==t.bottom?t.bottom:e.bottom,e.left=void 0!==t.left?t.left:e.left,chart):e},chart.width=function(t){return arguments.length?(n=t,chart):n},chart.axis=function(t){return arguments.length?(o=t,chart):o},chart.size=function(t){return arguments.length?(a=t,chart):a},chart.getData=function(t){return arguments.length?(s=r.functor(t),chart):s},chart.scale=function(t){return arguments.length?(c=t,chart):c},chart.color=function(t){return arguments.length?(l=i.utils.getColor(t),chart):l},chart.duration=function(t){return arguments.length?(u=t,h.reset(u),chart):u},chart},i.models.focus=function(t){"use strict";function chart(_){return y.reset(),y.models(t),h&&y.models(a),f&&y.models(o),_.each(function(y){function resizePath(t){var e=+("e"==t),n=e?1:-1,r=b/3;return"M"+.5*n+","+r+"A6,6 0 0 "+e+" "+6.5*n+","+(r+6)+"V"+(2*r-6)+"A6,6 0 0 "+e+" "+.5*n+","+2*r+"ZM"+2.5*n+","+(r+8)+"V"+(2*r-8)+"M"+4.5*n+","+(r+8)+"V"+(2*r-8)}function updateBrushBG(){s.empty()||s.extent(g),S.data([s.empty()?e.domain():g]).each(function(t,n){var i=e(t[0])-e.range()[0],a=x-e(t[1]);r.select(this).select(".left").attr("width",i<0?0:i),r.select(this).select(".right").attr("x",e(t[1])).attr("width",a<0?0:a)})}function onBrush(){g=s.empty()?null:s.extent();var t=s.empty()?e.domain():s.extent();Math.abs(t[0]-t[1])<=1||(m.brush({extent:t,brush:s}),updateBrushBG(),m.onBrush(t))}var _=r.select(this);i.utils.initSVG(_);var x=i.utils.availableWidth(u,_,l),b=d-l.top-l.bottom;chart.update=function(){0===v?_.call(chart):_.transition().duration(v).call(chart)},chart.container=this,e=t.xScale(),n=t.yScale();var k=_.selectAll("g.nv-focus").data([y]),w=k.enter().append("g").attr("class","nvd3 nv-focus").append("g"),M=k.select("g");k.attr("transform","translate("+l.left+","+l.top+")"),w.append("g").attr("class","nv-background").append("rect"),w.append("g").attr("class","nv-x nv-axis"),w.append("g").attr("class","nv-y nv-axis"),w.append("g").attr("class","nv-contentWrap"),w.append("g").attr("class","nv-brushBackground"),w.append("g").attr("class","nv-x nv-brush"),p&&M.select(".nv-y.nv-axis").attr("transform","translate("+x+",0)"),M.select(".nv-background rect").attr("width",x).attr("height",b),t.width(x).height(b).color(y.map(function(t,e){return t.color||c(t,e)}).filter(function(t,e){return!y[e].disabled}));var C=M.select(".nv-contentWrap").datum(y.filter(function(t){return!t.disabled}));r.transition(C).call(t),s.x(e).on("brush",function(){onBrush()}),g&&s.extent(g);var S=M.select(".nv-brushBackground").selectAll("g").data([g||s.extent()]),A=S.enter().append("g");A.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",b),A.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",b);var E=M.select(".nv-x.nv-brush").call(s);E.selectAll("rect").attr("height",b),E.selectAll(".resize").append("path").attr("d",resizePath),onBrush(),M.select(".nv-background rect").attr("width",x).attr("height",b),h&&(a.scale(e)._ticks(i.utils.calcTicksX(x/100,y)).tickSize(-b,0),M.select(".nv-x.nv-axis").attr("transform","translate(0,"+n.range()[0]+")"),r.transition(M.select(".nv-x.nv-axis")).call(a)),f&&(o.scale(n)._ticks(i.utils.calcTicksY(b/36,y)).tickSize(-x,0),r.transition(M.select(".nv-y.nv-axis")).call(o)),M.select(".nv-x.nv-axis").attr("transform","translate(0,"+n.range()[0]+")")}),y.renderEnd("focus immediate"),chart}var e,n,t=t||i.models.line(),a=i.models.axis(),o=i.models.axis(),s=r.svg.brush(),l={top:10,right:0,bottom:30,left:0},c=i.utils.defaultColor(),u=null,d=70,h=!0,f=!1,p=!1,g=null,v=250,m=r.dispatch("brush","onBrush","renderEnd");t.interactive(!1),t.pointActive(function(t){return!1});var y=i.utils.renderWatch(m,v);return chart.dispatch=m,chart.content=t,chart.brush=s,chart.xAxis=a,chart.yAxis=o,chart.options=i.utils.optionsFunc.bind(chart),chart._options=Object.create({},{width:{get:function(){return u},set:function(t){u=t}},height:{get:function(){return d},set:function(t){d=t}},showXAxis:{get:function(){return h},set:function(t){h=t}},showYAxis:{get:function(){return f},set:function(t){f=t}},brushExtent:{get:function(){return g},set:function(t){g=t}},margin:{get:function(){return l},set:function(t){l.top=void 0!==t.top?t.top:l.top,l.right=void 0!==t.right?t.right:l.right,l.bottom=void 0!==t.bottom?t.bottom:l.bottom,l.left=void 0!==t.left?t.left:l.left}},duration:{get:function(){return v},set:function(e){v=e,y.reset(v),t.duration(v),a.duration(v),o.duration(v)}},color:{get:function(){return c},set:function(e){c=i.utils.getColor(e),t.color(c)}},interpolate:{get:function(){return t.interpolate()},set:function(e){t.interpolate(e)}},xTickFormat:{get:function(){return a.tickFormat()},set:function(t){a.tickFormat(t)}},yTickFormat:{get:function(){return o.tickFormat()},set:function(t){o.tickFormat(t)}},x:{get:function(){return t.x()},set:function(e){t.x(e)}},y:{get:function(){return t.y()},set:function(e){t.y(e)}},rightAlignYAxis:{get:function(){return p},set:function(t){p=t,o.orient(p?"right":"left")}}}),i.utils.inheritOptions(chart,t),i.utils.initOptions(chart),chart},i.models.forceDirectedGraph=function(){"use strict";function chart(o){return x.reset(),o.each(function(o){a=r.select(this),i.utils.initSVG(a);var c=i.utils.availableWidth(e,a,t),x=i.utils.availableHeight(n,a,t);if(a.attr("width",c).attr("height",x),!(o&&o.links&&o.nodes))return i.utils.noData(chart,a),chart;a.selectAll(".nv-noData").remove(),a.selectAll("*").remove();var b=new Set;o.nodes.forEach(function(t){Object.keys(t).forEach(function(t){b.add(t)})});var k=r.layout.force().nodes(o.nodes).links(o.links).size([c,x]).linkStrength(u).friction(d).linkDistance(h).charge(f).gravity(p).theta(g).alpha(v).start(),w=a.selectAll(".link").data(o.links).enter().append("line").attr("class","nv-force-link").style("stroke-width",function(t){return Math.sqrt(t.value)}),M=a.selectAll(".node").data(o.nodes).enter().append("g").attr("class","nv-force-node").call(k.drag);M.append("circle").attr("r",m).style("fill",function(t){return s(t)}).on("mouseover",function(t){a.select(".nv-series-"+t.seriesIndex+" .nv-distx-"+t.pointIndex).attr("y1",t.py),a.select(".nv-series-"+t.seriesIndex+" .nv-disty-"+t.pointIndex).attr("x2",t.px);var e=s(t);t.series=[],b.forEach(function(n){t.series.push({color:e,key:n,value:t[n]})}),l.data(t).hidden(!1)}).on("mouseout",function(t){l.hidden(!0)}),l.headerFormatter(function(t){return"Node"}),_(w),y(M),k.on("tick",function(){w.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),M.attr("transform",function(t){return"translate("+t.x+", "+t.y+")"})})}),chart}var t={top:2,right:0,bottom:2,left:0},e=400,n=32,a=null,o=r.dispatch("renderEnd"),s=i.utils.getColor(["#000"]),l=i.models.tooltip(),c=null,u=.1,d=.9,h=30,f=-120,p=.1,g=.8,v=.1,m=5,y=function(t){},_=function(t){},x=i.utils.renderWatch(o);return chart.options=i.utils.optionsFunc.bind(chart),chart._options=Object.create({},{width:{get:function(){return e},set:function(t){e=t}},height:{get:function(){return n},set:function(t){n=t}},linkStrength:{get:function(){return u},set:function(t){u=t}},friction:{get:function(){return d},set:function(t){d=t}},linkDist:{get:function(){return h},set:function(t){h=t}},charge:{get:function(){return f},set:function(t){f=t}},gravity:{get:function(){return p},set:function(t){p=t}},theta:{get:function(){return g},set:function(t){g=t}},alpha:{get:function(){return v},set:function(t){v=t}},radius:{get:function(){return m},set:function(t){m=t}},x:{get:function(){return getX},set:function(t){getX=r.functor(t)}},y:{get:function(){return getY},set:function(t){getY=r.functor(t)}},margin:{get:function(){return t},set:function(e){t.top=void 0!==e.top?e.top:t.top,t.right=void 0!==e.right?e.right:t.right,t.bottom=void 0!==e.bottom?e.bottom:t.bottom,t.left=void 0!==e.left?e.left:t.left}},color:{get:function(){return s},set:function(t){s=i.utils.getColor(t)}},noData:{get:function(){return c},set:function(t){c=t}},nodeExtras:{get:function(){return y},set:function(t){y=t}},linkExtras:{get:function(){return _},set:function(t){_=t}}}),chart.dispatch=o,chart.tooltip=l,i.utils.initOptions(chart),chart},i.models.furiousLegend=function(){"use strict";function chart(m){function setTextColor(t,e){return"furious"!=v?"#000":p?t.disengaged?s(t,e):"#fff":p?void 0:t.disabled?s(t,e):"#fff"}function setBGColor(t,e){return p&&"furious"==v?t.disengaged?"#fff":s(t,e):t.disabled?"#fff":s(t,e)}return m.each(function(m){var y=e-t.left-t.right,_=r.select(this);i.utils.initSVG(_);var x=_.selectAll("g.nv-legend").data([m]),b=(x.enter().append("g").attr("class","nvd3 nv-legend").append("g"),x.select("g"));x.attr("transform","translate("+t.left+","+t.top+")");var k,w=b.selectAll(".nv-series").data(function(t){return"furious"!=v?t:t.filter(function(t){return!!p||!t.disengaged})}),M=w.enter().append("g").attr("class","nv-series");if("classic"==v)M.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),k=w.select("circle");else if("furious"==v){M.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",3).attr("ry",3),k=w.select("rect"),M.append("g").attr("class","nv-check-box").property("innerHTML",'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"></path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"></path>').attr("transform","translate(-10,-8)scale(0.5)");var C=w.select(".nv-check-box");C.each(function(t,e){r.select(this).selectAll("path").attr("stroke",setTextColor(t,e))})}M.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");var S=w.select("text.nv-legend-text");w.on("mouseover",function(t,e){g.legendMouseover(t,e)}).on("mouseout",function(t,e){g.legendMouseout(t,e)}).on("click",function(t,e){g.legendClick(t,e);var n=w.data();if(h){if("classic"==v)f?(n.forEach(function(t){t.disabled=!0}),t.disabled=!1):(t.disabled=!t.disabled,n.every(function(t){return t.disabled})&&n.forEach(function(t){t.disabled=!1}));else if("furious"==v)if(p)t.disengaged=!t.disengaged,t.userDisabled=void 0==t.userDisabled?!!t.disabled:t.userDisabled,t.disabled=t.disengaged||t.userDisabled;else if(!p){t.disabled=!t.disabled,t.userDisabled=t.disabled;var r=n.filter(function(t){return!t.disengaged});r.every(function(t){return t.userDisabled})&&n.forEach(function(t){t.disabled=t.userDisabled=!1})}g.stateChange({disabled:n.map(function(t){return!!t.disabled}),disengaged:n.map(function(t){return!!t.disengaged})})}}).on("dblclick",function(t,e){if(("furious"!=v||!p)&&(g.legendDblclick(t,e),h)){var n=w.data();n.forEach(function(t){t.disabled=!0,"furious"==v&&(t.userDisabled=t.disabled)}),t.disabled=!1,"furious"==v&&(t.userDisabled=t.disabled),g.stateChange({disabled:n.map(function(t){return!!t.disabled})})}}),w.classed("nv-disabled",function(t){return t.userDisabled}),w.exit().remove(),S.attr("fill",setTextColor).text(function(t){return o(a(t))});var A;switch(v){case"furious":A=23;break;case"classic":A=20}if(c){var E=[];w.each(function(t,e){var n;if(o(a(t))&&o(a(t)).length>l){var s=o(a(t)).substring(0,l);n=r.select(this).select("text").text(s+"..."),r.select(this).append("svg:title").text(o(a(t)))}else n=r.select(this).select("text");var c;try{if((c=n.node().getComputedTextLength())<=0)throw Error()}catch(t){c=i.utils.calcApproxTextWidth(n)}E.push(c+u)});for(var T=0,L=0,D=[];L<y&&T<E.length;)D[T]=E[T],L+=E[T++];for(0===T&&(T=1);L>y&&T>1;){D=[],T--;for(var F=0;F<E.length;F++)E[F]>(D[F%T]||0)&&(D[F%T]=E[F]);L=D.reduce(function(t,e,n,r){return t+e})}for(var N=[],P=0,z=0;P<T;P++)N[P]=z,z+=D[P];w.attr("transform",function(t,e){return"translate("+N[e%T]+","+(5+Math.floor(e/T)*A)+")"}),d?b.attr("transform","translate("+(e-t.right-L)+","+t.top+")"):b.attr("transform","translate(0,"+t.top+")"),n=t.top+t.bottom+Math.ceil(E.length/T)*A}else{var R,B=5,I=5,W=0;w.attr("transform",function(n,i){var a=r.select(this).select("text").node().getComputedTextLength()+u;return R=I,e<t.left+t.right+R+a&&(I=R=5,B+=A),I+=a,I>W&&(W=I),"translate("+R+","+B+")"}),b.attr("transform","translate("+(e-t.right-W)+","+t.top+")"),n=t.top+t.bottom+B+15}"furious"==v&&k.attr("width",function(t,e){return S[0][e].getComputedTextLength()+27}).attr("height",18).attr("y",-9).attr("x",-15),k.style("fill",setBGColor).style("stroke",function(t,e){return t.color||s(t,e)})}),chart}var t={top:5,right:0,bottom:5,left:0},e=400,n=20,a=function(t){return t.key},o=function(t){return t},s=i.utils.getColor(),l=20,c=!0,u=28,d=!0,h=!0,f=!1,p=!1,g=r.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),v="classic";return chart.dispatch=g,chart.options=i.utils.optionsFunc.bind(chart),chart._options=Object.create({},{width:{get:function(){return e},set:function(t){e=t}},height:{get:function(){return n},set:function(t){n=t}},key:{get:function(){return a},set:function(t){a=t}},keyFormatter:{get:function(){return o},set:function(t){o=t}},align:{get:function(){return c},set:function(t){c=t}},rightAlign:{get:function(){return d},set:function(t){d=t}},maxKeyLength:{get:function(){return l},set:function(t){l=t}},padding:{get:function(){return u},set:function(t){u=t}},updateState:{get:function(){return h},set:function(t){h=t}},radioButtonMode:{get:function(){return f},set:function(t){f=t}},expanded:{get:function(){return p},set:function(t){p=t}},vers:{get:function(){return v},set:function(t){v=t}},margin:{get:function(){return t},set:function(e){t.top=void 0!==e.top?e.top:t.top,t.right=void 0!==e.right?e.right:t.right,t.bottom=void 0!==e.bottom?e.bottom:t.bottom,t.left=void 0!==e.left?e.left:t.left}},color:{get:function(){return s},set:function(t){s=i.utils.getColor(t)}}}),i.utils.initOptions(chart),chart},i.models.historicalBar=function(){"use strict";function chart(w){return w.each(function(w){k.reset(),u=r.select(this);var M=i.utils.availableWidth(s,u,o),C=i.utils.availableHeight(l,u,o);i.utils.initSVG(u),d.domain(t||r.extent(w[0].values.map(f).concat(g))),m?d.range(n||[.5*M/w[0].values.length,M*(w[0].values.length-.5)/w[0].values.length]):d.range(n||[0,M]),h.domain(e||r.extent(w[0].values.map(p).concat(v))).range(a||[C,0]),d.domain()[0]===d.domain()[1]&&(d.domain()[0]?d.domain([d.domain()[0]-.01*d.domain()[0],d.domain()[1]+.01*d.domain()[1]]):d.domain([-1,1])),h.domain()[0]===h.domain()[1]&&(h.domain()[0]?h.domain([h.domain()[0]+.01*h.domain()[0],h.domain()[1]-.01*h.domain()[1]]):h.domain([-1,1]));var S=u.selectAll("g.nv-wrap.nv-historicalBar-"+c).data([w[0].values]),A=S.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBar-"+c),E=A.append("defs"),T=A.append("g"),L=S.select("g");T.append("g").attr("class","nv-bars"),S.attr("transform","translate("+o.left+","+o.top+")"),u.on("click",function(t,e){x.chartClick({data:t,index:e,pos:r.event,id:c})}),E.append("clipPath").attr("id","nv-chart-clip-path-"+c).append("rect"),S.select("#nv-chart-clip-path-"+c+" rect").attr("width",M).attr("height",C),L.attr("clip-path",y?"url(#nv-chart-clip-path-"+c+")":"");var D=S.select(".nv-bars").selectAll(".nv-bar").data(function(t){return t},function(t,e){return f(t,e)});D.exit().remove(),D.enter().append("rect").attr("x",0).attr("y",function(t,e){return i.utils.NaNtoZero(h(Math.max(0,p(t,e))))}).attr("height",function(t,e){return i.utils.NaNtoZero(Math.abs(h(p(t,e))-h(0)))}).attr("transform",function(t,e){return"translate("+(d(f(t,e))-M/w[0].values.length*.45)+",0)"}).on("mouseover",function(t,e){b&&(r.select(this).classed("hover",!0),x.elementMouseover({data:t,index:e,color:r.select(this).style("fill")}))}).on("mouseout",function(t,e){b&&(r.select(this).classed("hover",!1),x.elementMouseout({data:t,index:e,color:r.select(this).style("fill")}))}).on("mousemove",function(t,e){b&&x.elementMousemove({data:t,index:e,color:r.select(this).style("fill")})}).on("click",function(t,e){b&&(x.elementClick({data:t,index:e,color:r.select(this).style("fill")}),r.event.stopPropagation())}).on("dblclick",function(t,e){b&&(x.elementDblClick({data:t,index:e,color:r.select(this).style("fill")}),r.event.stopPropagation())}),D.attr("fill",function(t,e){return _(t,e)}).attr("class",function(t,e,n){return(p(t,e)<0?"nv-bar negative":"nv-bar positive")+" nv-bar-"+n+"-"+e}).watchTransition(k,"bars").attr("transform",function(t,e){return"translate("+(d(f(t,e))-M/w[0].values.length*.45)+",0)"}).attr("width",M/w[0].values.length*.9),D.watchTransition(k,"bars").attr("y",function(t,e){var n=p(t,e)<0?h(0):h(0)-h(p(t,e))<1?h(0)-1:h(p(t,e));return i.utils.NaNtoZero(n)}).attr("height",function(t,e){return i.utils.NaNtoZero(Math.max(Math.abs(h(p(t,e))-h(0)),1))})}),k.renderEnd("historicalBar immediate"),chart}var t,e,n,a,o={top:0,right:0,bottom:0,left:0},s=null,l=null,c=Math.floor(1e4*Math.random()),u=null,d=r.scale.linear(),h=r.scale.linear(),f=function(t){return t.x},p=function(t){return t.y},g=[],v=[0],m=!1,y=!0,_=i.utils.defaultColor(),x=r.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),b=!0,k=i.utils.renderWatch(x,0);return chart.highlightPoint=function(t,e){u.select(".nv-bars .nv-bar-0-"+t).classed("hover",e)},chart.clearHighlights=function(){u.select(".nv-bars .nv-bar.hover").classed("hover",!1)},chart.dispatch=x,chart.options=i.utils.optionsFunc.bind(chart),chart._options=Object.create({},{width:{get:function(){return s},set:function(t){s=t}},height:{get:function(){return l},set:function(t){l=t}},forceX:{get:function(){return g},set:function(t){g=t}},forceY:{get:function(){return v},set:function(t){v=t}},padData:{get:function(){return m},set:function(t){m=t}},x:{get:function(){return f},set:function(t){f=t}},y:{get:function(){return p},set:function(t){p=t}},xScale:{get:function(){return d},set:function(t){d=t}},yScale:{get:function(){return h},set:function(t){h=t}},xDomain:{get:function(){return t},set:function(e){t=e}},yDomain:{get:function(){return e},set:function(t){e=t}},xRange:{get:function(){return n},set:function(t){n=t}},yRange:{get:function(){return a},set:function(t){a=t}},clipEdge:{get:function(){return y},set:function(t){y=t}},id:{get:function(){return c},set:function(t){c=t}},interactive:{get:function(){return b},set:function(t){b=t}},margin:{get:function(){return o},set:function(t){o.top=void 0!==t.top?t.top:o.top,o.right=void 0!==t.right?t.right:o.right,o.bottom=void 0!==t.bottom?t.bottom:o.bottom,o.left=void 0!==t.left?t.left:o.left}},color:{get:function(){return _},set:function(t){_=i.utils.getColor(t)}}}),i.utils.initOptions(chart),chart},i.models.historicalBarChart=function(t){"use strict";function chart(t){return t.each(function(u){C.reset(),C.models(a),v&&C.models(o),m&&C.models(s);var k=r.select(this);i.utils.initSVG(k);var S=i.utils.availableWidth(f,k,d),A=i.utils.availableHeight(p,k,d);if(chart.update=function(){k.transition().duration(M).call(chart)},chart.container=this,x.disabled=u.map(function(t){return!!t.disabled}),!b){var E;b={};for(E in x)x[E]instanceof Array?b[E]=x[E].slice(0):b[E]=x[E]}if(!(u&&u.length&&u.filter(function(t){return t.values.length}).length))return i.utils.noData(chart,k),chart;k.selectAll(".nv-noData").remove(),e=a.xScale(),n=a.yScale();var T=k.selectAll("g.nv-wrap.nv-historicalBarChart").data([u]),L=T.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBarChart").append("g"),D=T.select("g");L.append("g").attr("class","nv-x nv-axis"),L.append("g").attr("class","nv-y nv-axis"),L.append("g").attr("class","nv-barsWrap"),L.append("g").attr("class","nv-legendWrap"),L.append("g").attr("class","nv-interactive"),g?(l.width(S),D.select(".nv-legendWrap").datum(u).call(l),l.height()>d.top&&(d.top=l.height(),A=i.utils.availableHeight(p,k,d)),T.select(".nv-legendWrap").attr("transform","translate(0,"+-d.top+")")):D.select(".nv-legendWrap").selectAll("*").remove(),T.attr("transform","translate("+d.left+","+d.top+")"),y&&D.select(".nv-y.nv-axis").attr("transform","translate("+S+",0)"),_&&(c.width(S).height(A).margin({left:d.left,top:d.top}).svgContainer(k).xScale(e),T.select(".nv-interactive").call(c)),a.width(S).height(A).color(u.map(function(t,e){return t.color||h(t,e)}).filter(function(t,e){return!u[e].disabled})),D.select(".nv-barsWrap").datum(u.filter(function(t){return!t.disabled})).transition().call(a),v&&(o.scale(e)._ticks(i.utils.calcTicksX(S/100,u)).tickSize(-A,0),D.select(".nv-x.nv-axis").attr("transform","translate(0,"+n.range()[0]+")"),D.select(".nv-x.nv-axis").transition().call(o)),m&&(s.scale(n)._ticks(i.utils.calcTicksY(A/36,u)).tickSize(-S,0),D.select(".nv-y.nv-axis").transition().call(s)),c.dispatch.on("elementMousemove",function(t){a.clearHighlights();var e,n,r,l=[];u.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(o,s){n=i.interactiveBisect(o.values,t.pointXValue,chart.x()),a.highlightPoint(n,!0);var c=o.values[n];void 0!==c&&(void 0===e&&(e=c),void 0===r&&(r=chart.xScale()(chart.x()(c,n))),l.push({key:o.key,value:chart.y()(c,n),color:h(o,o.seriesIndex),data:o.values[n]}))});var d=o.tickFormat()(chart.x()(e,n));c.tooltip.valueFormatter(function(t,e){return s.tickFormat()(t)}).data({value:d,index:n,series:l})(),c.renderGuideLine(r)}),c.dispatch.on("elementMouseout",function(t){w.tooltipHide(),a.clearHighlights()}),l.dispatch.on("legendClick",function(e,n){e.disabled=!e.disabled,u.filter(function(t){return!t.disabled}).length||u.map(function(t){return t.disabled=!1,T.selectAll(".nv-series").classed("disabled",!1),t}),x.disabled=u.map(function(t){return!!t.disabled}),w.stateChange(x),t.transition().call(chart)}),l.dispatch.on("legendDblclick",function(t){u.forEach(function(t){t.disabled=!0}),t.disabled=!1,x.disabled=u.map(function(t){return!!t.disabled}),w.stateChange(x),chart.update()}),w.on("changeState",function(t){void 0!==t.disabled&&(u.forEach(function(e,n){e.disabled=t.disabled[n]}),x.disabled=t.disabled),chart.update()})}),C.renderEnd("historicalBarChart immediate"),chart}var e,n,a=t||i.models.historicalBar(),o=i.models.axis(),s=i.models.axis(),l=i.models.legend(),c=i.interactiveGuideline(),u=i.models.tooltip(),d={top:30,right:90,bottom:50,left:90},h=i.utils.defaultColor(),f=null,p=null,g=!1,v=!0,m=!0,y=!1,_=!1,x={},b=null,k=null,w=r.dispatch("tooltipHide","stateChange","changeState","renderEnd"),M=250;o.orient("bottom").tickPadding(7),s.orient(y?"right":"left"),u.duration(0).headerEnabled(!1).valueFormatter(function(t,e){return s.tickFormat()(t,e)}).headerFormatter(function(t,e){return o.tickFormat()(t,e)});var C=i.utils.renderWatch(w,0);return a.dispatch.on("elementMouseover.tooltip",function(t){t.series={key:chart.x()(t.data),value:chart.y()(t.data),color:t.color},u.data(t).hidden(!1)}),a.dispatch.on("elementMouseout.tooltip",function(t){u.hidden(!0)}),a.dispatch.on("elementMousemove.tooltip",function(t){u()}),chart.dispatch=w,chart.bars=a,chart.legend=l,chart.xAxis=o,chart.yAxis=s,chart.interactiveLayer=c,chart.tooltip=u,chart.options=i.utils.optionsFunc.bind(chart),chart._options=Object.create({},{width:{get:function(){return f},set:function(t){f=t}},height:{get:function(){return p},set:function(t){p=t}},showLegend:{get:function(){return g},set:function(t){g=t}},showXAxis:{get:function(){return v},set:function(t){v=t}},showYAxis:{get:function(){return m},set:function(t){m=t}},defaultState:{get:function(){return b},set:function(t){b=t}},noData:{get:function(){return k},set:function(t){k=t}},margin:{get:function(){return d},set:function(t){d.top=void 0!==t.top?t.top:d.top,d.right=void 0!==t.right?t.right:d.right,d.bottom=void 0!==t.bottom?t.bottom:d.bottom,d.left=void 0!==t.left?t.left:d.left}},color:{get:function(){return h},set:function(t){h=i.utils.getColor(t),l.color(h),a.color(h)}},duration:{get:function(){return M},set:function(t){M=t,C.reset(M),s.duration(M),o.duration(M)}},rightAlignYAxis:{get:function(){return y},set:function(t){y=t,s.orient(t?"right":"left")}},useInteractiveGuideline:{get:function(){return _},set:function(t){_=t,!0===t&&chart.interactive(!1)}}}),i.utils.inheritOptions(chart,a),i.utils.initOptions(chart),chart},i.models.ohlcBarChart=function(){var t=i.models.historicalBarChart(i.models.ohlcBar());return t.useInteractiveGuideline(!0),t.interactiveLayer.tooltip.contentGenerator(function(e){var n=e.series[0].data;return'<h3 style="color: #'+(n.open<n.close?"2ca02c":"d62728")+'">'+e.value+"</h3><table><tr><td>open:</td><td>"+t.yAxis.tickFormat()(n.open)+"</td></tr><tr><td>close:</td><td>"+t.yAxis.tickFormat()(n.close)+"</td></tr><tr><td>high</td><td>"+t.yAxis.tickFormat()(n.high)+"</td></tr><tr><td>low:</td><td>"+t.yAxis.tickFormat()(n.low)+"</td></tr></table>"}),t},i.models.candlestickBarChart=function(){var t=i.models.historicalBarChart(i.models.candlestickBar());return t.useInteractiveGuideline(!0),t.interactiveLayer.tooltip.contentGenerator(function(e){var n=e.series[0].data;return'<h3 style="color: #'+(n.open<n.close?"2ca02c":"d62728")+'">'+e.value+"</h3><table><tr><td>open:</td><td>"+t.yAxis.tickFormat()(n.open)+"</td></tr><tr><td>close:</td><td>"+t.yAxis.tickFormat()(n.close)+"</td></tr><tr><td>high</td><td>"+t.yAxis.tickFormat()(n.high)+"</td></tr><tr><td>low:</td><td>"+t.yAxis.tickFormat()(n.low)+"</td></tr></table>"}),t},i.models.legend=function(){"use strict";function chart(m){function setTextColor(t,e){return"furious"!=v?"#000":p?t.disengaged?"#000":"#fff":p?void 0:(t.color||(t.color=s(t,e)),t.disabled?t.color:"#fff")}function setBGColor(t,e){return p&&"furious"==v&&t.disengaged?"#eee":t.color||s(t,e)}function setBGOpacity(t,e){return p&&"furious"==v?1:t.disabled?0:1}return m.each(function(s){var m=e-t.left-t.right,y=r.select(this);i.utils.initSVG(y);var _=y.selectAll("g.nv-legend").data([s]),x=_.enter().append("g").attr("class","nvd3 nv-legend").append("g"),b=_.select("g");_.attr("transform","translate("+t.left+","+t.top+")");var k,w,M=b.selectAll(".nv-series").data(function(t){return"furious"!=v?t:t.filter(function(t){return!!p||!t.disengaged})}),C=M.enter().append("g").attr("class","nv-series");switch(v){case"furious":w=23;break;case"classic":w=20}if("classic"==v)C.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),k=M.select(".nv-legend-symbol");else if("furious"==v){C.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",3).attr("ry",3),k=M.select(".nv-legend-symbol"),C.append("g").attr("class","nv-check-box").property("innerHTML",'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"></path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"></path>').attr("transform","translate(-10,-8)scale(0.5)");var S=M.select(".nv-check-box");S.each(function(t,e){r.select(this).selectAll("path").attr("stroke",setTextColor(t,e))})}C.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");var A=M.select("text.nv-legend-text");M.on("mouseover",function(t,e){g.legendMouseover(t,e)}).on("mouseout",function(t,e){g.legendMouseout(t,e)}).on("click",function(t,e){g.legendClick(t,e);var n=M.data();if(h){if("classic"==v)f?(n.forEach(function(t){t.disabled=!0}),t.disabled=!1):(t.disabled=!t.disabled,n.every(function(t){return t.disabled})&&n.forEach(function(t){t.disabled=!1}));else if("furious"==v)if(p)t.disengaged=!t.disengaged,t.userDisabled=void 0==t.userDisabled?!!t.disabled:t.userDisabled,t.disabled=t.disengaged||t.userDisabled;else if(!p){t.disabled=!t.disabled,t.userDisabled=t.disabled;var r=n.filter(function(t){return!t.disengaged});r.every(function(t){return t.userDisabled})&&n.forEach(function(t){t.disabled=t.userDisabled=!1})}g.stateChange({disabled:n.map(function(t){return!!t.disabled}),disengaged:n.map(function(t){return!!t.disengaged})})}}).on("dblclick",function(t,e){if(("furious"!=v||!p)&&(g.legendDblclick(t,e),h)){var n=M.data();n.forEach(function(t){t.disabled=!0,"furious"==v&&(t.userDisabled=t.disabled)}),t.disabled=!1,"furious"==v&&(t.userDisabled=t.disabled),g.stateChange({disabled:n.map(function(t){return!!t.disabled})})}}),M.classed("nv-disabled",function(t){return t.userDisabled}),M.exit().remove(),A.attr("fill",setTextColor).text(function(t){return o(a(t))});var E=0;if(c){var T=[];M.each(function(t,e){var n;if(o(a(t))&&o(a(t)).length>l){var s=o(a(t)).substring(0,l);n=r.select(this).select("text").text(s+"..."),r.select(this).append("svg:title").text(o(a(t)))}else n=r.select(this).select("text");var c;try{if((c=n.node().getComputedTextLength())<=0)throw Error()}catch(t){c=i.utils.calcApproxTextWidth(n)}T.push(c+u)});var L=0,D=[];for(E=0;E<m&&L<T.length;)D[L]=T[L],E+=T[L++];for(0===L&&(L=1);E>m&&L>1;){D=[],L--;for(var F=0;F<T.length;F++)T[F]>(D[F%L]||0)&&(D[F%L]=T[F]);E=D.reduce(function(t,e,n,r){return t+e})}for(var N=[],P=0,z=0;P<L;P++)N[P]=z,z+=D[P];M.attr("transform",function(t,e){return"translate("+N[e%L]+","+(5+Math.floor(e/L)*w)+")"}),d?b.attr("transform","translate("+(e-t.right-E)+","+t.top+")"):b.attr("transform","translate(0,"+t.top+")"),n=t.top+t.bottom+Math.ceil(T.length/L)*w}else{var R,B=5,I=5,W=0;M.attr("transform",function(n,i){var a=r.select(this).select("text").node().getComputedTextLength()+u;return R=I,e<t.left+t.right+R+a&&(I=R=5,B+=w),I+=a,I>W&&(W=I),E<R+W&&(E=R+W),"translate("+R+","+B+")"}),b.attr("transform","translate("+(e-t.right-W)+","+t.top+")"),n=t.top+t.bottom+B+15}if("furious"==v){k.attr("width",function(t,e){return A[0][e].getComputedTextLength()+27}).attr("height",18).attr("y",-9).attr("x",-15),x.insert("rect",":first-child").attr("class","nv-legend-bg").attr("fill","#eee").attr("opacity",0);b.select(".nv-legend-bg").transition().duration(300).attr("x",-w).attr("width",E+w-12).attr("height",n+10).attr("y",-t.top-10).attr("opacity",p?1:0)}k.style("fill",setBGColor).style("fill-opacity",setBGOpacity).style("stroke",setBGColor)}),chart}var t={top:5,right:0,bottom:5,left:0},e=400,n=20,a=function(t){return t.key},o=function(t){return t},s=i.utils.getColor(),l=20,c=!0,u=32,d=!0,h=!0,f=!1,p=!1,g=r.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),v="classic";return chart.dispatch=g,chart.options=i.utils.optionsFunc.bind(chart),chart._options=Object.create({},{width:{get:function(){return e},set:function(t){e=t}},height:{get:function(){return n},set:function(t){n=t}},key:{get:function(){return a},set:function(t){a=t}},keyFormatter:{get:function(){return o},set:function(t){o=t}},align:{get:function(){return c},set:function(t){c=t}},maxKeyLength:{get:function(){return l},set:function(t){l=t}},rightAlign:{get:function(){return d},set:function(t){d=t}},padding:{get:function(){return u},set:function(t){u=t}},updateState:{get:function(){return h},set:function(t){h=t}},radioButtonMode:{get:function(){return f},set:function(t){f=t}},expanded:{get:function(){return p},set:function(t){p=t}},vers:{get:function(){return v},set:function(t){v=t}},margin:{get:function(){return t},set:function(e){t.top=void 0!==e.top?e.top:t.top,t.right=void 0!==e.right?e.right:t.right,t.bottom=void 0!==e.bottom?e.bottom:t.bottom,t.left=void 0!==e.left?e.left:t.left}},color:{get:function(){return s},set:function(t){s=i.utils.getColor(t)}}}),i.utils.initOptions(chart),chart},i.models.line=function(){"use strict";function chart(m){return b.reset(),b.models(n),m.each(function(m){l=r.select(this);var y=i.utils.availableWidth(o,l,a),k=i.utils.availableHeight(s,l,a);i.utils.initSVG(l),t=n.xScale(),e=n.yScale(),_=_||t,x=x||e;var w=l.selectAll("g.nv-wrap.nv-line").data([m]),M=w.enter().append("g").attr("class","nvd3 nv-wrap nv-line"),C=M.append("defs"),S=M.append("g"),A=w.select("g");S.append("g").attr("class","nv-groups"),S.append("g").attr("class","nv-scatterWrap"),w.attr("transform","translate("+a.left+","+a.top+")"),n.width(y).height(k);var E=w.select(".nv-scatterWrap");E.call(n),C.append("clipPath").attr("id","nv-edge-clip-"+n.id()).append("rect"),w.select("#nv-edge-clip-"+n.id()+" rect").attr("width",y).attr("height",k>0?k:0),A.attr("clip-path",g?"url(#nv-edge-clip-"+n.id()+")":""),E.attr("clip-path",g?"url(#nv-edge-clip-"+n.id()+")":"");var T=w.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});T.enter().append("g").style("stroke-opacity",1e-6).style("stroke-width",function(t){return t.strokeWidth||c}).style("fill-opacity",1e-6),T.exit().remove(),T.attr("class",function(t,e){return(t.classed||"")+" nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return u(t,e)}).style("stroke",function(t,e){return u(t,e)}),T.watchTransition(b,"line: groups").style("stroke-opacity",1).style("fill-opacity",function(t){return t.fillOpacity||.5});var L=T.selectAll("path.nv-area").data(function(t){return p(t)?[t]:[]});L.enter().append("path").attr("class","nv-area").attr("d",function(t){return r.svg.area().interpolate(v).defined(f).x(function(t,e){return i.utils.NaNtoZero(_(d(t,e)))}).y0(function(t,e){return i.utils.NaNtoZero(x(h(t,e)))}).y1(function(t,n){return x(e.domain()[0]<=0?e.domain()[1]>=0?0:e.domain()[1]:e.domain()[0])}).apply(this,[t.values])}),T.exit().selectAll("path.nv-area").remove(),L.watchTransition(b,"line: areaPaths").attr("d",function(n){return r.svg.area().interpolate(v).defined(f).x(function(e,n){return i.utils.NaNtoZero(t(d(e,n)))}).y0(function(t,n){return i.utils.NaNtoZero(e(h(t,n)))}).y1(function(t,n){return e(e.domain()[0]<=0?e.domain()[1]>=0?0:e.domain()[1]:e.domain()[0])}).apply(this,[n.values])});var D=T.selectAll("path.nv-line").data(function(t){return[t.values]});D.enter().append("path").attr("class","nv-line").attr("d",r.svg.line().interpolate(v).defined(f).x(function(t,e){return i.utils.NaNtoZero(_(d(t,e)))}).y(function(t,e){return i.utils.NaNtoZero(x(h(t,e)))})),D.watchTransition(b,"line: linePaths").attr("d",r.svg.line().interpolate(v).defined(f).x(function(e,n){return i.utils.NaNtoZero(t(d(e,n)))}).y(function(t,n){return i.utils.NaNtoZero(e(h(t,n)))})),_=t.copy(),x=e.copy()}),b.renderEnd("line immediate"),chart}var t,e,n=i.models.scatter(),a={top:0,right:0,bottom:0,left:0},o=960,s=500,l=null,c=1.5,u=i.utils.defaultColor(),d=function(t){return t.x},h=function(t){return t.y},f=function(t,e){return!isNaN(h(t,e))&&null!==h(t,e)},p=function(t){return t.area},g=!1,v="linear",m=250,y=r.dispatch("elementClick","elementMouseover","elementMouseout","renderEnd");n.pointSize(16).pointDomain([16,256]);var _,x,b=i.utils.renderWatch(y,m);return chart.dispatch=y,chart.scatter=n,n.dispatch.on("elementClick",function(){y.elementClick.apply(this,arguments)}),n.dispatch.on("elementMouseover",function(){y.elementMouseover.apply(this,arguments)}),n.dispatch.on("elementMouseout",function(){y.elementMouseout.apply(this,arguments)}),chart.options=i.utils.optionsFunc.bind(chart),chart._options=Object.create({},{width:{get:function(){return o},set:function(t){o=t}},height:{get:function(){return s},set:function(t){s=t}},defined:{get:function(){return f},set:function(t){f=t}},interpolate:{get:function(){return v},set:function(t){v=t}},clipEdge:{get:function(){return g},set:function(t){g=t}},margin:{get:function(){return a},set:function(t){a.top=void 0!==t.top?t.top:a.top,a.right=void 0!==t.right?t.right:a.right,a.bottom=void 0!==t.bottom?t.bottom:a.bottom,a.left=void 0!==t.left?t.left:a.left}},duration:{get:function(){return m},set:function(t){m=t,b.reset(m),n.duration(m)}},isArea:{get:function(){return p},set:function(t){p=r.functor(t)}},x:{get:function(){return d},set:function(t){d=t,n.x(t)}},y:{get:function(){return h},set:function(t){h=t,n.y(t)}},color:{get:function(){return u},set:function(t){u=i.utils.getColor(t),n.color(u)}}}),i.utils.inheritOptions(chart,n),i.utils.initOptions(chart),chart},i.models.lineChart=function(){"use strict";function chart(c){return A.reset(),A.models(n),m&&A.models(a),y&&A.models(o),c.each(function(c){function updateXAxis(){m&&P.select(".nv-focus .nv-x.nv-axis").transition().duration(S).call(a)}function updateYAxis(){y&&P.select(".nv-focus .nv-y.nv-axis").transition().duration(S).call(o)}function onBrush(t){P.select(".nv-focus .nv-linesWrap").datum(c.filter(function(t){return!t.disabled}).map(function(e,r){return{key:e.key,area:e.area,classed:e.classed,values:e.values.filter(function(e,r){return n.x()(e,r)>=t[0]&&n.x()(e,r)<=t[1]}),disableTooltip:e.disableTooltip}})).transition().duration(S).call(n),updateXAxis(),updateYAxis()}var M=r.select(this);i.utils.initSVG(M);var A=i.utils.availableWidth(f,M,d),L=i.utils.availableHeight(p,M,d)-(b?u.height():0);if(chart.update=function(){0===S?M.call(chart):M.transition().duration(S).call(chart)},chart.container=this,k.setter(T(c),chart.update).getter(E(c)).update(),k.disabled=c.map(function(t){return!!t.disabled}),!w){var D;w={};for(D in k)k[D]instanceof Array?w[D]=k[D].slice(0):w[D]=k[D]}if(!(c&&c.length&&c.filter(function(t){return t.values.length}).length))return i.utils.noData(chart,M),chart;M.selectAll(".nv-noData").remove(),u.dispatch.on("onBrush",function(t){onBrush(t)}),t=n.xScale(),e=n.yScale();var F=M.selectAll("g.nv-wrap.nv-lineChart").data([c]),N=F.enter().append("g").attr("class","nvd3 nv-wrap nv-lineChart").append("g"),P=F.select("g");N.append("g").attr("class","nv-legendWrap");var z=N.append("g").attr("class","nv-focus");z.append("g").attr("class","nv-background").append("rect"),z.append("g").attr("class","nv-x nv-axis"),z.append("g").attr("class","nv-y nv-axis"),z.append("g").attr("class","nv-linesWrap"),z.append("g").attr("class","nv-interactive");N.append("g").attr("class","nv-focusWrap");g?(s.width(A),P.select(".nv-legendWrap").datum(c).call(s),"bottom"===v?F.select(".nv-legendWrap").attr("transform","translate(0,"+L+")"):"top"===v&&(s.height()>d.top&&(d.top=s.height(),L=i.utils.availableHeight(p,M,d)-(b?u.height():0)),F.select(".nv-legendWrap").attr("transform","translate(0,"+-d.top+")"))):P.select(".nv-legendWrap").selectAll("*").remove(),F.attr("transform","translate("+d.left+","+d.top+")"),_&&P.select(".nv-y.nv-axis").attr("transform","translate("+A+",0)"),x&&(l.width(A).height(L).margin({left:d.left,top:d.top}).svgContainer(M).xScale(t),F.select(".nv-interactive").call(l)),P.select(".nv-focus .nv-background rect").attr("width",A).attr("height",L),n.width(A).height(L).color(c.map(function(t,e){return t.color||h(t,e)}).filter(function(t,e){return!c[e].disabled}));var R=P.select(".nv-linesWrap").datum(c.filter(function(t){return!t.disabled}));if(m&&a.scale(t)._ticks(i.utils.calcTicksX(A/100,c)).tickSize(-L,0),y&&o.scale(e)._ticks(i.utils.calcTicksY(L/36,c)).tickSize(-A,0),P.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+L+")"),b){u.width(A),P.select(".nv-focusWrap").attr("transform","translate(0,"+(L+d.bottom+u.margin().top)+")").datum(c.filter(function(t){return!t.disabled})).call(u);var B=u.brush.empty()?u.xDomain():u.brush.extent();null!==B&&onBrush(B)}else R.call(n),updateXAxis(),updateYAxis();s.dispatch.on("stateChange",function(t){for(var e in t)k[e]=t[e];C.stateChange(k),chart.update()}),l.dispatch.on("elementMousemove",function(e){n.clearHighlights();var r,a,s,d=[];if(c.filter(function(t,e){return t.seriesIndex=e,!t.disabled&&!t.disableTooltip}).forEach(function(o,l){var c=b?u.brush.empty()?u.xScale().domain():u.brush.extent():t.domain(),f=o.values.filter(function(t,e){return n.x()(t,e)>=c[0]&&n.x()(t,e)<=c[1]});a=i.interactiveBisect(f,e.pointXValue,n.x());var p=f[a],g=chart.y()(p,a);null!==g&&n.highlightPoint(o.seriesIndex,a,!0),void 0!==p&&(void 0===r&&(r=p),void 0===s&&(s=chart.xScale()(chart.x()(p,a))),d.push({key:o.key,value:g,color:h(o,o.seriesIndex),data:p}))}),d.length>2){var f=chart.yScale().invert(e.mouseY),p=Math.abs(chart.yScale().domain()[0]-chart.yScale().domain()[1]),g=.03*p,v=i.nearestValueIndex(d.map(function(t){return t.value}),f,g);null!==v&&(d[v].highlight=!0)}var m=function(t,e){return null==t?"N/A":o.tickFormat()(t)};l.tooltip.valueFormatter(l.tooltip.valueFormatter()||m).data({value:chart.x()(r,a),index:a,series:d})(),l.renderGuideLine(s)}),l.dispatch.on("elementClick",function(t){var e,r=[];c.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(n){var a=i.interactiveBisect(n.values,t.pointXValue,chart.x()),o=n.values[a];if(void 0!==o){void 0===e&&(e=chart.xScale()(chart.x()(o,a)));var s=chart.yScale()(chart.y()(o,a));r.push({point:o,pointIndex:a,pos:[e,s],seriesIndex:n.seriesIndex,series:n})}}),n.dispatch.elementClick(r)}),l.dispatch.on("elementMouseout",function(t){n.clearHighlights()}),C.on("changeState",function(t){void 0!==t.disabled&&c.length===t.disabled.length&&(c.forEach(function(e,n){e.disabled=t.disabled[n]}),k.disabled=t.disabled),chart.update()})}),A.renderEnd("lineChart immediate"),chart}var t,e,n=i.models.line(),a=i.models.axis(),o=i.models.axis(),s=i.models.legend(),l=i.interactiveGuideline(),c=i.models.tooltip(),u=i.models.focus(i.models.line()),d={top:30,right:20,bottom:50,left:60},h=i.utils.defaultColor(),f=null,p=null,g=!0,v="top",m=!0,y=!0,_=!1,x=!1,b=!1,k=i.utils.state(),w=null,M=null,C=r.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),S=250;a.orient("bottom").tickPadding(7),o.orient(_?"right":"left"),n.clipEdge(!0).duration(0),c.valueFormatter(function(t,e){return o.tickFormat()(t,e)}).headerFormatter(function(t,e){return a.tickFormat()(t,e)}),l.tooltip.valueFormatter(function(t,e){return o.tickFormat()(t,e)}).headerFormatter(function(t,e){return a.tickFormat()(t,e)});var A=i.utils.renderWatch(C,S),E=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},T=function(t){return function(e){void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};return n.dispatch.on("elementMouseover.tooltip",function(t){t.series.disableTooltip||c.data(t).hidden(!1)}),n.dispatch.on("elementMouseout.tooltip",function(t){c.hidden(!0)}),chart.dispatch=C,chart.lines=n,chart.legend=s,chart.focus=u,chart.xAxis=a,chart.x2Axis=u.xAxis,chart.yAxis=o,chart.y2Axis=u.yAxis,chart.interactiveLayer=l,chart.tooltip=c,chart.state=k,chart.dispatch=C,chart.options=i.utils.optionsFunc.bind(chart),chart._options=Object.create({},{width:{get:function(){return f},set:function(t){f=t}},height:{get:function(){return p},set:function(t){p=t}},showLegend:{get:function(){return g},set:function(t){g=t}},legendPosition:{get:function(){return v},set:function(t){v=t}},showXAxis:{get:function(){return m},set:function(t){m=t}},showYAxis:{get:function(){return y},set:function(t){y=t}},defaultState:{get:function(){return w},set:function(t){w=t}},noData:{get:function(){return M},set:function(t){M=t}},focusEnable:{get:function(){return b},set:function(t){b=t}},focusHeight:{get:function(){return u.height()},set:function(t){u.height(t)}},focusShowAxisX:{get:function(){return u.showXAxis()},set:function(t){u.showXAxis(t)}},focusShowAxisY:{get:function(){return u.showYAxis()},set:function(t){u.showYAxis(t)}},brushExtent:{get:function(){return u.brushExtent()},set:function(t){u.brushExtent(t)}},focusMargin:{get:function(){return u.margin},set:function(t){u.margin.top=void 0!==t.top?t.top:u.margin.top,u.margin.right=void 0!==t.right?t.right:u.margin.right,u.margin.bottom=void 0!==t.bottom?t.bottom:u.margin.bottom,u.margin.left=void 0!==t.left?t.left:u.margin.left}},margin:{get:function(){return d},set:function(t){d.top=void 0!==t.top?t.top:d.top,d.right=void 0!==t.right?t.right:d.right,d.bottom=void 0!==t.bottom?t.bottom:d.bottom,d.left=void 0!==t.left?t.left:d.left}},duration:{get:function(){return S},set:function(t){S=t,A.reset(S),n.duration(S),u.duration(S),a.duration(S),o.duration(S)}},color:{get:function(){return h},set:function(t){h=i.utils.getColor(t),s.color(h),n.color(h),u.color(h)}},interpolate:{get:function(){return n.interpolate()},set:function(t){n.interpolate(t),u.interpolate(t)}},xTickFormat:{get:function(){return a.tickFormat()},set:function(t){a.tickFormat(t),u.xTickFormat(t)}},yTickFormat:{get:function(){return o.tickFormat()},set:function(t){o.tickFormat(t),u.yTickFormat(t)}},x:{get:function(){return n.x()},set:function(t){n.x(t),u.x(t)}},y:{get:function(){return n.y()},set:function(t){n.y(t),u.y(t)}},rightAlignYAxis:{get:function(){return _},set:function(t){_=t,o.orient(_?"right":"left")}},useInteractiveGuideline:{get:function(){return x},set:function(t){(x=t)&&(n.interactive(!1),n.useVoronoi(!1))}}}),i.utils.inheritOptions(chart,n),i.utils.initOptions(chart),chart},i.models.lineWithFocusChart=function(){return i.models.lineChart().margin({bottom:30}).focusEnable(!0)},i.models.linePlusBarChart=function(){"use strict";function chart(b){return b.each(function(b){function resizePath(t){var e=+("e"==t),n=e?1:-1,r=X/3;return"M"+.5*n+","+r+"A6,6 0 0 "+e+" "+6.5*n+","+(r+6)+"V"+(2*r-6)+"A6,6 0 0 "+e+" "+.5*n+","+2*r+"ZM"+2.5*n+","+(r+8)+"V"+(2*r-8)+"M"+4.5*n+","+(r+8)+"V"+(2*r-8)}function updateBrushBG(){x.empty()||x.extent(P),ct.data([x.empty()?n.domain():P]).each(function(t,e){var i=n(t[0])-n.range()[0],a=n.range()[1]-n(t[1]);r.select(this).select(".left").attr("width",i<0?0:i),r.select(this).select(".right").attr("x",n(t[1])).attr("width",a<0?0:a)})}function onBrush(){P=x.empty()?null:x.extent(),t=x.empty()?n.domain():x.extent(),R.brush({extent:t,brush:x}),updateBrushBG(),d.width(j).height(V).color(b.map(function(t,e){return t.color||E(t,e)}).filter(function(t,e){return!b[e].disabled&&b[e].bar})),c.width(j).height(V).color(b.map(function(t,e){return t.color||E(t,e)}).filter(function(t,e){return!b[e].disabled&&!b[e].bar}));var r=nt.select(".nv-focus .nv-barsWrap").datum($.length?$.map(function(e,n){return{key:e.key,values:e.values.filter(function(e,n){return d.x()(e,n)>=t[0]&&d.x()(e,n)<=t[1]})}}):[{values:[]}]),s=nt.select(".nv-focus .nv-linesWrap").datum(U(J)?[{values:[]}]:J.filter(function(t){return!t.disabled}).map(function(e,n){return{area:e.area,fillOpacity:e.fillOpacity,strokeWidth:e.strokeWidth,key:e.key,values:e.values.filter(function(e,n){return c.x()(e,n)>=t[0]&&c.x()(e,n)<=t[1]})}}));e=$.length&&!G?d.xScale():c.xScale(),f.scale(e)._ticks(i.utils.calcTicksX(j/100,b)).tickSize(-V,0),f.domain([Math.ceil(t[0]),Math.floor(t[1])]),nt.select(".nv-x.nv-axis").transition().duration(B).call(f),r.transition().duration(B).call(d),s.transition().duration(B).call(c),nt.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+a.range()[0]+")"),g.scale(a)._ticks(i.utils.calcTicksY(V/36,b)).tickSize(-j,0),v.scale(o)._ticks(i.utils.calcTicksY(V/36,b)),G?v.tickSize(J.length?0:-j,0):v.tickSize($.length?0:-j,0);var l=$.length?1:0,u=J.length&&!U(J)?1:0,h=G?u:l,p=G?l:u;nt.select(".nv-focus .nv-y1.nv-axis").style("opacity",h),nt.select(".nv-focus .nv-y2.nv-axis").style("opacity",p).attr("transform","translate("+e.range()[1]+",0)"),nt.select(".nv-focus .nv-y1.nv-axis").transition().duration(B).call(g),nt.select(".nv-focus .nv-y2.nv-axis").transition().duration(B).call(v)}var z=r.select(this);i.utils.initSVG(z);var j=i.utils.availableWidth(M,z,k),V=i.utils.availableHeight(C,z,k)-(L?N:0),X=N-w.top-w.bottom;if(chart.update=function(){z.transition().duration(B).call(chart)},chart.container=this,I.setter(q(b),chart.update).getter(Y(b)).update(),I.disabled=b.map(function(t){return!!t.disabled}),!W){var Z;W={};for(Z in I)I[Z]instanceof Array?W[Z]=I[Z].slice(0):W[Z]=I[Z]}if(!(b&&b.length&&b.filter(function(t){return t.values.length}).length))return i.utils.noData(chart,z),chart;z.selectAll(".nv-noData").remove();var $=b.filter(function(t){return!t.disabled&&t.bar}),J=b.filter(function(t){return!t.bar});e=$.length&&!G?d.xScale():c.xScale(),n=p.scale(),a=G?c.yScale():d.yScale(),o=G?d.yScale():c.yScale(),s=G?u.yScale():h.yScale(),l=G?h.yScale():u.yScale();var Q=b.filter(function(t){return!t.disabled&&(G?!t.bar:t.bar)}).map(function(t){return t.values.map(function(t,e){return{x:S(t,e),y:A(t,e)}})}),K=b.filter(function(t){return!t.disabled&&(G?t.bar:!t.bar)}).map(function(t){return t.values.map(function(t,e){return{x:S(t,e),y:A(t,e)}})});e.range([0,j]),n.domain(r.extent(r.merge(Q.concat(K)),function(t){return t.x})).range([0,j]);var tt=z.selectAll("g.nv-wrap.nv-linePlusBar").data([b]),et=tt.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g"),nt=tt.select("g");et.append("g").attr("class","nv-legendWrap");var rt=et.append("g").attr("class","nv-focus");rt.append("g").attr("class","nv-x nv-axis"),rt.append("g").attr("class","nv-y1 nv-axis"),rt.append("g").attr("class","nv-y2 nv-axis"),rt.append("g").attr("class","nv-barsWrap"),rt.append("g").attr("class","nv-linesWrap");var it=et.append("g").attr("class","nv-context");if(it.append("g").attr("class","nv-x nv-axis"),it.append("g").attr("class","nv-y1 nv-axis"),it.append("g").attr("class","nv-y2 nv-axis"),it.append("g").attr("class","nv-barsWrap"),it.append("g").attr("class","nv-linesWrap"),it.append("g").attr("class","nv-brushBackground"),it.append("g").attr("class","nv-x nv-brush"),T){var at=_.align()?j/2:j,ot=_.align()?at:0;_.width(at),nt.select(".nv-legendWrap").datum(b.map(function(t){return t.originalKey=void 0===t.originalKey?t.key:t.originalKey,t.key=G?t.originalKey+(t.bar?H:O):t.originalKey+(t.bar?O:H),t})).call(_),_.height()>k.top&&(k.top=_.height(),V=i.utils.availableHeight(C,z,k)-N),nt.select(".nv-legendWrap").attr("transform","translate("+ot+","+-k.top+")")}else nt.select(".nv-legendWrap").selectAll("*").remove();tt.attr("transform","translate("+k.left+","+k.top+")"),nt.select(".nv-context").style("display",L?"initial":"none"),h.width(j).height(X).color(b.map(function(t,e){return t.color||E(t,e)}).filter(function(t,e){return!b[e].disabled&&b[e].bar})),u.width(j).height(X).color(b.map(function(t,e){return t.color||E(t,e)}).filter(function(t,e){return!b[e].disabled&&!b[e].bar}));var st=nt.select(".nv-context .nv-barsWrap").datum($.length?$:[{values:[]}]),lt=nt.select(".nv-context .nv-linesWrap").datum(U(J)?[{values:[]}]:J.filter(function(t){return!t.disabled}));nt.select(".nv-context").attr("transform","translate(0,"+(V+k.bottom+w.top)+")"),st.transition().call(h),lt.transition().call(u),F&&(p._ticks(i.utils.calcTicksX(j/100,b)).tickSize(-X,0),nt.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+s.range()[0]+")"),nt.select(".nv-context .nv-x.nv-axis").transition().call(p)),D&&(m.scale(s)._ticks(X/36).tickSize(-j,0),y.scale(l)._ticks(X/36).tickSize($.length?0:-j,0),nt.select(".nv-context .nv-y3.nv-axis").style("opacity",$.length?1:0).attr("transform","translate(0,"+n.range()[0]+")"),nt.select(".nv-context .nv-y2.nv-axis").style("opacity",J.length?1:0).attr("transform","translate("+n.range()[1]+",0)"),nt.select(".nv-context .nv-y1.nv-axis").transition().call(m),nt.select(".nv-context .nv-y2.nv-axis").transition().call(y)),x.x(n).on("brush",onBrush),P&&x.extent(P);var ct=nt.select(".nv-brushBackground").selectAll("g").data([P||x.extent()]),ut=ct.enter().append("g");ut.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",X),ut.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",X);var dt=nt.select(".nv-x.nv-brush").call(x);dt.selectAll("rect").attr("height",X),dt.selectAll(".resize").append("path").attr("d",resizePath),_.dispatch.on("stateChange",function(t){for(var e in t)I[e]=t[e];R.stateChange(I),chart.update()}),R.on("changeState",function(t){void 0!==t.disabled&&(b.forEach(function(e,n){e.disabled=t.disabled[n]}),I.disabled=t.disabled),chart.update()}),onBrush()}),chart}var t,e,n,a,o,s,l,c=i.models.line(),u=i.models.line(),d=i.models.historicalBar(),h=i.models.historicalBar(),f=i.models.axis(),p=i.models.axis(),g=i.models.axis(),v=i.models.axis(),m=i.models.axis(),y=i.models.axis(),_=i.models.legend(),x=r.svg.brush(),b=i.models.tooltip(),k={top:30,right:30,bottom:30,left:60},w={top:0,right:30,bottom:20,left:60},M=null,C=null,S=function(t){return t.x},A=function(t){return t.y},E=i.utils.defaultColor(),T=!0,L=!0,D=!1,F=!0,N=50,P=null,z=null,R=r.dispatch("brush","stateChange","changeState"),B=0,I=i.utils.state(),W=null,O=" (left axis)",H=" (right axis)",G=!1;c.clipEdge(!0),u.interactive(!1),u.pointActive(function(t){return!1}),f.orient("bottom").tickPadding(5),g.orient("left"),v.orient("right"),p.orient("bottom").tickPadding(5),m.orient("left"),y.orient("right"),b.headerEnabled(!0).headerFormatter(function(t,e){return f.tickFormat()(t,e)});var j=function(){return G?{main:v,focus:y}:{main:g,focus:m}},V=function(){return G?{main:g,focus:m}:{main:v,focus:y}},Y=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},q=function(t){return function(e){void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}},U=function(t){return t.every(function(t){return t.disabled})};return c.dispatch.on("elementMouseover.tooltip",function(t){b.duration(100).valueFormatter(function(t,e){return V().main.tickFormat()(t,e)}).data(t).hidden(!1)}),c.dispatch.on("elementMouseout.tooltip",function(t){b.hidden(!0)}),d.dispatch.on("elementMouseover.tooltip",function(t){t.value=chart.x()(t.data),t.series={value:chart.y()(t.data),color:t.color},b.duration(0).valueFormatter(function(t,e){return j().main.tickFormat()(t,e)}).data(t).hidden(!1)}),d.dispatch.on("elementMouseout.tooltip",function(t){b.hidden(!0)}),d.dispatch.on("elementMousemove.tooltip",function(t){b()}),chart.dispatch=R,chart.legend=_,chart.lines=c,chart.lines2=u,chart.bars=d,chart.bars2=h,chart.xAxis=f,chart.x2Axis=p,chart.y1Axis=g,chart.y2Axis=v,chart.y3Axis=m,chart.y4Axis=y,chart.tooltip=b,chart.options=i.utils.optionsFunc.bind(chart),chart._options=Object.create({},{width:{get:function(){return M},set:function(t){M=t}},height:{get:function(){return C},set:function(t){C=t}},showLegend:{get:function(){return T},set:function(t){T=t}},brushExtent:{get:function(){return P},set:function(t){P=t}},noData:{get:function(){return z},set:function(t){z=t}},focusEnable:{get:function(){return L},set:function(t){L=t}},focusHeight:{get:function(){return N},set:function(t){N=t}},focusShowAxisX:{get:function(){return F},set:function(t){F=t}},focusShowAxisY:{get:function(){return D},set:function(t){D=t}},legendLeftAxisHint:{get:function(){return O},set:function(t){O=t}},legendRightAxisHint:{get:function(){return H},set:function(t){H=t}},margin:{get:function(){return k},set:function(t){k.top=void 0!==t.top?t.top:k.top,k.right=void 0!==t.right?t.right:k.right,k.bottom=void 0!==t.bottom?t.bottom:k.bottom,k.left=void 0!==t.left?t.left:k.left}},focusMargin:{get:function(){return w},set:function(t){w.top=void 0!==t.top?t.top:w.top,w.right=void 0!==t.right?t.right:w.right,w.bottom=void 0!==t.bottom?t.bottom:w.bottom,w.left=void 0!==t.left?t.left:w.left}},duration:{get:function(){return B},set:function(t){B=t}},color:{get:function(){return E},set:function(t){E=i.utils.getColor(t),_.color(E)}},x:{get:function(){return S},set:function(t){S=t,c.x(t),u.x(t),d.x(t),h.x(t)}},y:{get:function(){return A},set:function(t){A=t,c.y(t),u.y(t),d.y(t),h.y(t)}},switchYAxisOrder:{get:function(){return G},set:function(t){if(G!==t){var e=g;g=v,v=e;var n=m;m=y,y=n}G=t,g.orient("left"),v.orient("right"),m.orient("left"),y.orient("right")}}}),i.utils.inheritOptions(chart,c),i.utils.initOptions(chart),chart},i.models.multiBar=function(){"use strict";function chart(D){return T.reset(),D.each(function(D){var F=u-c.left-c.right,N=d-c.top-c.bottom;g=r.select(this),i.utils.initSVG(g);var P=0;if(w&&D.length&&(w=[{values:D[0].values.map(function(t){return{x:t.x,y:0,series:t.series,size:.01}})}]),x){var z=r.layout.stack().offset(b).values(function(t){return t.values}).y(m)(!D.length&&w?w:D);z.forEach(function(t,e){t.nonStackable?(D[e].nonStackableSeries=P++,z[e]=D[e]):e>0&&z[e-1].nonStackable&&z[e].values.map(function(t,n){t.y0-=z[e-1].values[n].y,t.y1=t.y0+t.y})}),D=z}D.forEach(function(t,e){t.values.forEach(function(n){n.series=e,n.key=t.key})}),x&&D.length>0&&D[0].values.map(function(t,e){var n=0,r=0;D.map(function(t,i){if(!D[i].nonStackable){var a=t.values[e];a.size=Math.abs(a.y),a.y<0?(a.y1=r,r-=a.size):(a.y1=a.size+n,n+=a.size)}})});var R=e&&n?[]:D.map(function(t,e){return t.values.map(function(t,n){return{x:v(t,n),y:m(t,n),y0:t.y0,y1:t.y1,idx:e}})});h.domain(e||r.merge(R).map(function(t){return t.x})).rangeBands(a||[0,F],S),f.domain(n||r.extent(r.merge(R).map(function(t){var e=t.y;return x&&!D[t.idx].nonStackable&&(e=t.y>0?t.y1:t.y1+t.y),e}).concat(y))).range(o||[N,0]),h.domain()[0]===h.domain()[1]&&(h.domain()[0]?h.domain([h.domain()[0]-.01*h.domain()[0],h.domain()[1]+.01*h.domain()[1]]):h.domain([-1,1])),f.domain()[0]===f.domain()[1]&&(f.domain()[0]?f.domain([f.domain()[0]+.01*f.domain()[0],f.domain()[1]-.01*f.domain()[1]]):f.domain([-1,1])),s=s||h,l=l||f;var B=g.selectAll("g.nv-wrap.nv-multibar").data([D]),I=B.enter().append("g").attr("class","nvd3 nv-wrap nv-multibar"),W=I.append("defs"),O=I.append("g"),H=B.select("g");O.append("g").attr("class","nv-groups"),B.attr("transform","translate("+c.left+","+c.top+")"),W.append("clipPath").attr("id","nv-edge-clip-"+p).append("rect"),B.select("#nv-edge-clip-"+p+" rect").attr("width",F).attr("height",N),H.attr("clip-path",_?"url(#nv-edge-clip-"+p+")":"");var G=B.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t,e){return e});G.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);var j=T.transition(G.exit().selectAll("rect.nv-bar"),"multibarExit",Math.min(100,C)).attr("y",function(t,e,n){var r=l(0)||0;return x&&D[t.series]&&!D[t.series].nonStackable&&(r=l(t.y0)),r}).attr("height",0).remove();j.delay&&j.delay(function(t,e){return e*(C/(L+1))-e}),G.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return k(t,e)}).style("stroke",function(t,e){return k(t,e)}),G.style("stroke-opacity",1).style("fill-opacity",A);var V=G.selectAll("rect.nv-bar").data(function(t){return w&&!D.length?w.values:t.values});V.exit().remove();V.enter().append("rect").attr("class",function(t,e){return m(t,e)<0?"nv-bar negative":"nv-bar positive"}).attr("x",function(t,e,n){return x&&!D[n].nonStackable?0:n*h.rangeBand()/D.length}).attr("y",function(t,e,n){return l(x&&!D[n].nonStackable?t.y0:0)||0}).attr("height",0).attr("width",function(t,e,n){return h.rangeBand()/(x&&!D[n].nonStackable?1:D.length)}).attr("transform",function(t,e){return"translate("+h(v(t,e))+",0)"});V.style("fill",function(t,e,n){return k(t,n,e)}).style("stroke",function(t,e,n){return k(t,n,e)}).on("mouseover",function(t,e){r.select(this).classed("hover",!0),E.elementMouseover({data:t,index:e,color:r.select(this).style("fill")})}).on("mouseout",function(t,e){r.select(this).classed("hover",!1),E.elementMouseout({data:t,index:e,color:r.select(this).style("fill")})}).on("mousemove",function(t,e){E.elementMousemove({data:t,index:e,color:r.select(this).style("fill")})}).on("click",function(t,e){var n=this;E.elementClick({data:t,index:e,color:r.select(this).style("fill"),event:r.event,element:n}),r.event.stopPropagation()}).on("dblclick",function(t,e){E.elementDblClick({data:t,index:e,color:r.select(this).style("fill")}),r.event.stopPropagation()}),V.attr("class",function(t,e){return m(t,e)<0?"nv-bar negative":"nv-bar positive"}).attr("transform",function(t,e){return"translate("+h(v(t,e))+",0)"}),M&&(t||(t=D.map(function(){return!0})),V.style("fill",function(e,n,i){return r.rgb(M(e,n)).darker(t.map(function(t,e){return e}).filter(function(e,n){return!t[n]})[i]).toString()}).style("stroke",function(e,n,i){return r.rgb(M(e,n)).darker(t.map(function(t,e){return e}).filter(function(e,n){return!t[n]})[i]).toString()}));var Y=V.watchTransition(T,"multibar",Math.min(250,C)).delay(function(t,e){return e*C/D[0].values.length});x?Y.attr("y",function(t,e,n){return D[n].nonStackable?m(t,e)<0?f(0):f(0)-f(m(t,e))<-1?f(0)-1:f(m(t,e))||0:f(t.y1)}).attr("height",function(t,e,n){return D[n].nonStackable?Math.max(Math.abs(f(m(t,e))-f(0)),0)||0:Math.max(Math.abs(f(t.y+t.y0)-f(t.y0)),0)}).attr("x",function(t,e,n){var r=0;return D[n].nonStackable&&(r=t.series*h.rangeBand()/D.length,D.length!==P&&(r=D[n].nonStackableSeries*h.rangeBand()/(2*P))),r}).attr("width",function(t,e,n){if(D[n].nonStackable){var r=h.rangeBand()/P;return D.length!==P&&(r=h.rangeBand()/(2*P)),r}return h.rangeBand()}):Y.attr("x",function(t,e){return t.series*h.rangeBand()/D.length}).attr("width",h.rangeBand()/D.length).attr("y",function(t,e){return m(t,e)<0?f(0):f(0)-f(m(t,e))<1?f(0)-1:f(m(t,e))||0}).attr("height",function(t,e){return Math.max(Math.abs(f(m(t,e))-f(0)),1)||0}),s=h.copy(),l=f.copy(),D[0]&&D[0].values&&(L=D[0].values.length)}),T.renderEnd("multibar immediate"),chart}var t,e,n,a,o,s,l,c={top:0,right:0,bottom:0,left:0},u=960,d=500,h=r.scale.ordinal(),f=r.scale.linear(),p=Math.floor(1e4*Math.random()),g=null,v=function(t){return t.x},m=function(t){return t.y},y=[0],_=!0,x=!1,b="zero",k=i.utils.defaultColor(),w=!1,M=null,C=500,S=.1,A=.75,E=r.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),T=i.utils.renderWatch(E,C),L=0;return chart.dispatch=E,chart.options=i.utils.optionsFunc.bind(chart),chart._options=Object.create({},{width:{get:function(){return u},set:function(t){u=t}},height:{get:function(){return d},set:function(t){d=t}},x:{get:function(){return v},set:function(t){v=t}},y:{get:function(){return m},set:function(t){m=t}},xScale:{get:function(){return h},set:function(t){h=t}},yScale:{get:function(){return f},set:function(t){f=t}},xDomain:{get:function(){return e},set:function(t){e=t}},yDomain:{get:function(){return n},set:function(t){n=t}},xRange:{get:function(){return a},set:function(t){a=t}},yRange:{get:function(){return o},set:function(t){o=t}},forceY:{get:function(){return y},set:function(t){y=t}},stacked:{get:function(){return x},set:function(t){x=t}},stackOffset:{get:function(){return b},set:function(t){b=t}},clipEdge:{get:function(){return _},set:function(t){_=t}},disabled:{get:function(){return t},set:function(e){t=e}},id:{get:function(){return p},set:function(t){p=t}},hideable:{get:function(){return w},set:function(t){w=t}},groupSpacing:{get:function(){return S},set:function(t){S=t}},fillOpacity:{get:function(){return A},set:function(t){A=t}},margin:{get:function(){return c},set:function(t){c.top=void 0!==t.top?t.top:c.top,c.right=void 0!==t.right?t.right:c.right,c.bottom=void 0!==t.bottom?t.bottom:c.bottom,c.left=void 0!==t.left?t.left:c.left}},duration:{get:function(){return C},set:function(t){C=t,T.reset(C)}},color:{get:function(){return k},set:function(t){k=i.utils.getColor(t)}},barColor:{get:function(){return M},set:function(t){M=t?i.utils.getColor(t):null}}}),i.utils.initOptions(chart),chart},i.models.multiBarChart=function(){"use strict";function chart(A){return F.reset(),F.models(n),y&&F.models(a),_&&F.models(o),A.each(function(A){var F=r.select(this);i.utils.initSVG(F);var R=i.utils.availableWidth(h,F,d),B=i.utils.availableHeight(f,F,d);if(chart.update=function(){0===L?F.call(chart):F.transition().duration(L).call(chart)},chart.container=this,C.setter(z(A),chart.update).getter(P(A)).update(),C.disabled=A.map(function(t){return!!t.disabled}),!S){var I;S={};for(I in C)C[I]instanceof Array?S[I]=C[I].slice(0):S[I]=C[I]}if(!(A&&A.length&&A.filter(function(t){return t.values.length}).length))return i.utils.noData(chart,F),chart;F.selectAll(".nv-noData").remove(),t=n.xScale(),e=n.yScale();var W=F.selectAll("g.nv-wrap.nv-multiBarWithLegend").data([A]),O=W.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarWithLegend").append("g"),H=W.select("g");if(O.append("g").attr("class","nv-x nv-axis"),O.append("g").attr("class","nv-y nv-axis"),O.append("g").attr("class","nv-barsWrap"),O.append("g").attr("class","nv-legendWrap"),O.append("g").attr("class","nv-controlsWrap"),O.append("g").attr("class","nv-interactive"),m?(l.width(R-T()),H.select(".nv-legendWrap").datum(A).call(l),l.height()>d.top&&(d.top=l.height(),B=i.utils.availableHeight(f,F,d)),H.select(".nv-legendWrap").attr("transform","translate("+T()+","+-d.top+")")):H.select(".nv-legendWrap").selectAll("*").remove(),g){var G=[{key:v.grouped||"Grouped",disabled:n.stacked()},{key:v.stacked||"Stacked",disabled:!n.stacked()}];c.width(T()).color(["#444","#444","#444"]),H.select(".nv-controlsWrap").datum(G).attr("transform","translate(0,"+-d.top+")").call(c)}else H.select(".nv-controlsWrap").selectAll("*").remove();if(W.attr("transform","translate("+d.left+","+d.top+")"),x&&H.select(".nv-y.nv-axis").attr("transform","translate("+R+",0)"),n.disabled(A.map(function(t){return t.disabled})).width(R).height(B).color(A.map(function(t,e){return t.color||p(t,e)}).filter(function(t,e){return!A[e].disabled})),H.select(".nv-barsWrap").datum(A.filter(function(t){return!t.disabled})).call(n),y){a.scale(t)._ticks(i.utils.calcTicksX(R/100,A)).tickSize(-B,0),H.select(".nv-x.nv-axis").attr("transform","translate(0,"+e.range()[0]+")"),H.select(".nv-x.nv-axis").call(a);var j=H.select(".nv-x.nv-axis > g").selectAll("g");if(j.selectAll("line, text").style("opacity",1),k){var V=function(t,e){return"translate("+t+","+e+")"},Y=5,q=17;j.selectAll("text").attr("transform",function(t,e,n){return V(0,n%2==0?Y:q)});var U=r.selectAll(".nv-x.nv-axis .nv-wrap g g text")[0].length;H.selectAll(".nv-x.nv-axis .nv-axisMaxMin text").attr("transform",function(t,e){return V(0,0===e||U%2!=0?q:Y)})}w&&H.selectAll(".tick text").call(i.utils.wrapTicks,chart.xAxis.rangeBand()),b&&j.filter(function(t,e){return e%Math.ceil(A[0].values.length/(R/100))!=0}).selectAll("text, line").style("opacity",0),M&&j.selectAll(".tick text").attr("transform","rotate("+M+" 0,0)").style("text-anchor",M>0?"start":"end"),H.select(".nv-x.nv-axis").selectAll("g.nv-axisMaxMin text").style("opacity",1)}_&&(o.scale(e)._ticks(i.utils.calcTicksY(B/36,A)).tickSize(-R,0),H.select(".nv-y.nv-axis").call(o)),D&&(s.width(R).height(B).margin({left:d.left,top:d.top}).svgContainer(F).xScale(t),W.select(".nv-interactive").call(s)),l.dispatch.on("stateChange",function(t){for(var e in t)C[e]=t[e];E.stateChange(C),chart.update()}),c.dispatch.on("legendClick",function(t,e){if(t.disabled){switch(G=G.map(function(t){return t.disabled=!0,t}),t.disabled=!1,t.key){case"Grouped":case v.grouped:n.stacked(!1);break;case"Stacked":case v.stacked:n.stacked(!0)}C.stacked=n.stacked(),E.stateChange(C),chart.update()}}),E.on("changeState",function(t){void 0!==t.disabled&&(A.forEach(function(e,n){e.disabled=t.disabled[n]}),C.disabled=t.disabled),void 0!==t.stacked&&(n.stacked(t.stacked),C.stacked=t.stacked,N=t.stacked),chart.update()}),D?(s.dispatch.on("elementMousemove",function(e){if(void 0!=e.pointXValue){var n,r,i,a,o=[];A.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(s,l){r=t.domain().indexOf(e.pointXValue);var c=s.values[r];void 0!==c&&(a=c.x,void 0===n&&(n=c),void 0===i&&(i=e.mouseX),o.push({key:s.key,value:chart.y()(c,r),color:p(s,s.seriesIndex),data:s.values[r]}))}),s.tooltip.data({value:a,index:r,series:o})(),s.renderGuideLine(i)}}),s.dispatch.on("elementMouseout",function(t){s.tooltip.hidden(!0)})):(n.dispatch.on("elementMouseover.tooltip",function(t){t.value=chart.x()(t.data),t.series={key:t.data.key,value:chart.y()(t.data),color:t.color},u.data(t).hidden(!1)}),n.dispatch.on("elementMouseout.tooltip",function(t){u.hidden(!0)}),n.dispatch.on("elementMousemove.tooltip",function(t){u()}))}),F.renderEnd("multibarchart immediate"),chart}var t,e,n=i.models.multiBar(),a=i.models.axis(),o=i.models.axis(),s=i.interactiveGuideline(),l=i.models.legend(),c=i.models.legend(),u=i.models.tooltip(),d={top:30,right:20,bottom:50,left:60},h=null,f=null,p=i.utils.defaultColor(),g=!0,v={},m=!0,y=!0,_=!0,x=!1,b=!0,k=!1,w=!1,M=0,C=i.utils.state(),S=null,A=null,E=r.dispatch("stateChange","changeState","renderEnd"),T=function(){return g?180:0},L=250,D=!1;C.stacked=!1,n.stacked(!1),a.orient("bottom").tickPadding(7).showMaxMin(!1).tickFormat(function(t){return t}),o.orient(x?"right":"left").tickFormat(r.format(",.1f")),u.duration(0).valueFormatter(function(t,e){return o.tickFormat()(t,e)}).headerFormatter(function(t,e){return a.tickFormat()(t,e)}),c.updateState(!1);var F=i.utils.renderWatch(E),N=!1,P=function(t){return function(){return{active:t.map(function(t){return!t.disabled}),stacked:N}}},z=function(t){return function(e){void 0!==e.stacked&&(N=e.stacked),void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};return chart.dispatch=E,chart.multibar=n,chart.legend=l,chart.controls=c,chart.xAxis=a,chart.yAxis=o,chart.state=C,chart.tooltip=u,chart.interactiveLayer=s,chart.options=i.utils.optionsFunc.bind(chart),chart._options=Object.create({},{width:{get:function(){return h},set:function(t){h=t}},height:{get:function(){return f},set:function(t){f=t}},showLegend:{get:function(){return m},set:function(t){m=t}},showControls:{get:function(){return g},set:function(t){g=t}},controlLabels:{get:function(){return v},set:function(t){v=t}},showXAxis:{get:function(){return y},set:function(t){y=t}},showYAxis:{get:function(){return _},set:function(t){_=t}},defaultState:{get:function(){return S},set:function(t){S=t}},noData:{get:function(){return A},set:function(t){A=t}},reduceXTicks:{get:function(){return b},set:function(t){b=t}},rotateLabels:{get:function(){return M},set:function(t){M=t}},staggerLabels:{get:function(){return k},set:function(t){k=t}},wrapLabels:{get:function(){return w},set:function(t){w=!!t}},margin:{get:function(){return d},set:function(t){d.top=void 0!==t.top?t.top:d.top,d.right=void 0!==t.right?t.right:d.right,d.bottom=void 0!==t.bottom?t.bottom:d.bottom,d.left=void 0!==t.left?t.left:d.left}},duration:{get:function(){return L},set:function(t){L=t,n.duration(L),a.duration(L),o.duration(L),F.reset(L)}},color:{get:function(){return p},set:function(t){p=i.utils.getColor(t),l.color(p)}},rightAlignYAxis:{get:function(){return x},set:function(t){x=t,o.orient(x?"right":"left")}},useInteractiveGuideline:{get:function(){return D},set:function(t){D=t}},barColor:{get:function(){return n.barColor},set:function(t){n.barColor(t),l.color(function(t,e){return r.rgb("#ccc").darker(1.5*e).toString()})}}}),i.utils.inheritOptions(chart,n),i.utils.initOptions(chart),chart},i.models.multiBarHorizontal=function(){"use strict";function chart(h){return D.reset(),h.each(function(h){var T=u-c.left-c.right,F=d-c.top-c.bottom;f=r.select(this),i.utils.initSVG(f),k&&(h=r.layout.stack().offset("zero").values(function(t){return t.values}).y(m)(h)),h.forEach(function(t,e){t.values.forEach(function(n){n.series=e,n.key=t.key})}),k&&h[0].values.map(function(t,e){var n=0,r=0;h.map(function(t){var i=t.values[e];i.size=Math.abs(i.y),i.y<0?(i.y1=r-i.size,r-=i.size):(i.y1=n,n+=i.size)})});var N=e&&n?[]:h.map(function(t){return t.values.map(function(t,e){return{x:v(t,e),y:m(t,e),y0:t.y0,y1:t.y1}})});p.domain(e||r.merge(N).map(function(t){return t.x})).rangeBands(a||[0,F],S),g.domain(n||r.extent(r.merge(N).map(function(t){return k?t.y>0?t.y1+t.y:t.y1:t.y}).concat(_))),w&&!k?g.range(o||[g.domain()[0]<0?C:0,T-(g.domain()[1]>0?C:0)]):g.range(o||[0,T]),s=s||p,l=l||r.scale.linear().domain(g.domain()).range([g(0),g(0)]);var P=r.select(this).selectAll("g.nv-wrap.nv-multibarHorizontal").data([h]),z=P.enter().append("g").attr("class","nvd3 nv-wrap nv-multibarHorizontal"),R=(z.append("defs"),z.append("g"));P.select("g");R.append("g").attr("class","nv-groups"),P.attr("transform","translate("+c.left+","+c.top+")");var B=P.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t,e){return e});B.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),B.exit().watchTransition(D,"multibarhorizontal: exit groups").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),B.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return x(t,e)}).style("stroke",function(t,e){return x(t,e)}),B.watchTransition(D,"multibarhorizontal: groups").style("stroke-opacity",1).style("fill-opacity",A);var I=B.selectAll("g.nv-bar").data(function(t){return t.values});I.exit().remove();var W=I.enter().append("g").attr("transform",function(t,e,n){return"translate("+l(k?t.y0:0)+","+(k?0:n*p.rangeBand()/h.length+p(v(t,e)))+")"});W.append("rect").attr("width",0).attr("height",p.rangeBand()/(k?1:h.length)),I.on("mouseover",function(t,e){r.select(this).classed("hover",!0),L.elementMouseover({data:t,index:e,color:r.select(this).style("fill")})}).on("mouseout",function(t,e){r.select(this).classed("hover",!1),L.elementMouseout({data:t,index:e,color:r.select(this).style("fill")})}).on("mouseout",function(t,e){L.elementMouseout({data:t,index:e,color:r.select(this).style("fill")})}).on("mousemove",function(t,e){L.elementMousemove({data:t,index:e,color:r.select(this).style("fill")})}).on("click",function(t,e){var n=this;L.elementClick({data:t,index:e,color:r.select(this).style("fill"),event:r.event,element:n}),r.event.stopPropagation()}).on("dblclick",function(t,e){L.elementDblClick({data:t,index:e,color:r.select(this).style("fill")}),r.event.stopPropagation()}),y(h[0],0)&&(W.append("polyline"),I.select("polyline").attr("fill","none").attr("points",function(t,e){var n=y(t,e),r=.8*p.rangeBand()/(2*(k?1:h.length));return n=n.length?n:[-Math.abs(n),Math.abs(n)],n=n.map(function(t){return g(t)-g(0)}),[[n[0],-r],[n[0],r],[n[0],0],[n[1],0],[n[1],-r],[n[1],r]].map(function(t){return t.join(",")}).join(" ")}).attr("transform",function(t,e){var n=p.rangeBand()/(2*(k?1:h.length));return"translate("+(m(t,e)<0?0:g(m(t,e))-g(0))+", "+n+")"})),W.append("text"),w&&!k?(I.select("text").attr("text-anchor",function(t,e){return m(t,e)<0?"end":"start"}).attr("y",p.rangeBand()/(2*h.length)).attr("dy",".32em").text(function(t,e){var n=E(m(t,e)),r=y(t,e);return void 0===r?n:r.length?n+"+"+E(Math.abs(r[1]))+"-"+E(Math.abs(r[0])):n+"±"+E(Math.abs(r))}),I.watchTransition(D,"multibarhorizontal: bars").select("text").attr("x",function(t,e){return m(t,e)<0?-4:g(m(t,e))-g(0)+4})):I.selectAll("text").text(""),M&&!k?(W.append("text").classed("nv-bar-label",!0),I.select("text.nv-bar-label").attr("text-anchor",function(t,e){return m(t,e)<0?"start":"end"}).attr("y",p.rangeBand()/(2*h.length)).attr("dy",".32em").text(function(t,e){return v(t,e)}),I.watchTransition(D,"multibarhorizontal: bars").select("text.nv-bar-label").attr("x",function(t,e){return m(t,e)<0?g(0)-g(m(t,e))+4:-4})):I.selectAll("text.nv-bar-label").text(""),I.attr("class",function(t,e){return m(t,e)<0?"nv-bar negative":"nv-bar positive"}),b&&(t||(t=h.map(function(){return!0})),I.style("fill",function(e,n,i){return r.rgb(b(e,n)).darker(t.map(function(t,e){return e}).filter(function(e,n){return!t[n]})[i]).toString()}).style("stroke",function(e,n,i){return r.rgb(b(e,n)).darker(t.map(function(t,e){return e}).filter(function(e,n){return!t[n]})[i]).toString()})),k?I.watchTransition(D,"multibarhorizontal: bars").attr("transform",function(t,e){return"translate("+g(t.y1)+","+p(v(t,e))+")"}).select("rect").attr("width",function(t,e){return Math.abs(g(m(t,e)+t.y0)-g(t.y0))||0}).attr("height",p.rangeBand()):I.watchTransition(D,"multibarhorizontal: bars").attr("transform",function(t,e){return"translate("+g(m(t,e)<0?m(t,e):0)+","+(t.series*p.rangeBand()/h.length+p(v(t,e)))+")"}).select("rect").attr("height",p.rangeBand()/h.length).attr("width",function(t,e){return Math.max(Math.abs(g(m(t,e))-g(0)),1)||0}),s=p.copy(),l=g.copy()}),D.renderEnd("multibarHorizontal immediate"),chart}var t,e,n,a,o,s,l,c={top:0,right:0,bottom:0,left:0},u=960,d=500,h=Math.floor(1e4*Math.random()),f=null,p=r.scale.ordinal(),g=r.scale.linear(),v=function(t){return t.x},m=function(t){return t.y},y=function(t){return t.yErr},_=[0],x=i.utils.defaultColor(),b=null,k=!1,w=!1,M=!1,C=60,S=.1,A=.75,E=r.format(",.2f"),T=250,L=r.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),D=i.utils.renderWatch(L,T);return chart.dispatch=L,chart.options=i.utils.optionsFunc.bind(chart),chart._options=Object.create({},{width:{get:function(){return u},set:function(t){u=t}},height:{get:function(){return d},set:function(t){d=t}},x:{get:function(){return v},set:function(t){v=t}},y:{get:function(){return m},set:function(t){m=t}},yErr:{get:function(){return y},set:function(t){y=t}},xScale:{get:function(){return p},set:function(t){p=t}},yScale:{get:function(){return g},set:function(t){g=t}},xDomain:{get:function(){return e},set:function(t){e=t}},yDomain:{get:function(){return n},set:function(t){n=t}},xRange:{get:function(){return a},set:function(t){a=t}},yRange:{get:function(){return o},set:function(t){o=t}},forceY:{get:function(){return _},set:function(t){_=t}},stacked:{get:function(){return k},set:function(t){k=t}},showValues:{get:function(){return w},set:function(t){w=t}},disabled:{get:function(){return t},set:function(e){t=e}},id:{get:function(){return h},set:function(t){h=t}},valueFormat:{get:function(){return E},set:function(t){E=t}},valuePadding:{get:function(){return C},set:function(t){C=t}},groupSpacing:{get:function(){return S},set:function(t){S=t}},fillOpacity:{get:function(){return A},set:function(t){A=t}},margin:{get:function(){return c},set:function(t){c.top=void 0!==t.top?t.top:c.top,c.right=void 0!==t.right?t.right:c.right,c.bottom=void 0!==t.bottom?t.bottom:c.bottom,c.left=void 0!==t.left?t.left:c.left}},duration:{get:function(){return T},set:function(t){T=t,D.reset(T)}},color:{get:function(){return x},set:function(t){x=i.utils.getColor(t)}},barColor:{get:function(){return b},set:function(t){b=t?i.utils.getColor(t):null}}}),i.utils.initOptions(chart),chart},i.models.multiBarHorizontalChart=function(){"use strict";function chart(c){return E.reset(),E.models(n),m&&E.models(a),y&&E.models(o),c.each(function(c){var k=r.select(this);i.utils.initSVG(k);var E=i.utils.availableWidth(d,k,u),T=i.utils.availableHeight(h,k,u);if(chart.update=function(){k.transition().duration(C).call(chart)},chart.container=this,_=n.stacked(),x.setter(A(c),chart.update).getter(S(c)).update(),x.disabled=c.map(function(t){return!!t.disabled}),!b){var L;b={};for(L in x)x[L]instanceof Array?b[L]=x[L].slice(0):b[L]=x[L]}if(!(c&&c.length&&c.filter(function(t){return t.values.length}).length))return i.utils.noData(chart,k),chart;k.selectAll(".nv-noData").remove(),t=n.xScale(),e=n.yScale().clamp(!0);var D=k.selectAll("g.nv-wrap.nv-multiBarHorizontalChart").data([c]),F=D.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarHorizontalChart").append("g"),N=D.select("g");if(F.append("g").attr("class","nv-x nv-axis"),F.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),F.append("g").attr("class","nv-barsWrap"),F.append("g").attr("class","nv-legendWrap"),F.append("g").attr("class","nv-controlsWrap"),v?(s.width(E-M()),N.select(".nv-legendWrap").datum(c).call(s),s.height()>u.top&&(u.top=s.height(),T=i.utils.availableHeight(h,k,u)),N.select(".nv-legendWrap").attr("transform","translate("+M()+","+-u.top+")")):N.select(".nv-legendWrap").selectAll("*").remove(),p){var P=[{key:g.grouped||"Grouped",disabled:n.stacked()},{key:g.stacked||"Stacked",disabled:!n.stacked()}];l.width(M()).color(["#444","#444","#444"]),N.select(".nv-controlsWrap").datum(P).attr("transform","translate(0,"+-u.top+")").call(l)}else N.select(".nv-controlsWrap").selectAll("*").remove();(D.attr("transform","translate("+u.left+","+u.top+")"),n.disabled(c.map(function(t){return t.disabled})).width(E).height(T).color(c.map(function(t,e){return t.color||f(t,e)}).filter(function(t,e){return!c[e].disabled})),N.select(".nv-barsWrap").datum(c.filter(function(t){return!t.disabled})).transition().call(n),m)&&(a.scale(t)._ticks(i.utils.calcTicksY(T/24,c)).tickSize(-E,0),N.select(".nv-x.nv-axis").call(a),N.select(".nv-x.nv-axis").selectAll("g").selectAll("line, text"));y&&(o.scale(e)._ticks(i.utils.calcTicksX(E/100,c)).tickSize(-T,0),N.select(".nv-y.nv-axis").attr("transform","translate(0,"+T+")"),N.select(".nv-y.nv-axis").call(o)),N.select(".nv-zeroLine line").attr("x1",e(0)).attr("x2",e(0)).attr("y1",0).attr("y2",-T),s.dispatch.on("stateChange",function(t){for(var e in t)x[e]=t[e];w.stateChange(x),chart.update()}),l.dispatch.on("legendClick",function(t,e){if(t.disabled){switch(P=P.map(function(t){return t.disabled=!0,t}),t.disabled=!1,t.key){case"Grouped":case g.grouped:n.stacked(!1);break;case"Stacked":case g.stacked:n.stacked(!0)}x.stacked=n.stacked(),w.stateChange(x),_=n.stacked(),chart.update()}}),w.on("changeState",function(t){void 0!==t.disabled&&(c.forEach(function(e,n){e.disabled=t.disabled[n]}),x.disabled=t.disabled),void 0!==t.stacked&&(n.stacked(t.stacked),x.stacked=t.stacked,_=t.stacked),chart.update()})}),E.renderEnd("multibar horizontal chart immediate"),chart}var t,e,n=i.models.multiBarHorizontal(),a=i.models.axis(),o=i.models.axis(),s=i.models.legend().height(30),l=i.models.legend().height(30),c=i.models.tooltip(),u={top:30,right:20,bottom:50,left:60},d=null,h=null,f=i.utils.defaultColor(),p=!0,g={},v=!0,m=!0,y=!0,_=!1,x=i.utils.state(),b=null,k=null,w=r.dispatch("stateChange","changeState","renderEnd"),M=function(){return p?180:0},C=250;x.stacked=!1,n.stacked(_),a.orient("left").tickPadding(5).showMaxMin(!1).tickFormat(function(t){return t}),o.orient("bottom").tickFormat(r.format(",.1f")),c.duration(0).valueFormatter(function(t,e){return o.tickFormat()(t,e)}).headerFormatter(function(t,e){return a.tickFormat()(t,e)}),l.updateState(!1);var S=function(t){return function(){return{active:t.map(function(t){return!t.disabled}),stacked:_}}},A=function(t){return function(e){void 0!==e.stacked&&(_=e.stacked),void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}},E=i.utils.renderWatch(w,C);return n.dispatch.on("elementMouseover.tooltip",function(t){t.value=chart.x()(t.data),t.series={key:t.data.key,value:chart.y()(t.data),color:t.color},c.data(t).hidden(!1)}),n.dispatch.on("elementMouseout.tooltip",function(t){c.hidden(!0)}),n.dispatch.on("elementMousemove.tooltip",function(t){c()}),chart.dispatch=w,chart.multibar=n,chart.legend=s,chart.controls=l,chart.xAxis=a,chart.yAxis=o,chart.state=x,chart.tooltip=c,chart.options=i.utils.optionsFunc.bind(chart),chart._options=Object.create({},{width:{get:function(){return d},set:function(t){d=t}},height:{get:function(){return h},set:function(t){h=t}},showLegend:{get:function(){return v},set:function(t){v=t}},showControls:{get:function(){return p},set:function(t){p=t}},controlLabels:{get:function(){return g},set:function(t){g=t}},showXAxis:{get:function(){return m},set:function(t){m=t}},showYAxis:{get:function(){return y},set:function(t){y=t}},defaultState:{get:function(){return b},set:function(t){b=t}},noData:{get:function(){return k},set:function(t){k=t}},margin:{get:function(){return u},set:function(t){u.top=void 0!==t.top?t.top:u.top,u.right=void 0!==t.right?t.right:u.right,u.bottom=void 0!==t.bottom?t.bottom:u.bottom,u.left=void 0!==t.left?t.left:u.left}},duration:{get:function(){return C},set:function(t){C=t,E.reset(C),n.duration(C),a.duration(C),o.duration(C)}},color:{get:function(){return f},set:function(t){f=i.utils.getColor(t),s.color(f)}},barColor:{get:function(){return n.barColor},set:function(t){n.barColor(t),s.color(function(t,e){return r.rgb("#ccc").darker(1.5*e).toString()})}}}),i.utils.inheritOptions(chart,n),i.utils.initOptions(chart),chart},i.models.multiChart=function(){"use strict";function chart(c){return c.each(function(c){function mouseover_line(t){var e=2===c[t.seriesIndex].yAxis?L:T;t.value=t.point.x,t.series={value:t.point.y,color:t.point.color,key:t.series.key},F.duration(0).headerFormatter(function(t,e){return E.tickFormat()(t,e)}).valueFormatter(function(t,n){return e.tickFormat()(t,n)}).data(t).hidden(!1)}function mouseover_scatter(t){var e=2===c[t.seriesIndex].yAxis?L:T;t.value=t.point.x,t.series={value:t.point.y,color:t.point.color,key:t.series.key},F.duration(100).headerFormatter(function(t,e){return E.tickFormat()(t,e)}).valueFormatter(function(t,n){return e.tickFormat()(t,n)}).data(t).hidden(!1)}function mouseover_stack(t){var e=2===c[t.seriesIndex].yAxis?L:T;t.point.x=S.x()(t.point),t.point.y=S.y()(t.point),F.duration(0).headerFormatter(function(t,e){return E.tickFormat()(t,e)}).valueFormatter(function(t,n){return e.tickFormat()(t,n)}).data(t).hidden(!1)}function mouseover_bar(t){var e=2===c[t.data.series].yAxis?L:T;t.value=M.x()(t.data),t.series={value:M.y()(t.data),color:t.color,key:t.data.key},F.duration(0).headerFormatter(function(t,e){return E.tickFormat()(t,e)}).valueFormatter(function(t,n){return e.tickFormat()(t,n)}).data(t).hidden(!1)}function clearHighlights(){for(var t=0,e=P.length;t<e;t++){var n=P[t];try{n.clearHighlights()}catch(t){}}}function highlightPoint(t,e,n){for(var r=0,i=P.length;r<i;r++){var a=P[r];try{a.highlightPoint(t,e,n)}catch(t){}}}var f=r.select(this);i.utils.initSVG(f),chart.update=function(){f.transition().call(chart)},chart.container=this;var N=i.utils.availableWidth(o,f,n),z=i.utils.availableHeight(s,f,n),R=c.filter(function(t){return"line"==t.type&&1==t.yAxis}),B=c.filter(function(t){return"line"==t.type&&2==t.yAxis}),I=c.filter(function(t){return"scatter"==t.type&&1==t.yAxis}),W=c.filter(function(t){return"scatter"==t.type&&2==t.yAxis}),O=c.filter(function(t){return"bar"==t.type&&1==t.yAxis}),H=c.filter(function(t){return"bar"==t.type&&2==t.yAxis}),G=c.filter(function(t){return"area"==t.type&&1==t.yAxis}),j=c.filter(function(t){return"area"==t.type&&2==t.yAxis});if(!(c&&c.length&&c.filter(function(t){return t.values.length}).length))return i.utils.noData(chart,f),chart;f.selectAll(".nv-noData").remove();var V=c.filter(function(t){return!t.disabled&&1==t.yAxis}).map(function(t){return t.values.map(function(t,e){return{x:u(t),y:d(t)}})}),Y=c.filter(function(t){return!t.disabled&&2==t.yAxis}).map(function(t){return t.values.map(function(t,e){return{x:u(t),y:d(t)}})});m.domain(r.extent(r.merge(V.concat(Y)),function(t){return t.x})).range([0,N]);var q=f.selectAll("g.wrap.multiChart").data([c]),U=q.enter().append("g").attr("class","wrap nvd3 multiChart").append("g");U.append("g").attr("class","nv-x nv-axis"),U.append("g").attr("class","nv-y1 nv-axis"),U.append("g").attr("class","nv-y2 nv-axis"),U.append("g").attr("class","stack1Wrap"),U.append("g").attr("class","stack2Wrap"),U.append("g").attr("class","bars1Wrap"),U.append("g").attr("class","bars2Wrap"),U.append("g").attr("class","scatters1Wrap"),U.append("g").attr("class","scatters2Wrap"),U.append("g").attr("class","lines1Wrap"),U.append("g").attr("class","lines2Wrap"),U.append("g").attr("class","legendWrap"),U.append("g").attr("class","nv-interactive");var X=q.select("g"),Z=c.map(function(t,e){return c[e].color||a(t,e)});if(l){var $=D.align()?N/2:N,J=D.align()?$:0;D.width($),D.color(Z),X.select(".legendWrap").datum(c.map(function(t){return t.originalKey=void 0===t.originalKey?t.key:t.originalKey,t.key=t.originalKey+(1==t.yAxis?"":v),t})).call(D),D.height()>n.top&&(n.top=D.height(),z=i.utils.availableHeight(s,f,n)),X.select(".legendWrap").attr("transform","translate("+J+","+-n.top+")")}else X.select(".legendWrap").selectAll("*").remove();x.width(N).height(z).interpolate(h).color(Z.filter(function(t,e){return!c[e].disabled&&1==c[e].yAxis&&"line"==c[e].type})),b.width(N).height(z).interpolate(h).color(Z.filter(function(t,e){return!c[e].disabled&&2==c[e].yAxis&&"line"==c[e].type})),k.width(N).height(z).color(Z.filter(function(t,e){return!c[e].disabled&&1==c[e].yAxis&&"scatter"==c[e].type})),w.width(N).height(z).color(Z.filter(function(t,e){return!c[e].disabled&&2==c[e].yAxis&&"scatter"==c[e].type})),M.width(N).height(z).color(Z.filter(function(t,e){return!c[e].disabled&&1==c[e].yAxis&&"bar"==c[e].type})),C.width(N).height(z).color(Z.filter(function(t,e){return!c[e].disabled&&2==c[e].yAxis&&"bar"==c[e].type})),S.width(N).height(z).interpolate(h).color(Z.filter(function(t,e){return!c[e].disabled&&1==c[e].yAxis&&"area"==c[e].type})),A.width(N).height(z).interpolate(h).color(Z.filter(function(t,e){return!c[e].disabled&&2==c[e].yAxis&&"area"==c[e].type})),X.attr("transform","translate("+n.left+","+n.top+")");var Q=X.select(".lines1Wrap").datum(R.filter(function(t){return!t.disabled})),K=X.select(".scatters1Wrap").datum(I.filter(function(t){return!t.disabled})),tt=X.select(".bars1Wrap").datum(O.filter(function(t){return!t.disabled})),et=X.select(".stack1Wrap").datum(G.filter(function(t){return!t.disabled})),nt=X.select(".lines2Wrap").datum(B.filter(function(t){return!t.disabled})),rt=X.select(".scatters2Wrap").datum(W.filter(function(t){return!t.disabled})),it=X.select(".bars2Wrap").datum(H.filter(function(t){return!t.disabled})),at=X.select(".stack2Wrap").datum(j.filter(function(t){return!t.disabled})),ot=G.length?G.map(function(t){return t.values}).reduce(function(t,e){return t.map(function(t,n){return{x:t.x,y:t.y+e[n].y}})}).concat([{x:0,y:0}]):[],st=j.length?j.map(function(t){return t.values}).reduce(function(t,e){return t.map(function(t,n){return{x:t.x,y:t.y+e[n].y}})}).concat([{x:0,y:0}]):[];y.domain(t||r.extent(r.merge(V).concat(ot),function(t){return t.y})).range([0,z]),_.domain(e||r.extent(r.merge(Y).concat(st),function(t){return t.y})).range([0,z]),x.yDomain(y.domain()),k.yDomain(y.domain()),M.yDomain(y.domain()),S.yDomain(y.domain()),b.yDomain(_.domain()),w.yDomain(_.domain()),C.yDomain(_.domain()),A.yDomain(_.domain()),G.length&&r.transition(et).call(S),j.length&&r.transition(at).call(A),O.length&&r.transition(tt).call(M),H.length&&r.transition(it).call(C),R.length&&r.transition(Q).call(x),B.length&&r.transition(nt).call(b),I.length&&r.transition(K).call(k),W.length&&r.transition(rt).call(w),E._ticks(i.utils.calcTicksX(N/100,c)).tickSize(-z,0),X.select(".nv-x.nv-axis").attr("transform","translate(0,"+z+")"),r.transition(X.select(".nv-x.nv-axis")).call(E),T._ticks(i.utils.calcTicksY(z/36,c)).tickSize(-N,0),r.transition(X.select(".nv-y1.nv-axis")).call(T),L._ticks(i.utils.calcTicksY(z/36,c)).tickSize(-N,0),r.transition(X.select(".nv-y2.nv-axis")).call(L),X.select(".nv-y1.nv-axis").classed("nv-disabled",!V.length).attr("transform","translate("+m.range()[0]+",0)"),X.select(".nv-y2.nv-axis").classed("nv-disabled",!Y.length).attr("transform","translate("+m.range()[1]+",0)"),D.dispatch.on("stateChange",function(t){chart.update()}),g&&(p.width(N).height(z).margin({left:n.left,top:n.top}).svgContainer(f).xScale(m),q.select(".nv-interactive").call(p)),g?(p.dispatch.on("elementMousemove",function(t){clearHighlights();var e,n,r,o=[];c.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(s,l){var c=m.domain(),u=s.values.filter(function(t,e){return chart.x()(t,e)>=c[0]&&chart.x()(t,e)<=c[1]});n=i.interactiveBisect(u,t.pointXValue,chart.x());var d=u[n],h=chart.y()(d,n);null!==h&&highlightPoint(l,n,!0),void 0!==d&&(void 0===e&&(e=d),void 0===r&&(r=m(chart.x()(d,n))),o.push({key:s.key,value:h,color:a(s,s.seriesIndex),data:d,yAxis:2==s.yAxis?L:T}))});var s=function(t,e){var n=o[e].yAxis;return null==t?"N/A":n.tickFormat()(t)};p.tooltip.headerFormatter(function(t,e){return E.tickFormat()(t,e)}).valueFormatter(p.tooltip.valueFormatter()||s).data({value:chart.x()(e,n),index:n,series:o})(),p.renderGuideLine(r)}),p.dispatch.on("elementMouseout",function(t){clearHighlights()})):(x.dispatch.on("elementMouseover.tooltip",mouseover_line),b.dispatch.on("elementMouseover.tooltip",mouseover_line),x.dispatch.on("elementMouseout.tooltip",function(t){F.hidden(!0)}),b.dispatch.on("elementMouseout.tooltip",function(t){F.hidden(!0)}),k.dispatch.on("elementMouseover.tooltip",mouseover_scatter),w.dispatch.on("elementMouseover.tooltip",mouseover_scatter),k.dispatch.on("elementMouseout.tooltip",function(t){F.hidden(!0)}),w.dispatch.on("elementMouseout.tooltip",function(t){F.hidden(!0)}),S.dispatch.on("elementMouseover.tooltip",mouseover_stack),A.dispatch.on("elementMouseover.tooltip",mouseover_stack),S.dispatch.on("elementMouseout.tooltip",function(t){F.hidden(!0)}),A.dispatch.on("elementMouseout.tooltip",function(t){F.hidden(!0)}),M.dispatch.on("elementMouseover.tooltip",mouseover_bar),C.dispatch.on("elementMouseover.tooltip",mouseover_bar),M.dispatch.on("elementMouseout.tooltip",function(t){F.hidden(!0)}),C.dispatch.on("elementMouseout.tooltip",function(t){F.hidden(!0)}),M.dispatch.on("elementMousemove.tooltip",function(t){F()}),C.dispatch.on("elementMousemove.tooltip",function(t){F()}))}),chart}var t,e,n={top:30,right:20,bottom:50,left:60},a=i.utils.defaultColor(),o=null,s=null,l=!0,c=null,u=function(t){return t.x},d=function(t){return t.y},h="linear",f=!0,p=i.interactiveGuideline(),g=!1,v=" (right axis)",m=r.scale.linear(),y=r.scale.linear(),_=r.scale.linear(),x=i.models.line().yScale(y),b=i.models.line().yScale(_),k=i.models.scatter().yScale(y),w=i.models.scatter().yScale(_),M=i.models.multiBar().stacked(!1).yScale(y),C=i.models.multiBar().stacked(!1).yScale(_),S=i.models.stackedArea().yScale(y),A=i.models.stackedArea().yScale(_),E=i.models.axis().scale(m).orient("bottom").tickPadding(5),T=i.models.axis().scale(y).orient("left"),L=i.models.axis().scale(_).orient("right"),D=i.models.legend().height(30),F=i.models.tooltip(),N=r.dispatch(),P=[x,b,k,w,M,C,S,A];return chart.dispatch=N,chart.legend=D,chart.lines1=x,chart.lines2=b,chart.scatters1=k,chart.scatters2=w,chart.bars1=M,chart.bars2=C,chart.stack1=S,chart.stack2=A,chart.xAxis=E,chart.yAxis1=T,chart.yAxis2=L,chart.tooltip=F,chart.interactiveLayer=p,chart.options=i.utils.optionsFunc.bind(chart),chart._options=Object.create({},{width:{get:function(){return o},set:function(t){o=t}},height:{get:function(){return s},set:function(t){s=t}},showLegend:{get:function(){return l},set:function(t){l=t}},yDomain1:{get:function(){return t},set:function(e){t=e}},yDomain2:{get:function(){return e},set:function(t){e=t}},noData:{get:function(){return c},set:function(t){c=t}},interpolate:{get:function(){return h},set:function(t){h=t}},legendRightAxisHint:{get:function(){return v},set:function(t){v=t}},margin:{get:function(){return n},set:function(t){n.top=void 0!==t.top?t.top:n.top,n.right=void 0!==t.right?t.right:n.right,n.bottom=void 0!==t.bottom?t.bottom:n.bottom,n.left=void 0!==t.left?t.left:n.left}},color:{get:function(){return a},set:function(t){a=i.utils.getColor(t)}},x:{get:function(){return u},set:function(t){u=t,x.x(t),b.x(t),k.x(t),w.x(t),M.x(t),C.x(t),S.x(t),A.x(t)}},y:{get:function(){return d},set:function(t){d=t,x.y(t),b.y(t),k.y(t),w.y(t),S.y(t),A.y(t),M.y(t),C.y(t)}},useVoronoi:{get:function(){return f},set:function(t){f=t,x.useVoronoi(t),b.useVoronoi(t),S.useVoronoi(t),A.useVoronoi(t)}},useInteractiveGuideline:{get:function(){return g},set:function(t){(g=t)&&(x.interactive(!1),x.useVoronoi(!1),b.interactive(!1),b.useVoronoi(!1),S.interactive(!1),S.useVoronoi(!1),A.interactive(!1),A.useVoronoi(!1),k.interactive(!1),w.interactive(!1))}}}),i.utils.initOptions(chart),chart},i.models.ohlcBar=function(){"use strict";function chart(M){return M.each(function(M){u=r.select(this);var S=i.utils.availableWidth(s,u,o),A=i.utils.availableHeight(l,u,o);i.utils.initSVG(u);var E=S/M[0].values.length*.9;d.domain(t||r.extent(M[0].values.map(f).concat(_))),b?d.range(n||[.5*S/M[0].values.length,S*(M[0].values.length-.5)/M[0].values.length]):d.range(n||[5+E/2,S-E/2-5]),h.domain(e||[r.min(M[0].values.map(y).concat(x)),r.max(M[0].values.map(m).concat(x))]).range(a||[A,0]),d.domain()[0]===d.domain()[1]&&(d.domain()[0]?d.domain([d.domain()[0]-.01*d.domain()[0],d.domain()[1]+.01*d.domain()[1]]):d.domain([-1,1])),h.domain()[0]===h.domain()[1]&&(h.domain()[0]?h.domain([h.domain()[0]+.01*h.domain()[0],h.domain()[1]-.01*h.domain()[1]]):h.domain([-1,1]));var T=r.select(this).selectAll("g.nv-wrap.nv-ohlcBar").data([M[0].values]),L=T.enter().append("g").attr("class","nvd3 nv-wrap nv-ohlcBar"),D=L.append("defs"),F=L.append("g"),N=T.select("g");F.append("g").attr("class","nv-ticks"),T.attr("transform","translate("+o.left+","+o.top+")"),u.on("click",function(t,e){C.chartClick({data:t,index:e,pos:r.event,id:c})}),D.append("clipPath").attr("id","nv-chart-clip-path-"+c).append("rect"),T.select("#nv-chart-clip-path-"+c+" rect").attr("width",S).attr("height",A),N.attr("clip-path",k?"url(#nv-chart-clip-path-"+c+")":"");var P=T.select(".nv-ticks").selectAll(".nv-tick").data(function(t){return t});P.exit().remove(),P.enter().append("path").attr("class",function(t,e,n){return(g(t,e)>v(t,e)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+e}).attr("d",function(t,e){return"m0,0l0,"+(h(g(t,e))-h(m(t,e)))+"l"+-E/2+",0l"+E/2+",0l0,"+(h(y(t,e))-h(g(t,e)))+"l0,"+(h(v(t,e))-h(y(t,e)))+"l"+E/2+",0l"+-E/2+",0z"}).attr("transform",function(t,e){return"translate("+d(f(t,e))+","+h(m(t,e))+")"}).attr("fill",function(t,e){return w[0]}).attr("stroke",function(t,e){return w[0]}).attr("x",0).attr("y",function(t,e){return h(Math.max(0,p(t,e)))}).attr("height",function(t,e){return Math.abs(h(p(t,e))-h(0))}),P.attr("class",function(t,e,n){return(g(t,e)>v(t,e)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+e}),r.transition(P).attr("transform",function(t,e){return"translate("+d(f(t,e))+","+h(m(t,e))+")"}).attr("d",function(t,e){var n=S/M[0].values.length*.9;return"m0,0l0,"+(h(g(t,e))-h(m(t,e)))+"l"+-n/2+",0l"+n/2+",0l0,"+(h(y(t,e))-h(g(t,e)))+"l0,"+(h(v(t,e))-h(y(t,e)))+"l"+n/2+",0l"+-n/2+",0z"})}),chart}var t,e,n,a,o={top:0,right:0,bottom:0,left:0},s=null,l=null,c=Math.floor(1e4*Math.random()),u=null,d=r.scale.linear(),h=r.scale.linear(),f=function(t){return t.x},p=function(t){return t.y},g=function(t){return t.open},v=function(t){return t.close},m=function(t){return t.high},y=function(t){return t.low},_=[],x=[],b=!1,k=!0,w=i.utils.defaultColor(),M=!1,C=r.dispatch("stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");return chart.highlightPoint=function(t,e){chart.clearHighlights(),u.select(".nv-ohlcBar .nv-tick-0-"+t).classed("hover",e)},chart.clearHighlights=function(){u.select(".nv-ohlcBar .nv-tick.hover").classed("hover",!1)},chart.dispatch=C,chart.options=i.utils.optionsFunc.bind(chart),chart._options=Object.create({},{width:{get:function(){return s},set:function(t){s=t}},height:{get:function(){return l},set:function(t){l=t}},xScale:{get:function(){return d},set:function(t){d=t}},yScale:{get:function(){return h},set:function(t){h=t}},xDomain:{get:function(){return t},set:function(e){t=e}},yDomain:{get:function(){return e},set:function(t){e=t}},xRange:{get:function(){return n},set:function(t){n=t}},yRange:{get:function(){return a},set:function(t){a=t}},forceX:{get:function(){return _},set:function(t){_=t}},forceY:{get:function(){return x},set:function(t){x=t}},padData:{get:function(){return b},set:function(t){b=t}},clipEdge:{get:function(){return k},set:function(t){k=t}},id:{get:function(){return c},set:function(t){c=t}},interactive:{get:function(){return M},set:function(t){M=t}},x:{get:function(){return f},set:function(t){f=t}},y:{get:function(){return p},set:function(t){p=t}},open:{get:function(){return g()},set:function(t){g=t}},close:{get:function(){return v()},set:function(t){v=t}},high:{get:function(){return m},set:function(t){m=t}},low:{get:function(){return y},set:function(t){y=t}},margin:{get:function(){return o},set:function(t){o.top=void 0!=t.top?t.top:o.top,o.right=void 0!=t.right?t.right:o.right,o.bottom=void 0!=t.bottom?t.bottom:o.bottom,o.left=void 0!=t.left?t.left:o.left}},color:{get:function(){return w},set:function(t){w=i.utils.getColor(t)}}}),i.utils.initOptions(chart),chart},i.models.parallelCoordinates=function(){"use strict";function chart(A){return S.reset(),A.each(function(S){function path(t){return w(p.map(function(e){if(isNaN(t.values[e.key])||isNaN(parseFloat(t.values[e.key]))||D){var n=d[e.key].domain(),i=d[e.key].range(),a=n[0]-(n[1]-n[0])/9;if(b.indexOf(e.key)<0){var o=r.scale.linear().domain([a,n[1]]).range([c-12,i[1]]);d[e.key].brush.y(o),b.push(e.key)}if(isNaN(t.values[e.key])||isNaN(parseFloat(t.values[e.key])))return[u(e.key),d[e.key](a)]}return void 0!==B&&(b.length>0||D?(B.style("display","inline"),I.style("display","inline")):(B.style("display","none"),I.style("display","none"))),[u(e.key),d[e.key](t.values[e.key])]}))}function restoreBrush(t){y.forEach(function(e){var n=d[e.dimension].brush.y().domain();e.hasOnlyNaN&&(e.extent[1]=(d[e.dimension].domain()[1]-n[0])*(e.extent[1]-e.extent[0])/(L[e.dimension]-e.extent[0])+n[0]),e.hasNaN&&(e.extent[0]=n[0]),t&&d[e.dimension].brush.extent(e.extent)}),n.select(".nv-brushBackground").each(function(t){r.select(this).call(d[t.key].brush)}).selectAll("rect").attr("x",-8).attr("width",16),updateTicks()}function brushstart(){!1===v&&(v=!0,restoreBrush(!0))}function brush(){j=g.filter(function(t){return!d[t].brush.empty()}),V=j.map(function(t){return d[t].brush.extent()}),y=[],j.forEach(function(t,e){y[e]={dimension:t,extent:V[e],hasNaN:!1,hasOnlyNaN:!1}}),_=[],t.style("display",function(t){var e=j.every(function(e,n){return!(!isNaN(t.values[e])&&!isNaN(parseFloat(t.values[e]))||V[n][0]!=d[e].brush.y().domain()[0])||V[n][0]<=t.values[e]&&t.values[e]<=V[n][1]&&!isNaN(parseFloat(t.values[e]))});return e&&_.push(t),e?null:"none"}),updateTicks(),C.brush({filters:y,active:_})}function brushend(){var t=j.length>0;y.forEach(function(t){t.extent[0]===d[t.dimension].brush.y().domain()[0]&&b.indexOf(t.dimension)>=0&&(t.hasNaN=!0),t.extent[1]<d[t.dimension].domain()[0]&&(t.hasOnlyNaN=!0)}),C.brushEnd(_,t)}function updateTicks(){n.select(".nv-axis").each(function(t,e){var n=y.filter(function(e){return e.dimension==t.key});F[t.key]=d[t.key].domain(),0!=n.length&&v&&(F[t.key]=[],n[0].extent[1]>d[t.key].domain()[0]&&(F[t.key]=[n[0].extent[1]]),n[0].extent[0]>=d[t.key].domain()[0]&&F[t.key].push(n[0].extent[0])),r.select(this).call(M.scale(d[t.key]).tickFormat(t.format).tickValues(F[t.key]))})}function dragStart(t){x[t.key]=this.parentNode.__origin__=u(t.key),e.attr("visibility","hidden")}function dragMove(e){x[e.key]=Math.min(l,Math.max(0,this.parentNode.__origin__+=r.event.x)),t.attr("d",path),p.sort(function(t,e){return dimensionPosition(t.key)-dimensionPosition(e.key)}),p.forEach(function(t,e){return t.currentPosition=e}),u.domain(p.map(function(t){return t.key})),n.attr("transform",function(t){return"translate("+dimensionPosition(t.key)+")"})}function dragEnd(n,i){delete this.parentNode.__origin__,delete x[n.key],r.select(this.parentNode).attr("transform","translate("+u(n.key)+")"),t.attr("d",path),e.attr("d",path).attr("visibility",null),C.dimensionsOrder(p)}function dimensionPosition(t){var e=x[t];return null==e?u(t):e}var A=r.select(this);if(l=i.utils.availableWidth(o,A,a),c=i.utils.availableHeight(s,A,a),i.utils.initSVG(A),void 0===S[0].values){var E=[];S.forEach(function(t){var e={};Object.keys(t).forEach(function(n){"name"!==n&&(e[n]=t[n])}),E.push({key:t.name,values:e})}),S=E}var T=S.map(function(t){return t.values});0===_.length&&(_=S),g=f.sort(function(t,e){return t.currentPosition-e.currentPosition}).map(function(t){return t.key}),p=f.filter(function(t){return!t.disabled}),u.rangePoints([0,l],1).domain(p.map(function(t){return t.key}));var L={},D=!1,F=[];g.forEach(function(t){var e=r.extent(T,function(e){return+e[t]}),n=e[0],i=e[1],a=!1;(isNaN(n)||isNaN(i))&&(a=!0,n=0,i=0),n===i&&(n-=1,i+=1);var o=y.filter(function(e){return e.dimension==t});0!==o.length&&(a?(n=d[t].domain()[0],i=d[t].domain()[1]):!o[0].hasOnlyNaN&&v?(n=n>o[0].extent[0]?o[0].extent[0]:n,i=i<o[0].extent[1]?o[0].extent[1]:i):o[0].hasNaN&&(i=i<o[0].extent[1]?o[0].extent[1]:i,L[t]=d[t].domain()[1],D=!0)),d[t]=r.scale.linear().domain([n,i]).range([.9*(c-12),0]),b=[],d[t].brush=r.svg.brush().y(d[t]).on("brushstart",brushstart).on("brush",brush).on("brushend",brushend)});var N=A.selectAll("g.nv-wrap.nv-parallelCoordinates").data([S]),P=N.enter().append("g").attr("class","nvd3 nv-wrap nv-parallelCoordinates"),z=P.append("g"),R=N.select("g");z.append("g").attr("class","nv-parallelCoordinates background"),z.append("g").attr("class","nv-parallelCoordinates foreground"),z.append("g").attr("class","nv-parallelCoordinates missingValuesline"),N.attr("transform","translate("+a.left+","+a.top+")"),w.interpolate("cardinal").tension(k),M.orient("left");var B,I,W=r.behavior.drag().on("dragstart",dragStart).on("drag",dragMove).on("dragend",dragEnd),O=u.range()[1]-u.range()[0];if(!isNaN(O)){var H=[0+O/2,c-12,l-O/2,c-12];B=N.select(".missingValuesline").selectAll("line").data([H]),B.enter().append("line"),B.exit().remove(),B.attr("x1",function(t){return t[0]}).attr("y1",function(t){return t[1]}).attr("x2",function(t){return t[2]}).attr("y2",function(t){return t[3]}),I=N.select(".missingValuesline").selectAll("text").data([h]),I.append("text").data([h]),I.enter().append("text"),I.exit().remove(),I.attr("y",c).attr("x",l-92-O/2).text(function(t){return t})}e=N.select(".background").selectAll("path").data(S),e.enter().append("path"),e.exit().remove(),e.attr("d",path),t=N.select(".foreground").selectAll("path").data(S),t.enter().append("path"),t.exit().remove(),t.attr("d",path).style("stroke-width",function(t,e){return isNaN(t.strokeWidth)&&(t.strokeWidth=1),t.strokeWidth}).attr("stroke",function(t,e){return t.color||m(t,e)}),t.on("mouseover",function(t,e){r.select(this).classed("hover",!0).style("stroke-width",t.strokeWidth+2+"px").style("stroke-opacity",1),C.elementMouseover({label:t.name,color:t.color||m(t,e),values:t.values,dimensions:p})}),t.on("mouseout",function(t,e){r.select(this).classed("hover",!1).style("stroke-width",t.strokeWidth+"px").style("stroke-opacity",.7),C.elementMouseout({label:t.name,index:e})}),t.on("mousemove",function(t,e){C.elementMousemove()}),t.on("click",function(t){C.elementClick({id:t.id})}),n=R.selectAll(".dimension").data(p);var G=n.enter().append("g").attr("class","nv-parallelCoordinates dimension");n.attr("transform",function(t){return"translate("+u(t.key)+",0)"}),G.append("g").attr("class","nv-axis"),G.append("text").attr("class","nv-label").style("cursor","move").attr("dy","-1em").attr("text-anchor","middle").on("mouseover",function(t,e){C.elementMouseover({label:t.tooltip||t.key,color:t.color})}).on("mouseout",function(t,e){C.elementMouseout({label:t.tooltip})}).on("mousemove",function(t,e){C.elementMousemove()}).call(W),G.append("g").attr("class","nv-brushBackground"),n.exit().remove(),n.select(".nv-label").text(function(t){return t.key}),restoreBrush(v);var j=g.filter(function(t){return!d[t].brush.empty()}),V=j.map(function(t){return d[t].brush.extent()}),Y=_.slice(0);_=[],t.style("display",function(t){var e=j.every(function(e,n){return!(!isNaN(t.values[e])&&!isNaN(parseFloat(t.values[e]))||V[n][0]!=d[e].brush.y().domain()[0])||V[n][0]<=t.values[e]&&t.values[e]<=V[n][1]&&!isNaN(parseFloat(t.values[e]))});return e&&_.push(t),e?null:"none"}),(y.length>0||!i.utils.arrayEquals(_,Y))&&C.activeChanged(_)}),chart}var t,e,n,a={top:30,right:0,bottom:10,left:0},o=null,s=null,l=null,c=null,u=r.scale.ordinal(),d={},h="undefined values",f=[],p=[],g=[],v=!0,m=i.utils.defaultColor(),y=[],_=[],x=[],b=[],k=1,w=r.svg.line(),M=r.svg.axis(),C=r.dispatch("brushstart","brush","brushEnd","dimensionsOrder","stateChange","elementClick","elementMouseover","elementMouseout","elementMousemove","renderEnd","activeChanged"),S=i.utils.renderWatch(C);return chart.dispatch=C,chart.options=i.utils.optionsFunc.bind(chart),chart._options=Object.create({},{width:{get:function(){return o},set:function(t){o=t}},height:{get:function(){return s},set:function(t){s=t}},dimensionData:{get:function(){return f},set:function(t){f=t}},displayBrush:{get:function(){return v},set:function(t){v=t}},filters:{get:function(){return y},set:function(t){y=t}},active:{get:function(){return _},set:function(t){_=t}},lineTension:{get:function(){return k},set:function(t){k=t}},undefinedValuesLabel:{get:function(){return h},set:function(t){h=t}},dimensions:{get:function(){return f.map(function(t){return t.key})},set:function(t){i.deprecated("dimensions","use dimensionData instead"),0===f.length?t.forEach(function(t){f.push({key:t})}):t.forEach(function(t,e){f[e].key=t})}},dimensionNames:{get:function(){return f.map(function(t){return t.key})},set:function(t){i.deprecated("dimensionNames","use dimensionData instead"),g=[],0===f.length?t.forEach(function(t){f.push({key:t})}):t.forEach(function(t,e){f[e].key=t})}},dimensionFormats:{get:function(){return f.map(function(t){return t.format})},set:function(t){i.deprecated("dimensionFormats","use dimensionData instead"),0===f.length?t.forEach(function(t){f.push({format:t})}):t.forEach(function(t,e){f[e].format=t})}},margin:{get:function(){return a},set:function(t){a.top=void 0!==t.top?t.top:a.top,a.right=void 0!==t.right?t.right:a.right,a.bottom=void 0!==t.bottom?t.bottom:a.bottom,a.left=void 0!==t.left?t.left:a.left}},color:{get:function(){return m},set:function(t){m=i.utils.getColor(t)}}}),i.utils.initOptions(chart),chart},i.models.parallelCoordinatesChart=function(){"use strict";function chart(n){return m.reset(),m.models(t),n.each(function(n){var c=r.select(this);i.utils.initSVG(c);var p=i.utils.availableWidth(o,c,a),g=i.utils.availableHeight(s,c,a);if(chart.update=function(){c.call(chart)},chart.container=this,u.setter(_(d),chart.update).getter(y(d)).update(),u.disabled=d.map(function(t){return!!t.disabled}),d=d.map(function(t){return t.disabled=!!t.disabled,t}),d.forEach(function(t,e){t.originalPosition=isNaN(t.originalPosition)?e:t.originalPosition,t.currentPosition=isNaN(t.currentPosition)?e:t.currentPosition}),!f){var m;f={};for(m in u)u[m]instanceof Array?f[m]=u[m].slice(0):f[m]=u[m]}if(!n||!n.length)return i.utils.noData(chart,c),chart;c.selectAll(".nv-noData").remove();var x=c.selectAll("g.nv-wrap.nv-parallelCoordinatesChart").data([n]),b=x.enter().append("g").attr("class","nvd3 nv-wrap nv-parallelCoordinatesChart").append("g"),k=x.select("g");b.append("g").attr("class","nv-parallelCoordinatesWrap"),b.append("g").attr("class","nv-legendWrap"),k.select("rect").attr("width",p).attr("height",g>0?g:0),l?(e.width(p).color(function(t){return"rgb(188,190,192)"}),k.select(".nv-legendWrap").datum(d.sort(function(t,e){return t.originalPosition-e.originalPosition})).call(e),e.height()>a.top&&(a.top=e.height(),g=i.utils.availableHeight(s,c,a)),x.select(".nv-legendWrap").attr("transform","translate( 0 ,"+-a.top+")")):k.select(".nv-legendWrap").selectAll("*").remove(),x.attr("transform","translate("+a.left+","+a.top+")"),t.width(p).height(g).dimensionData(d).displayBrush(h),k.select(".nv-parallelCoordinatesWrap ").datum(n).transition().call(t),t.dispatch.on("brushEnd",function(t,e){e?(h=!0,v.brushEnd(t)):h=!1}),e.dispatch.on("stateChange",function(t){for(var e in t)u[e]=t[e];v.stateChange(u),chart.update()}),t.dispatch.on("dimensionsOrder",function(t){d.sort(function(t,e){return t.currentPosition-e.currentPosition});var e=!1;d.forEach(function(t,n){t.currentPosition=n,t.currentPosition!==t.originalPosition&&(e=!0)}),v.dimensionsOrder(d,e)}),v.on("changeState",function(t){void 0!==t.disabled&&(d.forEach(function(e,n){e.disabled=t.disabled[n]}),u.disabled=t.disabled),chart.update()})}),m.renderEnd("parraleleCoordinateChart immediate"),chart}var t=i.models.parallelCoordinates(),e=i.models.legend(),n=i.models.tooltip(),a=(i.models.tooltip(),{top:0,right:0,bottom:0,left:0}),o=null,s=null,l=!0,c=i.utils.defaultColor(),u=i.utils.state(),d=[],h=!0,f=null,p=null,g="undefined",v=r.dispatch("dimensionsOrder","brushEnd","stateChange","changeState","renderEnd"),m=i.utils.renderWatch(v),y=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},_=function(t){return function(e){void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};return n.contentGenerator(function(t){var e='<table><thead><tr><td class="legend-color-guide"><div style="background-color:'+t.color+'"></div></td><td><strong>'+t.key+"</strong></td></tr></thead>";return 0!==t.series.length&&(e+='<tbody><tr><td height ="10px"></td></tr>',t.series.forEach(function(t){e=e+'<tr><td class="legend-color-guide"><div style="background-color:'+t.color+'"></div></td><td class="key">'+t.key+'</td><td class="value">'+t.value+"</td></tr>"}),e+="</tbody>"),e+="</table>"}),t.dispatch.on("elementMouseover.tooltip",function(t){var e={key:t.label,color:t.color,series:[]};t.values&&(Object.keys(t.values).forEach(function(n){var r=t.dimensions.filter(function(t){return t.key===n})[0];if(r){var i;i=isNaN(t.values[n])||isNaN(parseFloat(t.values[n]))?g:r.format(t.values[n]),e.series.push({idx:r.currentPosition,key:n,value:i,color:r.color})}}),e.series.sort(function(t,e){return t.idx-e.idx})),n.data(e).hidden(!1)}),t.dispatch.on("elementMouseout.tooltip",function(t){n.hidden(!0)}),t.dispatch.on("elementMousemove.tooltip",function(){n()}),chart.dispatch=v,chart.parallelCoordinates=t,chart.legend=e,chart.tooltip=n,chart.options=i.utils.optionsFunc.bind(chart),chart._options=Object.create({},{width:{get:function(){return o},set:function(t){o=t}},height:{get:function(){return s},set:function(t){s=t}},showLegend:{get:function(){return l},set:function(t){l=t}},defaultState:{get:function(){return f},set:function(t){f=t}},dimensionData:{get:function(){return d},set:function(t){d=t}},displayBrush:{get:function(){return h},set:function(t){h=t}},noData:{get:function(){return p},set:function(t){p=t}},nanValue:{get:function(){return g},set:function(t){g=t}},margin:{get:function(){return a},set:function(t){a.top=void 0!==t.top?t.top:a.top,a.right=void 0!==t.right?t.right:a.right,a.bottom=void 0!==t.bottom?t.bottom:a.bottom,a.left=void 0!==t.left?t.left:a.left}},color:{get:function(){return c},set:function(n){c=i.utils.getColor(n),e.color(c),t.color(c)}}}),i.utils.inheritOptions(chart,t),i.utils.initOptions(chart),chart},i.models.pie=function(){"use strict";function chart(D){return L.reset(),D.each(function(D){function arcTween(t,e){t.endAngle=isNaN(t.endAngle)?0:t.endAngle,t.startAngle=isNaN(t.startAngle)?0:t.startAngle,g||(t.innerRadius=0);var n=r.interpolate(this._current,t);return this._current=n(0),function(t){return E[e](n(t))}}var F=e-t.left-t.right,N=n-t.top-t.bottom,P=Math.min(F,N)/2,z=[],R=[];if(l=r.select(this),0===S.length)for(var B=P-P/5,I=M*P,W=0;W<D[0].length;W++)z.push(B),R.push(I);else m?(z=S.map(function(t){return(t.outer-t.outer/5)*P}),R=S.map(function(t){return(t.inner-t.inner/5)*P}),M=r.min(S.map(function(t){return t.inner-t.inner/5}))):(z=S.map(function(t){return t.outer*P}),R=S.map(function(t){return t.inner*P}),M=r.min(S.map(function(t){return t.inner})));i.utils.initSVG(l);var O=l.selectAll(".nv-wrap.nv-pie").data(D),H=O.enter().append("g").attr("class","nvd3 nv-wrap nv-pie nv-chart-"+s),G=H.append("g"),j=O.select("g"),V=G.append("g").attr("class","nv-pie");G.append("g").attr("class","nv-pieLabels"),O.attr("transform","translate("+t.left+","+t.top+")"),j.select(".nv-pie").attr("transform","translate("+F/2+","+N/2+")"),j.select(".nv-pieLabels").attr("transform","translate("+F/2+","+N/2+")"),l.on("click",function(t,e){A.chartClick({data:t,index:e,pos:r.event,id:s})}),E=[],T=[];for(var W=0;W<D[0].length;W++){var Y=r.svg.arc().outerRadius(z[W]),q=r.svg.arc().outerRadius(z[W]+5);!1!==x&&(Y.startAngle(x),q.startAngle(x)),!1!==k&&(Y.endAngle(k),q.endAngle(k)),g&&(Y.innerRadius(R[W]),q.innerRadius(R[W])),Y.cornerRadius&&w&&(Y.cornerRadius(w),q.cornerRadius(w)),E.push(Y),T.push(q)}var U=r.layout.pie().sort(null).value(function(t){return t.disabled?0:o(t)});U.padAngle&&b&&U.padAngle(b),g&&v&&(V.append("text").attr("class","nv-pie-title"),O.select(".nv-pie-title").style("text-anchor","middle").text(function(t){return v}).style("font-size",Math.min(F,N)*M*2/(v.length+2)+"px").attr("dy","0.35em").attr("transform",function(t,e){return"translate(0, "+y+")"}));var X=O.select(".nv-pie").selectAll(".nv-slice").data(U),Z=O.select(".nv-pieLabels").selectAll(".nv-label").data(U);X.exit().remove(),Z.exit().remove();var $=X.enter().append("g");$.attr("class","nv-slice"),$.on("mouseover",function(t,e){r.select(this).classed("hover",!0),m&&r.select(this).select("path").transition().duration(70).attr("d",T[e]),A.elementMouseover({data:t.data,index:e,color:r.select(this).style("fill"),percent:(t.endAngle-t.startAngle)/(2*Math.PI)})}),$.on("mouseout",function(t,e){r.select(this).classed("hover",!1),m&&r.select(this).select("path").transition().duration(50).attr("d",E[e]),A.elementMouseout({data:t.data,index:e})}),$.on("mousemove",function(t,e){A.elementMousemove({data:t.data,index:e})}),$.on("click",function(t,e){var n=this;A.elementClick({data:t.data,index:e,color:r.select(this).style("fill"),event:r.event,element:n})}),$.on("dblclick",function(t,e){A.elementDblClick({data:t.data,index:e,color:r.select(this).style("fill")})}),X.attr("fill",function(t,e){return c(t.data,e)}),X.attr("stroke",function(t,e){return c(t.data,e)});$.append("path").each(function(t){this._current=t});if(X.select("path").transition().duration(C).attr("d",function(t,e){return E[e](t)}).attrTween("d",arcTween),d){for(var J=[],W=0;W<D[0].length;W++)J.push(E[W]),h?g&&(J[W]=r.svg.arc().outerRadius(E[W].outerRadius()),!1!==x&&J[W].startAngle(x),!1!==k&&J[W].endAngle(k)):g||J[W].innerRadius(0);Z.enter().append("g").classed("nv-label",!0).each(function(t,e){var n=r.select(this);n.attr("transform",function(t,e){if(_){t.outerRadius=z[e]+10,t.innerRadius=z[e]+15;var n=(t.startAngle+t.endAngle)/2*(180/Math.PI);return(t.startAngle+t.endAngle)/2<Math.PI?n-=90:n+=90,"translate("+J[e].centroid(t)+") rotate("+n+")"}return t.outerRadius=P+10,t.innerRadius=P+15,"translate("+J[e].centroid(t)+")"}),n.append("rect").style("stroke","#fff").style("fill","#fff").attr("rx",3).attr("ry",3),n.append("text").style("text-anchor",_?(t.startAngle+t.endAngle)/2<Math.PI?"start":"end":"middle").style("fill","#000")});var Q={},K=14,tt=140,et=function(t){return Math.floor(t[0]/tt)*tt+","+Math.floor(t[1]/K)*K},nt=function(t){return(t.endAngle-t.startAngle)/(2*Math.PI)};Z.watchTransition(L,"pie labels").attr("transform",function(t,e){if(_){t.outerRadius=z[e]+10,t.innerRadius=z[e]+15;var n=(t.startAngle+t.endAngle)/2*(180/Math.PI);return(t.startAngle+t.endAngle)/2<Math.PI?n-=90:n+=90,"translate("+J[e].centroid(t)+") rotate("+n+")"}t.outerRadius=P+10,t.innerRadius=P+15;var r=J[e].centroid(t),i=nt(t);if(t.value&&i>=p){var a=et(r);Q[a]&&(r[1]-=K),Q[et(r)]=!0}return"translate("+r+")"}),Z.select(".nv-label text").style("text-anchor",function(t,e){return _?(t.startAngle+t.endAngle)/2<Math.PI?"start":"end":"middle"}).text(function(t,e){var n=nt(t),i="";if(!t.value||n<p)return"";if("function"==typeof f)i=f(t,e,{key:a(t.data),value:o(t.data),percent:u(n)});else switch(f){case"key":i=a(t.data);break;case"value":i=u(o(t.data));break;case"percent":i=r.format("%")(n)}return i})}}),L.renderEnd("pie immediate"),chart}var t={top:0,right:0,bottom:0,left:0},e=500,n=500,a=function(t){return t.x},o=function(t){return t.y},s=Math.floor(1e4*Math.random()),l=null,c=i.utils.defaultColor(),u=r.format(",.2f"),d=!0,h=!1,f="key",p=.02,g=!1,v=!1,m=!0,y=0,_=!1,x=!1,b=!1,k=!1,w=0,M=.5,C=250,S=[],A=r.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),E=[],T=[],L=i.utils.renderWatch(A);return chart.dispatch=A,chart.options=i.utils.optionsFunc.bind(chart),chart._options=Object.create({},{arcsRadius:{get:function(){return S},set:function(t){S=t}},width:{get:function(){return e},set:function(t){e=t}},height:{get:function(){return n},set:function(t){n=t}},showLabels:{get:function(){return d},set:function(t){d=t}},title:{get:function(){return v},set:function(t){v=t}},titleOffset:{get:function(){return y},set:function(t){y=t}},labelThreshold:{get:function(){return p},set:function(t){p=t}},valueFormat:{get:function(){return u},set:function(t){u=t}},x:{get:function(){return a},set:function(t){a=t}},id:{get:function(){return s},set:function(t){s=t}},endAngle:{get:function(){return k},set:function(t){k=t}},startAngle:{get:function(){return x},set:function(t){x=t}},padAngle:{get:function(){return b},set:function(t){b=t}},cornerRadius:{get:function(){return w},set:function(t){w=t}},donutRatio:{get:function(){return M},set:function(t){M=t}},labelsOutside:{get:function(){return h},set:function(t){h=t}},labelSunbeamLayout:{get:function(){return _},set:function(t){_=t}},donut:{get:function(){return g},set:function(t){g=t}},growOnHover:{get:function(){return m},set:function(t){m=t}},pieLabelsOutside:{get:function(){return h},set:function(t){h=t,i.deprecated("pieLabelsOutside","use labelsOutside instead")}},donutLabelsOutside:{get:function(){return h},set:function(t){h=t,i.deprecated("donutLabelsOutside","use labelsOutside instead")}},labelFormat:{get:function(){return u},set:function(t){u=t,i.deprecated("labelFormat","use valueFormat instead")}},margin:{get:function(){return t},set:function(e){t.top=void 0!==e.top?e.top:t.top,t.right=void 0!==e.right?e.right:t.right,t.bottom=void 0!==e.bottom?e.bottom:t.bottom,t.left=void 0!==e.left?e.left:t.left}},duration:{get:function(){return C},set:function(t){C=t,L.reset(C)}},y:{get:function(){return o},set:function(t){o=r.functor(t)}},color:{get:function(){return c},set:function(t){c=i.utils.getColor(t)}},labelType:{get:function(){return f},set:function(t){f=t||"key"}}}),i.utils.initOptions(chart),chart},i.models.pieChart=function(){"use strict";function chart(n){return m.reset(),m.models(t),n.each(function(n){var l=r.select(this);i.utils.initSVG(l);var d=i.utils.availableWidth(o,l,a),p=i.utils.availableHeight(s,l,a);if(chart.update=function(){l.transition().call(chart)},chart.container=this,h.setter(_(n),chart.update).getter(y(n)).update(),h.disabled=n.map(function(t){return!!t.disabled}),!f){var g;f={};for(g in h)h[g]instanceof Array?f[g]=h[g].slice(0):f[g]=h[g]}if(!n||!n.length)return i.utils.noData(chart,l),chart;l.selectAll(".nv-noData").remove();var m=l.selectAll("g.nv-wrap.nv-pieChart").data([n]),x=m.enter().append("g").attr("class","nvd3 nv-wrap nv-pieChart").append("g"),b=m.select("g");if(x.append("g").attr("class","nv-pieWrap"),x.append("g").attr("class","nv-legendWrap"),c){if("top"===u)e.width(d).key(t.x()),m.select(".nv-legendWrap").datum(n).call(e),e.height()>a.top&&(a.top=e.height(),p=i.utils.availableHeight(s,l,a)),m.select(".nv-legendWrap").attr("transform","translate(0,"+-a.top+")");else if("right"===u){var k=i.models.legend().width();d/2<k&&(k=d/2),e.height(p).key(t.x()),e.width(k),d-=e.width(),m.select(".nv-legendWrap").datum(n).call(e).attr("transform","translate("+d+",0)")}}else b.select(".nv-legendWrap").selectAll("*").remove();m.attr("transform","translate("+a.left+","+a.top+")"),t.width(d).height(p);var w=b.select(".nv-pieWrap").datum([n]);r.transition(w).call(t),e.dispatch.on("stateChange",function(t){for(var e in t)h[e]=t[e];v.stateChange(h),chart.update()}),v.on("changeState",function(t){void 0!==t.disabled&&(n.forEach(function(e,n){e.disabled=t.disabled[n]}),h.disabled=t.disabled),chart.update()})}),m.renderEnd("pieChart immediate"),chart}var t=i.models.pie(),e=i.models.legend(),n=i.models.tooltip(),a={top:30,right:20,bottom:20,left:20},o=null,s=null,l=!1,c=!0,u="top",d=i.utils.defaultColor(),h=i.utils.state(),f=null,p=null,g=250,v=r.dispatch("stateChange","changeState","renderEnd");n.duration(0).headerEnabled(!1).valueFormatter(function(e,n){return t.valueFormat()(e,n)});var m=i.utils.renderWatch(v),y=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},_=function(t){return function(e){void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};return t.dispatch.on("elementMouseover.tooltip",function(t){t.series={key:chart.x()(t.data),value:chart.y()(t.data),color:t.color,percent:t.percent},l||(delete t.percent,delete t.series.percent),n.data(t).hidden(!1)}),t.dispatch.on("elementMouseout.tooltip",function(t){n.hidden(!0)}),t.dispatch.on("elementMousemove.tooltip",function(t){n()}),chart.legend=e,chart.dispatch=v,chart.pie=t,chart.tooltip=n,chart.options=i.utils.optionsFunc.bind(chart),chart._options=Object.create({},{width:{get:function(){return o},set:function(t){o=t}},height:{get:function(){return s},set:function(t){s=t}},noData:{get:function(){return p},set:function(t){p=t}},showTooltipPercent:{get:function(){return l},set:function(t){l=t}},showLegend:{get:function(){return c},set:function(t){c=t}},legendPosition:{get:function(){return u},set:function(t){u=t}},defaultState:{get:function(){return f},set:function(t){f=t}},color:{get:function(){return d},set:function(n){d=n,e.color(d),t.color(d)}},duration:{get:function(){return g},set:function(e){g=e,m.reset(g),t.duration(g)}},margin:{get:function(){return a},set:function(t){a.top=void 0!==t.top?t.top:a.top,a.right=void 0!==t.right?t.right:a.right,a.bottom=void 0!==t.bottom?t.bottom:a.bottom,a.left=void 0!==t.left?t.left:a.left}}}),i.utils.inheritOptions(chart,t),i.utils.initOptions(chart),chart},i.models.scatter=function(){"use strict";function getCache(t){var e,n;return e=o=o||{},n=t[0].series,e=e[n]=e[n]||{},n=t[1],e=e[n]=e[n]||{}}function getDiffs(t){var e,n,r=t[0],i=getCache(t),a=!1;for(e=1;e<arguments.length;e++)n=arguments[e],i[n]===r[n]&&i.hasOwnProperty(n)||(i[n]=r[n],a=!0);return a}function chart(o){return V.reset(),o.each(function(o){function updateInteractiveLayer(){if(j=!1,!w)return!1;if(!0===W){var t=r.merge(o.map(function(t,e){return t.values.map(function(t,n){var r=v(t,n),a=m(t,n);return[i.utils.NaNtoZero(f(r))+1e-4*Math.random(),i.utils.NaNtoZero(p(a))+1e-4*Math.random(),e,n,t]}).filter(function(t,e){return M(t[4],e)})}));if(0==t.length)return!1;t.length<3&&(t.push([f.range()[0]-20,p.range()[0]-20,null,null]),t.push([f.range()[1]+20,p.range()[1]+20,null,null]),t.push([f.range()[0]-20,p.range()[0]+20,null,null]),t.push([f.range()[1]+20,p.range()[1]-20,null,null]));var e=r.geom.polygon([[-10,-10],[-10,c+10],[l+10,c+10],[l+10,-10]]),n=r.geom.voronoi(t).map(function(n,r){return{data:e.clip(n),series:t[r][2],point:t[r][3]}});J.select(".nv-point-paths").selectAll("path").remove();var a=J.select(".nv-point-paths").selectAll("path").data(n),g=a.enter().append("svg:path").attr("d",function(t){return t&&t.data&&0!==t.data.length?"M"+t.data.join(",")+"Z":"M 0 0"}).attr("id",function(t,e){return"nv-path-"+e}).attr("clip-path",function(t,e){return"url(#nv-clip-"+d+"-"+e+")"});if(T&&g.style("fill",r.rgb(230,230,230)).style("fill-opacity",.4).style("stroke-opacity",1).style("stroke",r.rgb(200,200,200)),E){J.select(".nv-point-clips").selectAll("*").remove();var y=J.select(".nv-point-clips").selectAll("clipPath").data(t);y.enter().append("svg:clipPath").attr("id",function(t,e){return"nv-clip-"+d+"-"+e}).append("svg:circle").attr("cx",function(t){return t[0]}).attr("cy",function(t){return t[1]}).attr("r",L)}var _=function(t,e){if(j)return 0;var n=o[t.series];if(void 0!==n){var r=n.values[t.point];r.color=u(n,t.series),r.x=v(r),r.y=m(r);var i=h.node().getBoundingClientRect(),a=window.pageYOffset||document.documentElement.scrollTop,l=window.pageXOffset||document.documentElement.scrollLeft;e({point:r,series:n,pos:{left:f(v(r,t.point))+i.left+l+s.left+10,top:p(m(r,t.point))+i.top+a+s.top+10},relativePos:[f(v(r,t.point))+s.left,p(m(r,t.point))+s.top],seriesIndex:t.series,pointIndex:t.point})}};a.on("click",function(t){_(t,I.elementClick)}).on("dblclick",function(t){_(t,I.elementDblClick)}).on("mouseover",function(t){_(t,I.elementMouseover)}).on("mouseout",function(t,e){_(t,I.elementMouseout)})}else J.select(".nv-groups").selectAll(".nv-group").selectAll(".nv-point").on("click",function(t,e){if(j||!o[t.series])return 0;var n=o[t.series],i=n.values[e],a=this;I.elementClick({point:i,series:n,pos:[f(v(i,e))+s.left,p(m(i,e))+s.top],relativePos:[f(v(i,e))+s.left,p(m(i,e))+s.top],seriesIndex:t.series,pointIndex:e,event:r.event,element:a})}).on("dblclick",function(t,e){if(j||!o[t.series])return 0;var n=o[t.series],r=n.values[e];I.elementDblClick({point:r,series:n,pos:[f(v(r,e))+s.left,p(m(r,e))+s.top],relativePos:[f(v(r,e))+s.left,p(m(r,e))+s.top],seriesIndex:t.series,pointIndex:e})}).on("mouseover",function(t,e){if(j||!o[t.series])return 0;var n=o[t.series],r=n.values[e];I.elementMouseover({point:r,series:n,pos:[f(v(r,e))+s.left,p(m(r,e))+s.top],relativePos:[f(v(r,e))+s.left,p(m(r,e))+s.top],seriesIndex:t.series,pointIndex:e,color:u(t,e)})}).on("mouseout",function(t,e){if(j||!o[t.series])return 0;var n=o[t.series],r=n.values[e];I.elementMouseout({point:r,series:n,pos:[f(v(r,e))+s.left,p(m(r,e))+s.top],relativePos:[f(v(r,e))+s.left,p(m(r,e))+s.top],seriesIndex:t.series,pointIndex:e,color:u(t,e)})})}h=r.select(this);var O=i.utils.availableWidth(l,h,s),q=i.utils.availableHeight(c,h,s);i.utils.initSVG(h),o.forEach(function(t,e){t.values.forEach(function(t){t.series=e})});var U=chart.yScale().name===r.scale.log().name,X=D&&F&&z?[]:r.merge(o.map(function(t){return t.values.map(function(t,e){return{x:v(t,e),y:m(t,e),size:y(t,e)}})}));if(f.domain(D||r.extent(X.map(function(t){return t.x}).concat(x))),C&&o[0]?f.range(N||[(O*S+O)/(2*o[0].values.length),O-O*(1+S)/(2*o[0].values.length)]):f.range(N||[0,O]),U){var Z=r.min(X.map(function(t){if(0!==t.y)return t.y}));p.clamp(!0).domain(F||r.extent(X.map(function(t){return 0!==t.y?t.y:.1*Z}).concat(b))).range(P||[q,0])}else p.domain(F||r.extent(X.map(function(t){return t.y}).concat(b))).range(P||[q,0]);g.domain(z||r.extent(X.map(function(t){return t.size}).concat(k))).range(R||Y),B=f.domain()[0]===f.domain()[1]||p.domain()[0]===p.domain()[1],f.domain()[0]===f.domain()[1]&&(f.domain()[0]?f.domain([f.domain()[0]-.01*f.domain()[0],f.domain()[1]+.01*f.domain()[1]]):f.domain([-1,1])),p.domain()[0]===p.domain()[1]&&(p.domain()[0]?p.domain([p.domain()[0]-.01*p.domain()[0],p.domain()[1]+.01*p.domain()[1]]):p.domain([-1,1])),isNaN(f.domain()[0])&&f.domain([-1,1]),isNaN(p.domain()[0])&&p.domain([-1,1]),t=t||f,e=e||p,n=n||g;var $=f(1)!==t(1)||p(1)!==e(1)||g(1)!==n(1),J=h.selectAll("g.nv-wrap.nv-scatter").data([o]),Q=J.enter().append("g").attr("class","nvd3 nv-wrap nv-scatter nv-chart-"+d),K=Q.append("defs"),tt=Q.append("g"),et=J.select("g");J.classed("nv-single-point",B),tt.append("g").attr("class","nv-groups"),tt.append("g").attr("class","nv-point-paths"),Q.append("g").attr("class","nv-point-clips"),J.attr("transform","translate("+s.left+","+s.top+")"),K.append("clipPath").attr("id","nv-edge-clip-"+d).append("rect"),J.select("#nv-edge-clip-"+d+" rect").attr("width",O).attr("height",q>0?q:0),et.attr("clip-path",A?"url(#nv-edge-clip-"+d+")":""),j=!0;var nt=J.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});nt.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),nt.exit().remove(),nt.attr("class",function(t,e){return(t.classed||"")+" nv-group nv-series-"+e}).classed("nv-noninteractive",!w).classed("hover",function(t){return t.hover}),nt.watchTransition(V,"scatter: groups").style("fill",function(t,e){return u(t,e)}).style("stroke",function(t,e){return u(t,e)}).style("stroke-opacity",1).style("fill-opacity",.5);var rt=nt.selectAll("path.nv-point").data(function(t){return t.values.map(function(t,e){return[t,e]}).filter(function(t,e){return M(t[0],e)})});if(rt.enter().append("path").attr("class",function(t){return"nv-point nv-point-"+t[1]}).style("fill",function(t){return t.color}).style("stroke",function(t){return t.color}).attr("transform",function(n){return"translate("+i.utils.NaNtoZero(t(v(n[0],n[1])))+","+i.utils.NaNtoZero(e(m(n[0],n[1])))+")"}).attr("d",i.utils.symbol().type(function(t){return _(t[0])}).size(function(t){return g(y(t[0],t[1]))})),rt.exit().remove(),nt.exit().selectAll("path.nv-point").watchTransition(V,"scatter exit").attr("transform",function(t){return"translate("+i.utils.NaNtoZero(f(v(t[0],t[1])))+","+i.utils.NaNtoZero(p(m(t[0],t[1])))+")"}).remove(),rt.filter(function(t){return $||getDiffs(t,"x","y")}).watchTransition(V,"scatter points").attr("transform",function(t){return"translate("+i.utils.NaNtoZero(f(v(t[0],t[1])))+","+i.utils.NaNtoZero(p(m(t[0],t[1])))+")"}),rt.filter(function(t){return $||getDiffs(t,"shape","size")}).watchTransition(V,"scatter points").attr("d",i.utils.symbol().type(function(t){return _(t[0])}).size(function(t){return g(y(t[0],t[1]))})),G){var it=nt.selectAll(".nv-label").data(function(t){return t.values.map(function(t,e){return[t,e]}).filter(function(t,e){return M(t[0],e)})});it.enter().append("text").style("fill",function(t,e){return t.color}).style("stroke-opacity",0).style("fill-opacity",1).attr("transform",function(n){return"translate("+(i.utils.NaNtoZero(t(v(n[0],n[1])))+Math.sqrt(g(y(n[0],n[1]))/Math.PI)+2)+","+i.utils.NaNtoZero(e(m(n[0],n[1])))+")"}).text(function(t,e){return t[0].label}),it.exit().remove(),nt.exit().selectAll("path.nv-label").watchTransition(V,"scatter exit").attr("transform",function(t){return"translate("+(i.utils.NaNtoZero(f(v(t[0],t[1])))+Math.sqrt(g(y(t[0],t[1]))/Math.PI)+2)+","+i.utils.NaNtoZero(p(m(t[0],t[1])))+")"}).remove(),it.each(function(t){r.select(this).classed("nv-label",!0).classed("nv-label-"+t[1],!1).classed("hover",!1)}),it.watchTransition(V,"scatter labels").attr("transform",function(t){return"translate("+(i.utils.NaNtoZero(f(v(t[0],t[1])))+Math.sqrt(g(y(t[0],t[1]))/Math.PI)+2)+","+i.utils.NaNtoZero(p(m(t[0],t[1])))+")"})}H?(clearTimeout(a),a=setTimeout(updateInteractiveLayer,H)):updateInteractiveLayer(),t=f.copy(),e=p.copy(),n=g.copy()}),V.renderEnd("scatter immediate"),chart}var t,e,n,a,o,s={top:0,right:0,bottom:0,left:0},l=null,c=null,u=i.utils.defaultColor(),d=Math.floor(1e5*Math.random()),h=null,f=r.scale.linear(),p=r.scale.linear(),g=r.scale.linear(),v=function(t){return t.x},m=function(t){return t.y},y=function(t){return t.size||1},_=function(t){return t.shape||"circle"},x=[],b=[],k=[],w=!0,M=function(t){return!t.notActive},C=!1,S=.1,A=!1,E=!0,T=!1,L=function(){return 25},D=null,F=null,N=null,P=null,z=null,R=null,B=!1,I=r.dispatch("elementClick","elementDblClick","elementMouseover","elementMouseout","renderEnd"),W=!0,O=250,H=300,G=!1,j=!1,V=i.utils.renderWatch(I,O),Y=[16,256];return chart.dispatch=I,chart.options=i.utils.optionsFunc.bind(chart),chart._calls=new function(){this.clearHighlights=function(){return i.dom.write(function(){h.selectAll(".nv-point.hover").classed("hover",!1)}),null},this.highlightPoint=function(t,e,n){i.dom.write(function(){h.select(".nv-groups").selectAll(".nv-series-"+t).selectAll(".nv-point-"+e).classed("hover",n)})}},I.on("elementMouseover.point",function(t){w&&chart._calls.highlightPoint(t.seriesIndex,t.pointIndex,!0)}),I.on("elementMouseout.point",function(t){w&&chart._calls.highlightPoint(t.seriesIndex,t.pointIndex,!1)}),chart._options=Object.create({},{width:{get:function(){return l},set:function(t){l=t}},height:{get:function(){return c},set:function(t){c=t}},xScale:{get:function(){return f},set:function(t){f=t}},yScale:{get:function(){return p},set:function(t){p=t}},pointScale:{get:function(){return g},set:function(t){g=t}},xDomain:{get:function(){return D},set:function(t){D=t}},yDomain:{get:function(){return F},set:function(t){F=t}},pointDomain:{get:function(){return z},set:function(t){z=t}},xRange:{get:function(){return N},set:function(t){N=t}},yRange:{get:function(){return P},set:function(t){P=t}},pointRange:{get:function(){return R},set:function(t){R=t}},forceX:{get:function(){return x},set:function(t){x=t}},forceY:{get:function(){return b},set:function(t){b=t}},forcePoint:{get:function(){return k},set:function(t){k=t}},interactive:{get:function(){return w},set:function(t){w=t}},pointActive:{get:function(){return M},set:function(t){M=t}},padDataOuter:{get:function(){return S},set:function(t){S=t}},padData:{get:function(){return C},set:function(t){C=t}},clipEdge:{get:function(){return A},set:function(t){A=t}},clipVoronoi:{get:function(){return E},set:function(t){E=t}},clipRadius:{get:function(){return L},set:function(t){L=t}},showVoronoi:{get:function(){return T},set:function(t){T=t}},id:{get:function(){return d},set:function(t){d=t}},interactiveUpdateDelay:{get:function(){return H},set:function(t){H=t}},showLabels:{get:function(){return G},set:function(t){G=t}},x:{get:function(){return v},set:function(t){v=r.functor(t)}},y:{get:function(){return m},set:function(t){m=r.functor(t)}},pointSize:{get:function(){return y},set:function(t){y=r.functor(t)}},pointShape:{get:function(){return _},set:function(t){_=r.functor(t)}},margin:{get:function(){return s},set:function(t){s.top=void 0!==t.top?t.top:s.top,s.right=void 0!==t.right?t.right:s.right,s.bottom=void 0!==t.bottom?t.bottom:s.bottom,s.left=void 0!==t.left?t.left:s.left}},duration:{get:function(){return O},set:function(t){O=t,V.reset(O)}},color:{get:function(){return u},set:function(t){u=i.utils.getColor(t)}},useVoronoi:{get:function(){return W},set:function(t){!1===(W=t)&&(E=!1)}}}),i.utils.initOptions(chart),chart},i.models.scatterChart=function(){"use strict";function chart(C){return L.reset(),L.models(t),_&&L.models(e),x&&L.models(n),v&&L.models(o),m&&L.models(s),C.each(function(C){h=r.select(this),i.utils.initSVG(h);var N=i.utils.availableWidth(u,h,c),P=i.utils.availableHeight(d,h,c);if(chart.update=function(){0===S?h.call(chart):h.transition().duration(S).call(chart)},chart.container=this,k.setter(F(C),chart.update).getter(D(C)).update(),k.disabled=C.map(function(t){return!!t.disabled}),!w){var z;w={};for(z in k)k[z]instanceof Array?w[z]=k[z].slice(0):w[z]=k[z]}if(!(C&&C.length&&C.filter(function(t){return t.values.length}).length))return i.utils.noData(chart,h),L.renderEnd("scatter immediate"),chart;h.selectAll(".nv-noData").remove(),p=t.xScale(),g=t.yScale();var R=h.selectAll("g.nv-wrap.nv-scatterChart").data([C]),B=R.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+t.id()),I=B.append("g"),W=R.select("g");if(I.append("rect").attr("class","nvd3 nv-background").style("pointer-events","none"),I.append("g").attr("class","nv-x nv-axis"),I.append("g").attr("class","nv-y nv-axis"),I.append("g").attr("class","nv-scatterWrap"),I.append("g").attr("class","nv-regressionLinesWrap"),I.append("g").attr("class","nv-distWrap"),I.append("g").attr("class","nv-legendWrap"),b&&W.select(".nv-y.nv-axis").attr("transform","translate("+N+",0)"),y){var O=N;a.width(O),R.select(".nv-legendWrap").datum(C).call(a),a.height()>c.top&&(c.top=a.height(),P=i.utils.availableHeight(d,h,c)),R.select(".nv-legendWrap").attr("transform","translate(0,"+-c.top+")")}else W.select(".nv-legendWrap").selectAll("*").remove();R.attr("transform","translate("+c.left+","+c.top+")"),t.width(N).height(P).color(C.map(function(t,e){return t.color=t.color||f(t,e),t.color}).filter(function(t,e){return!C[e].disabled})).showLabels(A),R.select(".nv-scatterWrap").datum(C.filter(function(t){return!t.disabled})).call(t),R.select(".nv-regressionLinesWrap").attr("clip-path","url(#nv-edge-clip-"+t.id()+")");var H=R.select(".nv-regressionLinesWrap").selectAll(".nv-regLines").data(function(t){return t});H.enter().append("g").attr("class","nv-regLines");var G=H.selectAll(".nv-regLine").data(function(t){return[t]});G.enter().append("line").attr("class","nv-regLine").style("stroke-opacity",0),G.filter(function(t){return t.intercept&&t.slope}).watchTransition(L,"scatterPlusLineChart: regline").attr("x1",p.range()[0]).attr("x2",p.range()[1]).attr("y1",function(t,e){return g(p.domain()[0]*t.slope+t.intercept)}).attr("y2",function(t,e){return g(p.domain()[1]*t.slope+t.intercept)}).style("stroke",function(t,e,n){return f(t,n)}).style("stroke-opacity",function(t,e){return t.disabled||void 0===t.slope||void 0===t.intercept?0:1}),_&&(e.scale(p)._ticks(i.utils.calcTicksX(N/100,C)).tickSize(-P,0),W.select(".nv-x.nv-axis").attr("transform","translate(0,"+g.range()[0]+")").call(e)),x&&(n.scale(g)._ticks(i.utils.calcTicksY(P/36,C)).tickSize(-N,0),W.select(".nv-y.nv-axis").call(n)),v&&(o.getData(t.x()).scale(p).width(N).color(C.map(function(t,e){return t.color||f(t,e)}).filter(function(t,e){return!C[e].disabled})),I.select(".nv-distWrap").append("g").attr("class","nv-distributionX"),W.select(".nv-distributionX").attr("transform","translate(0,"+g.range()[0]+")").datum(C.filter(function(t){return!t.disabled})).call(o)),m&&(s.getData(t.y()).scale(g).width(P).color(C.map(function(t,e){return t.color||f(t,e)}).filter(function(t,e){return!C[e].disabled})),I.select(".nv-distWrap").append("g").attr("class","nv-distributionY"),W.select(".nv-distributionY").attr("transform","translate("+(b?N:-s.size())+",0)").datum(C.filter(function(t){return!t.disabled})).call(s)),a.dispatch.on("stateChange",function(t){for(var e in t)k[e]=t[e];M.stateChange(k),chart.update()}),M.on("changeState",function(t){void 0!==t.disabled&&(C.forEach(function(e,n){e.disabled=t.disabled[n]}),k.disabled=t.disabled),chart.update()}),t.dispatch.on("elementMouseout.tooltip",function(e){l.hidden(!0),h.select(".nv-chart-"+t.id()+" .nv-series-"+e.seriesIndex+" .nv-distx-"+e.pointIndex).attr("y1",0),h.select(".nv-chart-"+t.id()+" .nv-series-"+e.seriesIndex+" .nv-disty-"+e.pointIndex).attr("x2",s.size())}),t.dispatch.on("elementMouseover.tooltip",function(t){h.select(".nv-series-"+t.seriesIndex+" .nv-distx-"+t.pointIndex).attr("y1",t.relativePos[1]-P),h.select(".nv-series-"+t.seriesIndex+" .nv-disty-"+t.pointIndex).attr("x2",t.relativePos[0]+o.size()),l.data(t).hidden(!1)}),E=p.copy(),T=g.copy()}),L.renderEnd("scatter with line immediate"),chart}var t=i.models.scatter(),e=i.models.axis(),n=i.models.axis(),a=i.models.legend(),o=i.models.distribution(),s=i.models.distribution(),l=i.models.tooltip(),c={top:30,right:20,bottom:50,left:75},u=null,d=null,h=null,f=i.utils.defaultColor(),p=t.xScale(),g=t.yScale(),v=!1,m=!1,y=!0,_=!0,x=!0,b=!1,k=i.utils.state(),w=null,M=r.dispatch("stateChange","changeState","renderEnd"),C=null,S=250,A=!1;t.xScale(p).yScale(g),e.orient("bottom").tickPadding(10),n.orient(b?"right":"left").tickPadding(10),o.axis("x"),s.axis("y"),l.headerFormatter(function(t,n){return e.tickFormat()(t,n)}).valueFormatter(function(t,e){return n.tickFormat()(t,e)});var E,T,L=i.utils.renderWatch(M,S),D=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},F=function(t){return function(e){void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};return chart.dispatch=M,chart.scatter=t,chart.legend=a,chart.xAxis=e,chart.yAxis=n,chart.distX=o,chart.distY=s,chart.tooltip=l,chart.options=i.utils.optionsFunc.bind(chart),chart._options=Object.create({},{width:{get:function(){return u},set:function(t){u=t}},height:{get:function(){return d},set:function(t){d=t}},container:{get:function(){return h},set:function(t){h=t}},showDistX:{get:function(){return v},set:function(t){v=t}},showDistY:{get:function(){return m},set:function(t){m=t}},showLegend:{get:function(){return y},set:function(t){y=t}},showXAxis:{get:function(){return _},set:function(t){_=t}},showYAxis:{get:function(){return x},set:function(t){x=t}},defaultState:{get:function(){return w},set:function(t){w=t}},noData:{get:function(){return C},set:function(t){C=t}},duration:{get:function(){return S},set:function(t){S=t}},showLabels:{get:function(){return A},set:function(t){A=t}},margin:{get:function(){return c},set:function(t){c.top=void 0!==t.top?t.top:c.top,c.right=void 0!==t.right?t.right:c.right,c.bottom=void 0!==t.bottom?t.bottom:c.bottom,c.left=void 0!==t.left?t.left:c.left}},rightAlignYAxis:{get:function(){return b},set:function(t){b=t,n.orient(t?"right":"left")}},color:{get:function(){return f},set:function(t){f=i.utils.getColor(t),a.color(f),o.color(f),s.color(f)}}}),i.utils.inheritOptions(chart,t),i.utils.initOptions(chart),chart},i.models.sparkline=function(){"use strict";function chart(u){return _.reset(),u.each(function(u){var y=s-o.left-o.right,_=l-o.top-o.bottom;c=r.select(this),i.utils.initSVG(c),d.domain(t||r.extent(u,f)).range(n||[0,y]),h.domain(e||r.extent(u,p)).range(a||[_,0]);var x=c.selectAll("g.nv-wrap.nv-sparkline").data([u]),b=x.enter().append("g").attr("class","nvd3 nv-wrap nv-sparkline");b.append("g"),x.select("g");x.attr("transform","translate("+o.left+","+o.top+")");var k=x.selectAll("path").data(function(t){return[t]});k.enter().append("path"),k.exit().remove(),k.style("stroke",function(t,e){return t.color||g(t,e)}).attr("d",r.svg.line().x(function(t,e){return d(f(t,e))}).y(function(t,e){return h(p(t,e))}));var w=x.selectAll("circle.nv-point").data(function(t){function pointIndex(e){if(-1!=e){var n=t[e];return n.pointIndex=e,n}return null}var e=t.map(function(t,e){return p(t,e)}),n=pointIndex(e.lastIndexOf(h.domain()[1])),r=pointIndex(e.indexOf(h.domain()[0])),i=pointIndex(e.length-1);return[v?r:null,v?n:null,m?i:null].filter(function(t){return null!=t})});w.enter().append("circle"),w.exit().remove(),w.attr("cx",function(t,e){return d(f(t,t.pointIndex))}).attr("cy",function(t,e){return h(p(t,t.pointIndex))}).attr("r",2).attr("class",function(t,e){return f(t,t.pointIndex)==d.domain()[1]?"nv-point nv-currentValue":p(t,t.pointIndex)==h.domain()[0]?"nv-point nv-minValue":"nv-point nv-maxValue"})}),_.renderEnd("sparkline immediate"),chart}var t,e,n,a,o={top:2,right:0,bottom:2,left:0},s=400,l=32,c=null,u=!0,d=r.scale.linear(),h=r.scale.linear(),f=function(t){return t.x},p=function(t){return t.y},g=i.utils.getColor(["#000"]),v=!0,m=!0,y=r.dispatch("renderEnd"),_=i.utils.renderWatch(y);return chart.options=i.utils.optionsFunc.bind(chart),chart._options=Object.create({},{width:{get:function(){return s},set:function(t){s=t}},height:{get:function(){return l},set:function(t){l=t}},xDomain:{get:function(){return t},set:function(e){t=e}},yDomain:{get:function(){return e},set:function(t){e=t}},xRange:{get:function(){return n},set:function(t){n=t}},yRange:{get:function(){return a},set:function(t){a=t}},xScale:{get:function(){return d},set:function(t){d=t}},yScale:{get:function(){return h},set:function(t){h=t}},animate:{get:function(){return u},set:function(t){u=t}},showMinMaxPoints:{get:function(){return v},set:function(t){v=t}},showCurrentPoint:{get:function(){return m},set:function(t){m=t}},x:{get:function(){return f},set:function(t){f=r.functor(t)}},y:{get:function(){return p},set:function(t){p=r.functor(t)}},margin:{get:function(){return o},set:function(t){o.top=void 0!==t.top?t.top:o.top,o.right=void 0!==t.right?t.right:o.right,o.bottom=void 0!==t.bottom?t.bottom:o.bottom,o.left=void 0!==t.left?t.left:o.left}},color:{get:function(){return g},set:function(t){g=i.utils.getColor(t)}}}),chart.dispatch=y,i.utils.initOptions(chart),chart},i.models.sparklinePlus=function(){"use strict";function chart(g){return m.reset(),m.models(n),g.each(function(g){function updateValueLine(){if(!c){var e=w.selectAll(".nv-hoverValue").data(l),r=e.enter().append("g").attr("class","nv-hoverValue").style("stroke-opacity",0).style("fill-opacity",0);e.exit().transition().duration(250).style("stroke-opacity",0).style("fill-opacity",0).remove(),e.attr("transform",function(e){return"translate("+t(n.x()(g[e],e))+",0)"}).transition().duration(250).style("stroke-opacity",1).style("fill-opacity",1),l.length&&(r.append("line").attr("x1",0).attr("y1",-a.top).attr("x2",0).attr("y2",y),r.append("text").attr("class","nv-xValue").attr("x",-6).attr("y",-a.top).attr("text-anchor","end").attr("dy",".9em"),w.select(".nv-hoverValue .nv-xValue").text(u(n.x()(g[l[0]],l[0]))),r.append("text").attr("class","nv-yValue").attr("x",6).attr("y",-a.top).attr("text-anchor","start").attr("dy",".9em"),w.select(".nv-hoverValue .nv-yValue").text(d(n.y()(g[l[0]],l[0]))))}}function sparklineHover(){function getClosestIndex(t,e){for(var r=Math.abs(n.x()(t[0],0)-e),i=0,a=0;a<t.length;a++)Math.abs(n.x()(t[a],a)-e)<r&&(r=Math.abs(n.x()(t[a],a)-e),i=a);return i}if(!c){var e=r.mouse(this)[0]-a.left;l=[getClosestIndex(g,Math.round(t.invert(e)))],updateValueLine()}}var v=r.select(this);i.utils.initSVG(v);var m=i.utils.availableWidth(o,v,a),y=i.utils.availableHeight(s,v,a);if(chart.update=function(){v.call(chart)},chart.container=this,!g||!g.length)return i.utils.noData(chart,v),chart;v.selectAll(".nv-noData").remove();var _=n.y()(g[g.length-1],g.length-1);t=n.xScale(),e=n.yScale();var x=v.selectAll("g.nv-wrap.nv-sparklineplus").data([g]),b=x.enter().append("g").attr("class","nvd3 nv-wrap nv-sparklineplus"),k=b.append("g"),w=x.select("g");k.append("g").attr("class","nv-sparklineWrap"),k.append("g").attr("class","nv-valueWrap"),k.append("g").attr("class","nv-hoverArea"),x.attr("transform","translate("+a.left+","+a.top+")");var M=w.select(".nv-sparklineWrap");if(n.width(m).height(y),M.call(n),h){var C=w.select(".nv-valueWrap"),S=C.selectAll(".nv-currentValue").data([_]);S.enter().append("text").attr("class","nv-currentValue").attr("dx",p?-8:8).attr("dy",".9em").style("text-anchor",p?"end":"start"),S.attr("x",m+(p?a.right:0)).attr("y",f?function(t){return e(t)}:0).style("fill",n.color()(g[g.length-1],g.length-1)).text(d(_))}k.select(".nv-hoverArea").append("rect").on("mousemove",sparklineHover).on("click",function(){c=!c}).on("mouseout",function(){l=[],updateValueLine()}),w.select(".nv-hoverArea rect").attr("transform",function(t){return"translate("+-a.left+","+-a.top+")"}).attr("width",m+a.left+a.right).attr("height",y+a.top)}),m.renderEnd("sparklinePlus immediate"),chart}var t,e,n=i.models.sparkline(),a={top:15,right:100,bottom:10,left:50},o=null,s=null,l=[],c=!1,u=r.format(",r"),d=r.format(",.2f"),h=!0,f=!0,p=!1,g=null,v=r.dispatch("renderEnd"),m=i.utils.renderWatch(v);return chart.dispatch=v,chart.sparkline=n,chart.options=i.utils.optionsFunc.bind(chart),chart._options=Object.create({},{width:{get:function(){return o},set:function(t){o=t}},height:{get:function(){return s},set:function(t){s=t}},xTickFormat:{get:function(){return u},set:function(t){u=t}},yTickFormat:{get:function(){return d},set:function(t){d=t}},showLastValue:{get:function(){return h},set:function(t){h=t}},alignValue:{get:function(){return f},set:function(t){f=t}},rightAlignValue:{get:function(){return p},set:function(t){p=t}},noData:{get:function(){return g},set:function(t){g=t}},margin:{get:function(){return a},set:function(t){a.top=void 0!==t.top?t.top:a.top,a.right=void 0!==t.right?t.right:a.right,a.bottom=void 0!==t.bottom?t.bottom:a.bottom,a.left=void 0!==t.left?t.left:a.left}}}),i.utils.inheritOptions(chart,n),i.utils.initOptions(chart),chart},i.models.stackedArea=function(){"use strict";function chart(f){return b.reset(),b.models(y),f.each(function(f){var _=a-n.left-n.right,k=o-n.top-n.bottom;c=r.select(this),i.utils.initSVG(c),t=y.xScale(),e=y.yScale();var w=f;f.forEach(function(t,e){t.seriesIndex=e,t.values=t.values.map(function(t,n){return t.index=n,t.seriesIndex=e,t})});var M=f.filter(function(t){return!t.disabled});f=r.layout.stack().order(g).offset(p).values(function(t){return t.values}).x(u).y(d).out(function(t,e,n){t.display={y:n,y0:e}})(M);var C=c.selectAll("g.nv-wrap.nv-stackedarea").data([f]),S=C.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedarea"),A=S.append("defs"),E=S.append("g"),T=C.select("g");E.append("g").attr("class","nv-areaWrap"),E.append("g").attr("class","nv-scatterWrap"),C.attr("transform","translate("+n.left+","+n.top+")"),0==y.forceY().length&&y.forceY().push(0),y.width(_).height(k).x(u).y(function(t){if(void 0!==t.display)return t.display.y+t.display.y0}).color(f.map(function(t,e){return t.color=t.color||s(t,t.seriesIndex),t.color})),T.select(".nv-scatterWrap").datum(f).call(y),A.append("clipPath").attr("id","nv-edge-clip-"+l).append("rect"),C.select("#nv-edge-clip-"+l+" rect").attr("width",_).attr("height",k),T.attr("clip-path",m?"url(#nv-edge-clip-"+l+")":"");var L=r.svg.area().defined(h).x(function(e,n){return t(u(e,n))}).y0(function(t){return e(t.display.y0)}).y1(function(t){return e(t.display.y+t.display.y0)}).interpolate(v),D=r.svg.area().defined(h).x(function(e,n){return t(u(e,n))}).y0(function(t){return e(t.display.y0)}).y1(function(t){return e(t.display.y0)}),F=T.select(".nv-areaWrap").selectAll("path.nv-area").data(function(t){return t});F.enter().append("path").attr("class",function(t,e){return"nv-area nv-area-"+e}).attr("d",function(t,e){return D(t.values,t.seriesIndex)}).on("mouseover",function(t,e){r.select(this).classed("hover",!0),x.areaMouseover({point:t,series:t.key,pos:[r.event.pageX,r.event.pageY],seriesIndex:t.seriesIndex})}).on("mouseout",function(t,e){r.select(this).classed("hover",!1),x.areaMouseout({point:t,series:t.key,pos:[r.event.pageX,r.event.pageY],seriesIndex:t.seriesIndex})}).on("click",function(t,e){r.select(this).classed("hover",!1),x.areaClick({point:t,series:t.key,pos:[r.event.pageX,r.event.pageY],seriesIndex:t.seriesIndex})}),F.exit().remove(),F.style("fill",function(t,e){return t.color||s(t,t.seriesIndex)}).style("stroke",function(t,e){return t.color||s(t,t.seriesIndex)}),F.watchTransition(b,"stackedArea path").attr("d",function(t,e){return L(t.values,e)}),y.dispatch.on("elementMouseover.area",function(t){T.select(".nv-chart-"+l+" .nv-area-"+t.seriesIndex).classed("hover",!0)}),y.dispatch.on("elementMouseout.area",function(t){T.select(".nv-chart-"+l+" .nv-area-"+t.seriesIndex).classed("hover",!1)}),chart.d3_stackedOffset_stackPercent=function(t){var e,n,r,i=t.length,a=t[0].length,o=[];for(n=0;n<a;++n){for(e=0,r=0;e<w.length;e++)r+=d(w[e].values[n]);if(r)for(e=0;e<i;e++)t[e][n][1]/=r;else for(e=0;e<i;e++)t[e][n][1]=0}for(n=0;n<a;++n)o[n]=0;return o}}),b.renderEnd("stackedArea immediate"),chart}var t,e,n={top:0,right:0,bottom:0,left:0},a=960,o=500,s=i.utils.defaultColor(),l=Math.floor(1e5*Math.random()),c=null,u=function(t){return t.x},d=function(t){return t.y},h=function(t,e){return!isNaN(d(t,e))&&null!==d(t,e)},f="stack",p="zero",g="default",v="linear",m=!1,y=i.models.scatter(),_=250,x=r.dispatch("areaClick","areaMouseover","areaMouseout","renderEnd","elementClick","elementMouseover","elementMouseout");y.pointSize(2.2).pointDomain([2.2,2.2]);var b=i.utils.renderWatch(x,_);return chart.dispatch=x,chart.scatter=y,y.dispatch.on("elementClick",function(){x.elementClick.apply(this,arguments)}),y.dispatch.on("elementMouseover",function(){x.elementMouseover.apply(this,arguments)}),y.dispatch.on("elementMouseout",function(){x.elementMouseout.apply(this,arguments)}),chart.interpolate=function(t){return arguments.length?(v=t,chart):v},chart.duration=function(t){return arguments.length?(_=t,b.reset(_),y.duration(_),chart):_},chart.dispatch=x,chart.scatter=y,chart.options=i.utils.optionsFunc.bind(chart),chart._options=Object.create({},{width:{get:function(){return a},set:function(t){a=t}},height:{get:function(){return o},set:function(t){o=t}},defined:{get:function(){return h},set:function(t){h=t}},clipEdge:{get:function(){return m},set:function(t){m=t}},offset:{get:function(){return p},set:function(t){p=t}},order:{get:function(){return g},set:function(t){g=t}},interpolate:{get:function(){return v},set:function(t){v=t}},x:{get:function(){return u},set:function(t){u=r.functor(t)}},y:{get:function(){return d},set:function(t){d=r.functor(t)}},margin:{get:function(){return n},set:function(t){n.top=void 0!==t.top?t.top:n.top,n.right=void 0!==t.right?t.right:n.right,n.bottom=void 0!==t.bottom?t.bottom:n.bottom,n.left=void 0!==t.left?t.left:n.left}},color:{get:function(){return s},set:function(t){s=i.utils.getColor(t)}},style:{get:function(){return f},set:function(t){switch(f=t){case"stack":chart.offset("zero"),chart.order("default");break;case"stream":chart.offset("wiggle"),chart.order("inside-out");break;case"stream-center":chart.offset("silhouette"),chart.order("inside-out");break;case"expand":chart.offset("expand"),chart.order("default");break;case"stack_percent":chart.offset(chart.d3_stackedOffset_stackPercent),chart.order("default")}}},duration:{get:function(){return _},set:function(t){_=t,b.reset(_),y.duration(_)}}}),i.utils.inheritOptions(chart,y),i.utils.initOptions(chart),chart},i.models.stackedAreaChart=function(){"use strict";function chart(u){return z.reset(),z.models(n),y&&z.models(a),_&&z.models(o),u.each(function(u){function updateXAxis(){y&&V.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+O+")").transition().duration(F).call(a)}function updateYAxis(){if(_){if("expand"===n.style()||"stack_percent"===n.style()){var t=o.tickFormat();N&&t===W||(N=t),o.tickFormat(W)}else N&&(o.tickFormat(N),N=null);V.select(".nv-focus .nv-y.nv-axis").transition().duration(0).call(o)}}function onBrush(t){V.select(".nv-focus .nv-stackedWrap").datum(u.filter(function(t){return!t.disabled}).map(function(e,r){return{key:e.key,area:e.area,classed:e.classed,values:e.values.filter(function(e,r){return n.x()(e,r)>=t[0]&&n.x()(e,r)<=t[1]}),disableTooltip:e.disableTooltip}})).transition().duration(F).call(n),updateXAxis(),updateYAxis()}var A=r.select(this);i.utils.initSVG(A);var z=i.utils.availableWidth(f,A,h),O=i.utils.availableHeight(p,A,h)-(b?d.height():0);if(chart.update=function(){A.transition().duration(F).call(chart)},chart.container=this,C.setter(I(u),chart.update).getter(B(u)).update(),C.disabled=u.map(function(t){return!!t.disabled}),!S){var H;S={};for(H in C)C[H]instanceof Array?S[H]=C[H].slice(0):S[H]=C[H]}if(!(u&&u.length&&u.filter(function(t){return t.values.length}).length))return i.utils.noData(chart,A),chart;A.selectAll(".nv-noData").remove(),t=n.xScale(),e=n.yScale();var G=A.selectAll("g.nv-wrap.nv-stackedAreaChart").data([u]),j=G.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedAreaChart").append("g"),V=G.select("g");j.append("g").attr("class","nv-legendWrap"),j.append("g").attr("class","nv-controlsWrap");var Y=j.append("g").attr("class","nv-focus");Y.append("g").attr("class","nv-background").append("rect"),Y.append("g").attr("class","nv-x nv-axis"),Y.append("g").attr("class","nv-y nv-axis"),Y.append("g").attr("class","nv-stackedWrap"),Y.append("g").attr("class","nv-interactive");j.append("g").attr("class","nv-focusWrap");if(m){var q=v?z-T:z;s.width(q),V.select(".nv-legendWrap").datum(u).call(s),s.height()>h.top&&(h.top=s.height(),O=i.utils.availableHeight(p,A,h)-(b?d.height():0)),V.select(".nv-legendWrap").attr("transform","translate("+(z-q)+","+-h.top+")")}else V.select(".nv-legendWrap").selectAll("*").remove();if(v){var U=[{key:D.stacked||"Stacked",metaKey:"Stacked",disabled:"stack"!=n.style(),style:"stack"},{key:D.stream||"Stream",metaKey:"Stream",disabled:"stream"!=n.style(),style:"stream"},{key:D.expanded||"Expanded",metaKey:"Expanded",disabled:"expand"!=n.style(),style:"expand"},{key:D.stack_percent||"Stack %",metaKey:"Stack_Percent",disabled:"stack_percent"!=n.style(),style:"stack_percent"}];T=L.length/3*260,U=U.filter(function(t){return-1!==L.indexOf(t.metaKey)}),l.width(T).color(["#444","#444","#444"]),V.select(".nv-controlsWrap").datum(U).call(l),Math.max(l.height(),s.height())>h.top&&(h.top=Math.max(l.height(),s.height()),O=i.utils.availableHeight(p,A,h)),V.select(".nv-controlsWrap").attr("transform","translate(0,"+-h.top+")")}else V.select(".nv-controlsWrap").selectAll("*").remove();G.attr("transform","translate("+h.left+","+h.top+")"),x&&V.select(".nv-y.nv-axis").attr("transform","translate("+z+",0)"),k&&(c.width(z).height(O).margin({left:h.left,top:h.top}).svgContainer(A).xScale(t),G.select(".nv-interactive").call(c)),V.select(".nv-focus .nv-background rect").attr("width",z).attr("height",O),n.width(z).height(O).color(u.map(function(t,e){return t.color||g(t,e)}).filter(function(t,e){return!u[e].disabled}));var X=V.select(".nv-focus .nv-stackedWrap").datum(u.filter(function(t){return!t.disabled}));if(y&&a.scale(t)._ticks(i.utils.calcTicksX(z/100,u)).tickSize(-O,0),_){var Z;Z="wiggle"===n.offset()?0:i.utils.calcTicksY(O/36,u),o.scale(e)._ticks(Z).tickSize(-z,0)}if(b){d.width(z),V.select(".nv-focusWrap").attr("transform","translate(0,"+(O+h.bottom+d.margin().top)+")").datum(u.filter(function(t){return!t.disabled})).call(d);var $=d.brush.empty()?d.xDomain():d.brush.extent();null!==$&&onBrush($)}else X.transition().call(n),updateXAxis(),updateYAxis();n.dispatch.on("areaClick.toggle",function(t){1===u.filter(function(t){return!t.disabled}).length?u.forEach(function(t){t.disabled=!1}):u.forEach(function(e,n){e.disabled=n!=t.seriesIndex}),C.disabled=u.map(function(t){return!!t.disabled}),E.stateChange(C),chart.update()}),s.dispatch.on("stateChange",function(t){for(var e in t)C[e]=t[e];E.stateChange(C),chart.update()}),l.dispatch.on("legendClick",function(t,e){t.disabled&&(U=U.map(function(t){return t.disabled=!0,t}),t.disabled=!1,n.style(t.style),C.style=n.style(),E.stateChange(C),chart.update())}),c.dispatch.on("elementMousemove",function(t){n.clearHighlights();var e,a,o,s=[],l=0,d=!0;if(u.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(r,c){a=i.interactiveBisect(r.values,t.pointXValue,chart.x());var u=r.values[a];if(null!=chart.y()(u,a)&&n.highlightPoint(c,a,!0),void 0!==u){void 0===e&&(e=u),void 0===o&&(o=chart.xScale()(chart.x()(u,a)));var h="expand"==n.style()?u.display.y:chart.y()(u,a);s.push({key:r.key,value:h,color:g(r,r.seriesIndex),point:u}),w&&"expand"!=n.style()&&null!=h&&(l+=h,d=!1)}}),s.reverse(),s.length>2){var h=chart.yScale().invert(t.mouseY),f=null;s.forEach(function(t,e){h=Math.abs(h);var n=Math.abs(t.point.display.y0),r=Math.abs(t.point.display.y);if(h>=n&&h<=r+n)return void(f=e)}),null!=f&&(s[f].highlight=!0)}w&&"expand"!=n.style()&&s.length>=2&&!d&&s.push({key:M,value:l,total:!0});var p=chart.x()(e,a),v=c.tooltip.valueFormatter();"expand"===n.style()||"stack_percent"===n.style()?(P||(P=v),v=r.format(".1%")):P&&(v=P,P=null),c.tooltip.valueFormatter(v).data({value:p,series:s})(),c.renderGuideLine(o)}),c.dispatch.on("elementMouseout",function(t){n.clearHighlights()}),d.dispatch.on("onBrush",function(t){onBrush(t)}),E.on("changeState",function(t){void 0!==t.disabled&&u.length===t.disabled.length&&(u.forEach(function(e,n){e.disabled=t.disabled[n]}),C.disabled=t.disabled),void 0!==t.style&&(n.style(t.style),R=t.style),chart.update()})}),z.renderEnd("stacked Area chart immediate"),chart}var t,e,n=i.models.stackedArea(),a=i.models.axis(),o=i.models.axis(),s=i.models.legend(),l=i.models.legend(),c=i.interactiveGuideline(),u=i.models.tooltip(),d=i.models.focus(i.models.stackedArea()),h={top:30,right:25,bottom:50,left:60},f=null,p=null,g=i.utils.defaultColor(),v=!0,m=!0,y=!0,_=!0,x=!1,b=!1,k=!1,w=!0,M="TOTAL",C=i.utils.state(),S=null,A=null,E=r.dispatch("stateChange","changeState","renderEnd"),T=250,L=["Stacked","Stream","Expanded"],D={},F=250;C.style=n.style(),a.orient("bottom").tickPadding(7),o.orient(x?"right":"left"),u.headerFormatter(function(t,e){return a.tickFormat()(t,e)}).valueFormatter(function(t,e){return o.tickFormat()(t,e)}),c.tooltip.headerFormatter(function(t,e){return a.tickFormat()(t,e)}).valueFormatter(function(t,e){return null==t?"N/A":o.tickFormat()(t,e)});var N=null,P=null;l.updateState(!1);var z=i.utils.renderWatch(E),R=n.style(),B=function(t){return function(){return{active:t.map(function(t){return!t.disabled}),style:n.style()}}},I=function(t){return function(e){void 0!==e.style&&(R=e.style),void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}},W=r.format("%");return n.dispatch.on("elementMouseover.tooltip",function(t){t.point.x=n.x()(t.point),t.point.y=n.y()(t.point),u.data(t).hidden(!1)}),n.dispatch.on("elementMouseout.tooltip",function(t){u.hidden(!0)}),chart.dispatch=E,chart.stacked=n,chart.legend=s,chart.controls=l,chart.xAxis=a,chart.x2Axis=d.xAxis,chart.yAxis=o,chart.y2Axis=d.yAxis,chart.interactiveLayer=c,chart.tooltip=u,chart.focus=d,chart.dispatch=E,chart.options=i.utils.optionsFunc.bind(chart),chart._options=Object.create({},{width:{get:function(){return f},set:function(t){f=t}},height:{get:function(){return p},set:function(t){p=t}},showLegend:{get:function(){return m},set:function(t){m=t}},showXAxis:{get:function(){return y},set:function(t){y=t}},showYAxis:{get:function(){return _},set:function(t){_=t}},defaultState:{get:function(){return S},set:function(t){S=t}},noData:{get:function(){return A},set:function(t){A=t}},showControls:{get:function(){return v},set:function(t){v=t}},controlLabels:{get:function(){return D},set:function(t){D=t}},controlOptions:{get:function(){return L},set:function(t){L=t}},showTotalInTooltip:{get:function(){return w},set:function(t){w=t}},totalLabel:{get:function(){return M},set:function(t){M=t}},focusEnable:{get:function(){return b},set:function(t){b=t}},focusHeight:{get:function(){return d.height()},set:function(t){d.height(t)}},brushExtent:{get:function(){return d.brushExtent()},set:function(t){d.brushExtent(t)}},margin:{get:function(){return h},set:function(t){h.top=void 0!==t.top?t.top:h.top,h.right=void 0!==t.right?t.right:h.right,h.bottom=void 0!==t.bottom?t.bottom:h.bottom,h.left=void 0!==t.left?t.left:h.left}},focusMargin:{get:function(){return d.margin},set:function(t){d.margin.top=void 0!==t.top?t.top:d.margin.top,d.margin.right=void 0!==t.right?t.right:d.margin.right,d.margin.bottom=void 0!==t.bottom?t.bottom:d.margin.bottom,d.margin.left=void 0!==t.left?t.left:d.margin.left}},duration:{get:function(){return F},set:function(t){F=t,z.reset(F),n.duration(F),a.duration(F),o.duration(F)}},color:{get:function(){return g},set:function(t){g=i.utils.getColor(t),s.color(g),n.color(g),d.color(g)}},x:{get:function(){return n.x()},set:function(t){n.x(t),d.x(t)}},y:{get:function(){return n.y()},set:function(t){n.y(t),d.y(t)}},rightAlignYAxis:{get:function(){return x},set:function(t){x=t,o.orient(x?"right":"left")}},useInteractiveGuideline:{get:function(){return k},set:function(t){k=!!t,chart.interactive(!t),chart.useVoronoi(!t),n.scatter.interactive(!t)}}}),i.utils.inheritOptions(chart,n),i.utils.initOptions(chart),chart},i.models.stackedAreaWithFocusChart=function(){return i.models.stackedAreaChart().margin({bottom:30}).focusEnable(!0)},i.models.sunburst=function(){"use strict";function rotationToAvoidUpsideDown(t){return computeCenterAngle(t)>90?180:0}function computeCenterAngle(t){return(Math.max(0,Math.min(2*Math.PI,k(t.x)))+Math.max(0,Math.min(2*Math.PI,k(t.x+t.dx))))/2*(180/Math.PI)-90}function computeNodePercentage(t){var e=Math.max(0,Math.min(2*Math.PI,k(t.x)));return(Math.max(0,Math.min(2*Math.PI,k(t.x+t.dx)))-e)/(2*Math.PI)}function labelThresholdMatched(t){var e=Math.max(0,Math.min(2*Math.PI,k(t.x)));return Math.max(0,Math.min(2*Math.PI,k(t.x+t.dx)))-e>v}function arcTweenZoom(e,n){var i=r.interpolate(k.domain(),[t.x,t.x+t.dx]),o=r.interpolate(w.domain(),[t.y,1]),s=r.interpolate(w.range(),[t.y?20:0,a]);return 0===n?function(){return S(e)}:function(t){return k.domain(i(t)),w.domain(o(t)).range(s(t)),S(e)}}function arcTweenUpdate(t){var e=r.interpolate({x:t.x0,dx:t.dx0,y:t.y0,dy:t.dy0},t);return function(n){var r=e(n);return t.x0=r.x,t.dx0=r.dx,t.y0=r.y,t.dy0=r.dy,S(r)}}function updatePrevPosition(t){var e=y(t);C[e]||(C[e]={});var n=C[e];n.dx=t.dx,n.x=t.x,n.dy=t.dy,n.y=t.y}function storeRetrievePrevPositions(t){t.forEach(function(t){var e=y(t),n=C[e];n?(t.dx0=n.dx,t.x0=n.x,t.dy0=n.dy,t.y0=n.y):(t.dx0=t.dx,t.x0=t.x,t.dy0=t.dy,t.y0=t.y),updatePrevPosition(t)})}function zoomClick(e){var n=h.selectAll("text"),i=h.selectAll("path");n.transition().attr("opacity",0),t=e,i.transition().duration(x).attrTween("d",arcTweenZoom).each("end",function(t){if(t.x>=e.x&&t.x<e.x+e.dx&&t.depth>=e.depth){r.select(this.parentNode).select("text").transition().duration(x).text(function(t){return g(t)}).attr("opacity",function(t){return labelThresholdMatched(t)?1:0}).attr("transform",function(){var n=this.getBBox().width;if(0===t.depth)return"translate("+n/2*-1+",0)";if(t.depth===e.depth)return"translate("+(w(t.y)+5)+",0)";var r=computeCenterAngle(t),i=rotationToAvoidUpsideDown(t);return 0===i?"rotate("+r+")translate("+(w(t.y)+5)+",0)":"rotate("+r+")translate("+(w(t.y)+n+5)+",0)rotate("+i+")"})}})}function chart(t){return A.reset(),t.each(function(t){h=r.select(this),e=i.utils.availableWidth(s,h,o),n=i.utils.availableHeight(l,h,o),a=Math.min(e,n)/2,w.range([0,a]);var v=h.select("g.nvd3.nv-wrap.nv-sunburst");v[0][0]?v.attr("transform","translate("+(e/2+o.left+o.right)+","+(n/2+o.top+o.bottom)+")"):v=h.append("g").attr("class","nvd3 nv-wrap nv-sunburst nv-chart-"+d).attr("transform","translate("+(e/2+o.left+o.right)+","+(n/2+o.top+o.bottom)+")"),h.on("click",function(t,e){b.chartClick({data:t,index:e,pos:r.event,id:d})}),M.value(u[c]||u.count);var m=M.nodes(t[0]).reverse();storeRetrievePrevPositions(m);var k=v.selectAll(".arc-container").data(m,y);k.enter().append("g").attr("class","arc-container").append("path").attr("d",S).style("fill",function(t){return t.color?t.color:f(_?(t.children?t:t.parent).name:t.name)}).style("stroke","#FFF").on("click",zoomClick).on("mouseover",function(t,e){r.select(this).classed("hover",!0).style("opacity",.8),b.elementMouseover({data:t,color:r.select(this).style("fill"),percent:computeNodePercentage(t)})}).on("mouseout",function(t,e){r.select(this).classed("hover",!1).style("opacity",1),b.elementMouseout({data:t})}).on("mousemove",function(t,e){b.elementMousemove({data:t})}),k.each(function(t){r.select(this).select("path").transition().duration(x).attrTween("d",arcTweenUpdate)}),p&&(k.selectAll("text").remove(),k.append("text").text(function(t){return g(t)}).transition().duration(x).attr("opacity",function(t){return labelThresholdMatched(t)?1:0}).attr("transform",function(t){var e=this.getBBox().width;if(0===t.depth)return"rotate(0)translate("+e/2*-1+",0)";var n=computeCenterAngle(t),r=rotationToAvoidUpsideDown(t);return 0===r?"rotate("+n+")translate("+(w(t.y)+5)+",0)":"rotate("+n+")translate("+(w(t.y)+e+5)+",0)rotate("+r+")"})),zoomClick(m[m.length-1]),k.exit().transition().duration(x).attr("opacity",0).each("end",function(t){var e=y(t);C[e]=void 0}).remove()}),A.renderEnd("sunburst immediate"),chart}var t,e,n,a,o={top:0,right:0,bottom:0,left:0},s=600,l=600,c="count",u={count:function(t){return 1},value:function(t){return t.value||t.size},size:function(t){return t.value||t.size}},d=Math.floor(1e4*Math.random()),h=null,f=i.utils.defaultColor(),p=!1,g=function(t){return"count"===c?t.name+" #"+t.value:t.name+" "+(t.value||t.size)},v=.02,m=function(t,e){return t.name>e.name},y=function(t,e){return t.name},_=!0,x=500,b=r.dispatch("chartClick","elementClick","elementDblClick","elementMousemove","elementMouseover","elementMouseout","renderEnd"),k=r.scale.linear().range([0,2*Math.PI]),w=r.scale.sqrt(),M=r.layout.partition().sort(m),C={},S=r.svg.arc().startAngle(function(t){return Math.max(0,Math.min(2*Math.PI,k(t.x)))}).endAngle(function(t){return Math.max(0,Math.min(2*Math.PI,k(t.x+t.dx)))}).innerRadius(function(t){return Math.max(0,w(t.y))}).outerRadius(function(t){return Math.max(0,w(t.y+t.dy))}),A=i.utils.renderWatch(b);return chart.dispatch=b,chart.options=i.utils.optionsFunc.bind(chart),chart._options=Object.create({},{width:{get:function(){return s},set:function(t){s=t}},height:{get:function(){return l},set:function(t){l=t}},mode:{get:function(){return c},set:function(t){c=t}},id:{get:function(){return d},set:function(t){d=t}},duration:{get:function(){return x},set:function(t){x=t}},groupColorByParent:{get:function(){return _},set:function(t){_=!!t}},showLabels:{get:function(){return p},set:function(t){p=!!t}},labelFormat:{get:function(){return g},set:function(t){g=t}},labelThreshold:{get:function(){return v},set:function(t){v=t}},sort:{get:function(){return m},set:function(t){m=t}},key:{get:function(){return y},set:function(t){y=t}},margin:{get:function(){return o},set:function(t){o.top=void 0!=t.top?t.top:o.top,o.right=void 0!=t.right?t.right:o.right,o.bottom=void 0!=t.bottom?t.bottom:o.bottom,o.left=void 0!=t.left?t.left:o.left}},color:{get:function(){return f},set:function(t){f=i.utils.getColor(t)}}}),i.utils.initOptions(chart),chart},i.models.sunburstChart=function(){"use strict";function chart(e){return f.reset(),f.models(t),e.each(function(e){var s=r.select(this);i.utils.initSVG(s);var l=i.utils.availableWidth(a,s,n),c=i.utils.availableHeight(o,s,n);if(chart.update=function(){0===d?s.call(chart):s.transition().duration(d).call(chart)},chart.container=s,!e||!e.length)return i.utils.noData(chart,s),chart;s.selectAll(".nv-noData").remove(),t.width(l).height(c).margin(n),s.call(t)}),f.renderEnd("sunburstChart immediate"),chart}var t=i.models.sunburst(),e=i.models.tooltip(),n={top:30,right:20,bottom:20,left:20},a=null,o=null,s=i.utils.defaultColor(),l=!1,c=(Math.round(1e5*Math.random()),null),u=null,d=250,h=r.dispatch("stateChange","changeState","renderEnd"),f=i.utils.renderWatch(h);return e.duration(0).headerEnabled(!1).valueFormatter(function(t){return t}),t.dispatch.on("elementMouseover.tooltip",function(t){t.series={key:t.data.name,value:t.data.value||t.data.size,color:t.color,percent:t.percent},l||(delete t.percent,delete t.series.percent),e.data(t).hidden(!1)}),t.dispatch.on("elementMouseout.tooltip",function(t){e.hidden(!0)}),t.dispatch.on("elementMousemove.tooltip",function(t){e()}),chart.dispatch=h,chart.sunburst=t,chart.tooltip=e,chart.options=i.utils.optionsFunc.bind(chart),chart._options=Object.create({},{noData:{get:function(){return u},set:function(t){u=t}},defaultState:{get:function(){return c},set:function(t){c=t}},showTooltipPercent:{get:function(){return l},set:function(t){l=t}},color:{get:function(){return s},set:function(e){s=e,t.color(s)}},duration:{get:function(){return d},set:function(e){d=e,f.reset(d),t.duration(d)}},margin:{get:function(){return n},set:function(e){n.top=void 0!==e.top?e.top:n.top,n.right=void 0!==e.right?e.right:n.right,n.bottom=void 0!==e.bottom?e.bottom:n.bottom,n.left=void 0!==e.left?e.left:n.left,t.margin(n)}}}),i.utils.inheritOptions(chart,t),i.utils.initOptions(chart),chart},i.version="1.8.4"})()}).call(e,n(373))},915:function(t,e,n){"use strict";(function(t,r,i,a){Object.defineProperty(e,"__esModule",{value:!0});var o=n(10),s=function(){function Charts(){this.seriesData=[[],[]],this.data1=[[1,20],[2,20],[3,40],[4,30],[5,40],[6,35],[7,47]],this.data2=[[1,13],[2,8],[3,17],[4,10],[5,17],[6,15],[7,16]],this.data3=[[1,23],[2,13],[3,33],[4,16],[5,32],[6,28],[7,31]]}return Charts.prototype.applyRickshawData=function(){console.log(t),this.random=new t.Fixtures.RandomData(30);for(var e=0;e<30;e++)this.random.addData(this.seriesData);this.series=[{color:"#96E593",data:this.seriesData[0],name:"Uploads"},{color:"#ecfaec",data:this.seriesData[1],name:"Downloads"}]},Charts.prototype.applyNvd3Data=function(){function _stream_layers(t,e,n){function bump(t){for(var n=1/(.1+Math.random()),r=2*Math.random()-.5,i=10/(.1+Math.random()),a=0;a<e;a++){var o=(a/e-r)*i;t[a]+=n*Math.exp(-o*o)}}return arguments.length<3&&(n=0),r.range(t).map(function(){var t,r=[];for(t=0;t<e;t++)r[t]=n+n*Math.random();for(t=0;t<5;t++)bump(r);return r.map(function(t,e){return{x:e,y:Math.max(0,t)}})})}function testData(t,e){var n=(new Date).getTime(),r=864e5,i=60,a=i*r,o=n-a,s=e||45,l=i/s;return _stream_layers(t.length,s,.1).map(function(e,n){return{key:t[n],values:e.map(function(t,e){return{x:o+t.x*r*l,y:Math.floor(100*t.y)}})}})}this.nvd31Chart=i.models.lineChart().useInteractiveGuideline(!0).margin({left:28,bottom:30,right:0}).color(["#82DFD6","#ddd"]),this.nvd31Chart.xAxis.showMaxMin(!1).tickFormat(function(t){return r.time.format("%b %d")(new Date(t))}),this.nvd31Chart.yAxis.showMaxMin(!1).tickFormat(r.format(",f")),this.nvd31Data=testData(["Search","Referral"],50).map(function(t,e){return t.area=!0,t}),this.nvd32Chart=i.models.multiBarChart().margin({left:28,bottom:30,right:0}).color(["#F7653F","#ddd"]),this.nvd32Chart.xAxis.showMaxMin(!1).tickFormat(function(t){return r.time.format("%b %d")(new Date(t))}),this.nvd32Chart.yAxis.showMaxMin(!1).tickFormat(r.format(",f")),this.nvd32Data=testData(["Uploads","Downloads"],10).map(function(t,e){return t.area=!0,t})},Charts.prototype.ngOnInit=function(){this.applyRickshawData(),this.sparklineCompositeData=[[2,4,6,2,7,5,3,7,8,3,6],[5,3,7,8,3,6,2,4,6,2,7]],this.sparklineCompositeOptions=[{width:"99%",fillColor:"#ddd",height:"100px",lineColor:"transparent",spotColor:"#c0d0f0",minSpotColor:null,maxSpotColor:null,highlightSpotColor:"#ddd",highlightLineColor:"#ddd"},{lineColor:"transparent",spotColor:"#c0d0f0",fillColor:"rgba(192, 208, 240, 0.76)",minSpotColor:null,maxSpotColor:null,highlightSpotColor:"#ddd",highlightLineColor:"#ddd"}],this.sparklinePieData=[2,4,6],this.sparklinePieOptions={type:"pie",width:"100px",height:"100px",sliceColors:["#F5CB7B","#FAEEE5","#f0f0f0"]},this.applyNvd3Data(),this.morris1Options={resize:!0,data:[{y:"2006",a:100,b:90},{y:"2007",a:75,b:65},{y:"2008",a:50,b:40},{y:"2009",a:75,b:65},{y:"2010",a:50,b:40},{y:"2011",a:75,b:65},{y:"2012",a:100,b:90}],xkey:"y",ykeys:["a","b"],labels:["Series A","Series B"],lineColors:["#88C4EE","#ccc"]},this.morris2Options={resize:!0,data:[{y:"2006",a:100,b:90},{y:"2007",a:75,b:65},{y:"2008",a:50,b:40},{y:"2009",a:75,b:65},{y:"2010",a:50,b:40},{y:"2011",a:75,b:65},{y:"2012",a:100,b:90}],xkey:"y",ykeys:["a","b"],labels:["Series A","Series B"],lineColors:["#80DE78","#9EEE9B"],lineWidth:0},this.morris3Options={data:[{label:"Download Sales",value:12},{label:"In-Store Sales",value:30},{label:"Mail-Order Sales",value:20}],colors:["#F7653F","#F8C0A2","#e6e6e6"]},a(".easy-pie-chart").easyPieChart({barColor:"#5dc4bf",trackColor:"#ddd",scaleColor:!1,lineWidth:10,size:120});var t=[[13885344e5,120],[13912128e5,70],[1393632e6,100],[13963104e5,60],[13989024e5,35]],e=[[13885344e5,90],[13912128e5,60],[1393632e6,30],[13963104e5,73],[13989024e5,30]],n=[[13885344e5,80],[13912128e5,40],[1393632e6,47],[13963104e5,22],[13989024e5,24]];this.flotBarsData=[{label:"Apple",data:t,bars:{show:!0,barWidth:31104e4,fill:!0,lineWidth:0,order:1}},{label:"Google",data:e,bars:{show:!0,barWidth:31104e4,fill:!0,lineWidth:0,order:2}},{label:"Facebook",data:n,bars:{show:!0,barWidth:31104e4,fill:!0,lineWidth:0,order:3}}],this.flotBarsOptions={series:{bars:{show:!0,barWidth:36288e4,lineWidth:0,order:1,fillColor:{colors:[{opacity:1},{opacity:.7}]}}},xaxis:{mode:"time",min:13874976e5,max:1400112e6,tickLength:0,tickSize:[1,"month"],axisLabel:"Month",axisLabelUseCanvas:!0,axisLabelFontSizePixels:13,axisLabelPadding:15},yaxis:{axisLabel:"Value",axisLabelUseCanvas:!0,axisLabelFontSizePixels:13,axisLabelPadding:5},grid:{hoverable:!0,borderWidth:0},legend:{backgroundColor:"transparent",labelBoxBorderColor:"none"},colors:["#64bd63","#f0b518","#F7653F"]}},Charts}();s=__decorate([o.Component({selector:"[charts]",template:n(1122),styles:[n(1098)],encapsulation:o.ViewEncapsulation.None})],s),e.Charts=s}).call(e,n(374),n(373),n(484),n(23))},916:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(10),i=n(44),a=n(57);n(402),n(1051);var o=n(376),s=n(446),l=n(925),c=n(927),u=n(406),d=n(404),h=n(917),f=n(915);e.routes=[{path:"",component:f.Charts,pathMatch:"full"}];var p=function(){function ChartsModule(){}return ChartsModule}();p.routes=e.routes,p=__decorate([r.NgModule({imports:[i.CommonModule,o.WidgetModule,s.FlotChartModule,l.MorrisChartModule,c.Nvd3ChartModule,u.JqSparklineModule,d.RickshawChartModule,a.RouterModule.forChild(e.routes)],declarations:[f.Charts,h.FlotChartAnimator]})],p),e.ChartsModule=p},917:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r=n(10),i=n(184),a=function(){function FlotChartAnimator(e,n){this.config=n.getConfig(),this.$el=t(e.nativeElement)}return FlotChartAnimator.prototype.render=function(){function resize(){t.plotAnimator(n,e,{xaxis:{tickLength:0,tickDecimals:0,min:2,font:{lineHeight:13,weight:"bold",color:r.config.settings.colors["gray-semi-light"]}},yaxis:{tickDecimals:0,tickColor:"#f3f3f3",font:{lineHeight:13,weight:"bold",color:r.config.settings.colors["gray-semi-light"]}},grid:{backgroundColor:{colors:["#fff","#fff"]},borderWidth:1,borderColor:"#f0f0f0",margin:0,minBorderMargin:0,labelMargin:20,hoverable:!0,clickable:!0,mouseActiveRadius:6},legend:!1})}var e=this.data,n=this.$el,r=this;t(window).on("sn:resize",resize),resize()},FlotChartAnimator.prototype.ngAfterViewInit=function(){var t=this;setTimeout(function(){t.render()},100)},FlotChartAnimator}();__decorate([r.Input(),__metadata("design:type",Object)],a.prototype,"data",void 0),a=__decorate([r.Directive({selector:"[flot-chart-animator]"}),__metadata("design:paramtypes",[r.ElementRef,i.AppConfig])],a),e.FlotChartAnimator=a}).call(e,n(23))},924:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r=n(10),i=function(){function MorrisChart(e){this.$el=t(e.nativeElement)}return MorrisChart.prototype.capitalise=function(t){return t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()},MorrisChart.prototype.render=function(){this.$el.css({height:this.height}),window.Morris[this.capitalise(this.type)](t.extend({element:this.$el[0]},this.options))},MorrisChart.prototype.ngAfterViewInit=function(){var t=this;setTimeout(function(){t.render()},100)},MorrisChart}();__decorate([r.Input(),__metadata("design:type",Number)],i.prototype,"height",void 0),__decorate([r.Input(),__metadata("design:type",String)],i.prototype,"type",void 0),__decorate([r.Input(),__metadata("design:type",Object)],i.prototype,"options",void 0),i=__decorate([r.Directive({selector:"[morris-chart]"}),__metadata("design:paramtypes",[r.ElementRef])],i),e.MorrisChart=i}).call(e,n(23))},925:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(10);n(1069);var i=n(924),a=function(){function MorrisChartModule(){}return MorrisChartModule}();a=__decorate([r.NgModule({declarations:[i.MorrisChart],exports:[i.MorrisChart]})],a),e.MorrisChartModule=a},926:function(t,e,n){"use strict";(function(t,r,i){Object.defineProperty(e,"__esModule",{value:!0});var a=n(10),o=function(){function Nvd3Chart(e){this.$el=t(e.nativeElement)}return Nvd3Chart.prototype.render=function(){var e=this;r.addGraph(function(){var n=e.chart;return i.select(e.$el.find("svg")[0]).style("height",e.height||"300px").datum(e.datum).transition().duration(500).call(n),t(window).on("sn:resize",n.update),n})},Nvd3Chart.prototype.ngAfterViewInit=function(){var t=this;setTimeout(function(){t.render()},100)},Nvd3Chart}();__decorate([a.Input(),__metadata("design:type",Object)],o.prototype,"chart",void 0),__decorate([a.Input(),__metadata("design:type",String)],o.prototype,"height",void 0),__decorate([a.Input(),__metadata("design:type",Object)],o.prototype,"datum",void 0),o=__decorate([a.Directive({selector:"[nvd3-chart]"}),__metadata("design:paramtypes",[a.ElementRef])],o),e.Nvd3Chart=o}).call(e,n(23),n(484),n(373))},927:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(10),i=n(400);n(484);var a=n(926),o=function(){function Nvd3ChartModule(){}return Nvd3ChartModule}();o=__decorate([r.NgModule({imports:[i.D3Module],declarations:[a.Nvd3Chart],exports:[a.Nvd3Chart]})],o),e.Nvd3ChartModule=o}});